---
layout: page
title: "FHIR Chat  · TypeFilter and _include · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/TypeFilter.20and.20_include.html">TypeFilter and _include</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="270113492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/TypeFilter%20and%20_include/near/270113492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shamil Nizamov <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/TypeFilter.20and.20_include.html#270113492">(Jan 31 2022 at 22:09)</a>:</h4>
<p>Why is it  not possible, according to the Bulk Data Access API, to use <em>_include</em> with the <em>typeFilter</em>?<br>
For example, it does not seem I'm allowed to use this:<br>
<code>_type=Observation&amp;_typeFilter=Observation?_include=Observation:patient</code> OR <code>_type=Observation,Patient&amp;_typeFilter=Observation?_include=Observation:patient</code><br>
to return resources I'm looking for with the _include operator, or does it?</p>



<a name="270209774"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/TypeFilter%20and%20_include/near/270209774" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/TypeFilter.20and.20_include.html#270209774">(Feb 01 2022 at 13:36)</a>:</h4>
<p>firstly, <code>_typeFilter</code> is marked experimental and may not be widely supported.<br>
second, i'm not sure on the historical reason for disallowing it, but certainly allowing <code>_include</code> (and <code>_revinclude</code>) would complicate things.  the output needs to go into ndjson files on a per-type basis, so servers would need to route the match resources separate from the include ones.  it also complicates the auth story because a client with an access token for <code>scope: system/Observation.read</code> should not have read access to the Patient resources and to enforce that you'd either need to introspect the typeFilter values or check each resource type in the set. i think its doable, but I don't think we want to further complicate this feature when implementers may not even support the simpler variant</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
