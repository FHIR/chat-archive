---
layout: page
title: "FHIR Chat  · Group Export · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html">Group Export</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="198190012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/198190012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle Vondercrone <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#198190012">(May 20 2020 at 12:24)</a>:</h4>
<p>This may be an obvious question, but looking to resolve a difference of opinion.<br>
The FHIR operation for all data on a group of patients is:    GET [fhir base]/Group/[id]/$export.<br>
The brackets around id does NOT mean optional (as it does in HL7), correct?  It is just a representation for substitution, correct?<br>
Seems obvious that id is REQUIRED as part of the URL for group export.   But, I guess if not valued, it could be interpreted for get all patients.<br>
Please help me clarify.</p>



<a name="198191709"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/198191709" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#198191709">(May 20 2020 at 12:39)</a>:</h4>
<p>That is correct. URLs like <code>https://myfhirserver/Group/abc/$export</code> are valid but <code>https://myfhirserver/Group/$export</code> is not. To get all patients use <code>[fhir base]/Patient/$export</code>.</p>



<a name="203954621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203954621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle Vondercrone <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203954621">(Jul 15 2020 at 13:26)</a>:</h4>
<p>Looking for opinions <span class="user-mention" data-user-id="191414">@Dan Gottlieb</span> <br>
As part of Group Export, we are allowing configuration on our system for the Group.  Configuration will include the definition of the group id and will be associated with a database query to get the list of patients.   <br>
So, when the Group Export is initiated with the ID of the group configured in our system, the first step before retrieving the resource data will be to get the list of patients in the group by running the associated query.  <br>
In the case of the query returning no patients, this is not really an error, so is it valid to create an informatinoal OperationOutcome and upon status request return Complete with OperationOutcome in the Output?</p>
<p>{<br>
    "transactionTime": "[instant]",<br>
    "request" : "[base]/Patient/$export?_type=Patient,Observation",<br>
    "requiresAccessToken" : true,<br>
    "output" : [{<br>
      "type" : "OperationOutcome",<br>
      "url" : "<a href="http://serverpath2/OperationOutcome_file_1.ndjson">http://serverpath2/OperationOutcome_file_1.ndjson</a>"<br>
     }],<br>
    "error" : [ ]<br>
  }</p>



<a name="203965461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203965461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203965461">(Jul 15 2020 at 14:53)</a>:</h4>
<p>My inclination would be to use an empty output array  to indicate that no data is available for the group, but I'm curious what others folks think?</p>



<a name="203966467"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203966467" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203966467">(Jul 15 2020 at 15:00)</a>:</h4>
<p>Agreed Dan -- there's a close analogy to <a href="http://build.fhir.org/bundle-definitions.html#Bundle.entry.search.mode">http://build.fhir.org/bundle-definitions.html#Bundle.entry.search.mode</a></p>



<a name="203966498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203966498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203966498">(Jul 15 2020 at 15:00)</a>:</h4>
<p>which provides a clear way to indicate whether you are seeing a resource because it matched your search or because it is giving you information about your search.</p>



<a name="203966602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203966602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203966602">(Jul 15 2020 at 15:01)</a>:</h4>
<p>For the export operation, the closest bucket we have to this is called "error" -- perhaps we should expand the meaning of this field to encompass any operation outcomes that give you information about the result rather than strictly errors.</p>



<a name="203966865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203966865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203966865">(Jul 15 2020 at 15:03)</a>:</h4>
<p>I agree. I would expect an empty output array in such situation. (which means the group is empty)<br>
<span class="user-mention" data-user-id="191315">@Josh Mandel</span> I don't quite understand what information server could provide in the "expanded" error array</p>



<a name="203968995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203968995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Hall <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203968995">(Jul 15 2020 at 15:19)</a>:</h4>
<p>It's different than a search with query params that returns no results, but I think the idea is the same in that the server::<br>
Shall return 200<br>
May return an OperationOutcome with more information for the client to diagnosis the issue</p>



<a name="203969385"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203969385" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203969385">(Jul 15 2020 at 15:21)</a>:</h4>
<p>My goal is just to make sure a client never thinks that the operation outcome is a resource returned by the search. If you put it in the outputs array, that is the implication.</p>



<a name="203969678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203969678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203969678">(Jul 15 2020 at 15:23)</a>:</h4>
<p>So if we think it's important to return such an OperationOutcome, I'd like to make sure we put it somewhere other than the "outputs" array. Right now the only contender is the "errors" array, which is actually pretty close to what we want (but its scope is a bit too narrow -- today, it's just for information that represents an error, rather than any information that you want to convey alongside your export results).</p>



<a name="203970495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203970495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle Vondercrone <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203970495">(Jul 15 2020 at 15:29)</a>:</h4>
<p>Thanks for the feedback  everyone.  We can send an empty array in 'Output' and the informational Operation Outcome in 'Error' (if we an expand the scope of Error), otherwise my only other option is to have the request itself fail (which is not really correct either).</p>



<a name="203971619"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203971619" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203971619">(Jul 15 2020 at 15:36)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> That makes sense. Maybe we should also change the name "errors" to "issues" if we decide to expand that element</p>



<a name="203971968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203971968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203971968">(Jul 15 2020 at 15:38)</a>:</h4>
<p>Related question: why errors is required? It is not fun to return an empty array all the time where there is no "error".<br>
And this sentence is interesting: "If no errors occurred, the server SHOULD return an empty array." If errors is required and there is no error, what other options for server rather than returning an empty array. (It is SHOULD which means server MAY do something different.)</p>



<a name="203981232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203981232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203981232">(Jul 15 2020 at 16:46)</a>:</h4>
<p>Yup, agree that it's worth considering renaming the errors field and expanding its scope to include info and warning level OperationOutcomes. What do folks think of the name "issues" that <span class="user-mention" data-user-id="191506">@Yunwei Wang</span> proposed (I like that it aligns with the language used in the OperationOutcome)?</p>



<a name="203981554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203981554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203981554">(Jul 15 2020 at 16:49)</a>:</h4>
<p>Re: the errors array with no errors, I don't remember why we made it a SHOULD rather than a SHALL. It seems like we should either require an empty array or explicitly leave it up to servers to choose, since in the case of a SHOULD, clients will have to handle parsing both possibilities anyway. Thoughts?</p>



<a name="203984133"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203984133" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle Vondercrone <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203984133">(Jul 15 2020 at 17:11)</a>:</h4>
<p>I am good with Issue instead of Error.  I see Issue used in FHIR R4 OperationOutcome  definition:<br>
<a href="https://www.hl7.org/fhir/operationoutcome-example-exception.json.html">https://www.hl7.org/fhir/operationoutcome-example-exception.json.html</a><br>
<a href="https://www.hl7.org/fhir/operationoutcome-example-allok.json.html">https://www.hl7.org/fhir/operationoutcome-example-allok.json.html</a><br>
I wouldn't want to have to write an OperationOutcome though if all ok.  Could this be an empty array []?</p>



<a name="203984542"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203984542" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203984542">(Jul 15 2020 at 17:14)</a>:</h4>
<p>Changing the name of the property would be a breaking change</p>



<a name="203985705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203985705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203985705">(Jul 15 2020 at 17:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191912">@Michele Mottini</span> - I was thinking we could phase it by expanding the definition in v1.2 and renaming the field in v2 (didn't express that very well though :)</p>



<a name="203986019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/203986019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#203986019">(Jul 15 2020 at 17:27)</a>:</h4>
<p><span class="user-mention" data-user-id="258504">@Michelle Vondercrone</span> Agreed - would definitely want to continue allowing an empty error array (and/or omitting the property entirely, depending on what we decide on the other issue in this thread)</p>



<a name="222914052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/222914052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ritika Jain <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#222914052">(Jan 15 2021 at 19:43)</a>:</h4>
<p>hello,  can the groupings be pre-defined by server, for example on age bracket or a postal code etc. Also, where would the group ids be retrieved from, is there a request for that ? or have to be configured in the client ? <span class="user-mention" data-user-id="191414">@Dan Gottlieb</span>  <span class="user-mention" data-user-id="191315">@Josh Mandel</span></p>



<a name="222918034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/222918034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#222918034">(Jan 15 2021 at 20:09)</a>:</h4>
<p>Yup, the groups are FHIR Group resources (<a href="https://www.hl7.org/fhir/group.html">https://www.hl7.org/fhir/group.html</a>) so depending on the server they may be defined elsewhere and exposed through a FHIR interface (eg. patients in a postal code or the roster of patients for a particular plan at a payor) or could be groups of specific patients that a client can save to the server (as is the case in the CMS Data at the Point of Care project at <a href="https://dpc.cms.gov/docs#groups-attribution">https://dpc.cms.gov/docs#groups-attribution</a>).</p>



<a name="222918078"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/222918078" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#222918078">(Jan 15 2021 at 20:09)</a>:</h4>
<p>Based on the IG, servers should support listing and searching for Groups using the FHIR REST API. Of course some servers may omit that interface and rely on ids the client should already be know (eg. plan id numbers for particular payor)</p>



<a name="243612697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/243612697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Moin Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#243612697">(Jun 23 2021 at 06:51)</a>:</h4>
<p>I have few questions on group export. </p>
<p>Based on the discussion it is mentioned that the group details could be fetched from FHIR (<a href="https://www.hl7.org/fhir/group.html">https://www.hl7.org/fhir/group.html</a>). How do we create the group, who creates it?</p>
<p>In the inferno test (or any certification test), how does it get the group ids to verify? for eg The inferno test tool takes "fhir/Group/1/$export", how does it fetch the group id as 1?<br>
<span class="user-mention" data-user-id="191414">@Dan Gottlieb</span>  <span class="user-mention" data-user-id="191315">@Josh Mandel</span></p>



<a name="243648598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/243648598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#243648598">(Jun 23 2021 at 13:09)</a>:</h4>
<p>Groups can be created using normal FHIR POST / PUT interactions, or in some off-band ways specific to each system. The bulk specs do not say anything about that.</p>



<a name="243648718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/243648718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#243648718">(Jun 23 2021 at 13:10)</a>:</h4>
<p>Similar for the group id: clients have to know which id to use - they could search groups using normal FHIR searches or some other method like a pre-configured list</p>



<a name="243669518"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/243669518" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#243669518">(Jun 23 2021 at 15:32)</a>:</h4>
<p>Adding to this point, it's entirely possible that an EHR might only support "out of band" Group creation (e.g., register your client and get access to a pre-defined group, or upload a patient list to negotiate a new group through some administrative process, etc).</p>



<a name="243797253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/243797253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#243797253">(Jun 24 2021 at 14:49)</a>:</h4>
<p>Inferno assumes the group to be tested already exists on the server.</p>



<a name="247361064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Group%20Export/near/247361064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tom Lipcsey <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Group.20Export.html#247361064">(Jul 27 2021 at 17:00)</a>:</h4>
<p>Hi All,<br>
Great discussion.  I just want to clarify the expectation of the Population Query from the EHR Vendor API perspective.   The groups are created off a pre-determined cohort list from say an external pop health system.. i.e.  All patients over 65 who have not had a covid shot.  This list of patient ID's would be used in the creation of the FHIR group for the planned EHR query.   There is no expectation for the EHR Vendors API to do that search work, create the group and further manage it correct?   I.e.  This is a group imported from external system outside the EHR and managed by that outside system.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
