---
layout: page
title: "FHIR Chat  · Backend services authentication · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Backend.20services.20authentication.html">Backend services authentication</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="222736315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Backend%20services%20authentication/near/222736315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumanth Bandaru <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Backend.20services.20authentication.html#222736315">(Jan 14 2021 at 15:51)</a>:</h4>
<p>Hello everyone,</p>
<p>Has anyone implemented SMART backend services authentication (client credential grant flow with JWT)using Identity server 3 (.net)?</p>



<a name="222736475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Backend%20services%20authentication/near/222736475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Backend.20services.20authentication.html#222736475">(Jan 14 2021 at 15:52)</a>:</h4>
<p>We did - but only using RS256</p>



<a name="222740714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Backend%20services%20authentication/near/222740714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chuck Feltner <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Backend.20services.20authentication.html#222740714">(Jan 14 2021 at 16:18)</a>:</h4>
<p>We have as well.</p>



<a name="222743450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Backend%20services%20authentication/near/222743450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumanth Bandaru <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Backend.20services.20authentication.html#222743450">(Jan 14 2021 at 16:36)</a>:</h4>
<p>Thanks for the response Michele and Chunk. I have few questions regarding the implementation. Do you mind if we have private conversation ?</p>



<a name="222743595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Backend%20services%20authentication/near/222743595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Backend.20services.20authentication.html#222743595">(Jan 14 2021 at 16:36)</a>:</h4>
<p>Ask here please</p>



<a name="222748718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Backend%20services%20authentication/near/222748718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Ross <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Backend.20services.20authentication.html#222748718">(Jan 14 2021 at 17:10)</a>:</h4>
<p>Yes.  Please ask here so we can all learn.</p>



<a name="222753805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Backend%20services%20authentication/near/222753805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumanth Bandaru <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Backend.20services.20authentication.html#222753805">(Jan 14 2021 at 17:43)</a>:</h4>
<p>Sure. I have a question on how can we inject middle ware into ID3 that can understand and parse the JWT Client assertion from the request body ? Is there any link that you can provide which will be helpful for this scenario?</p>



<a name="222772688"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Backend%20services%20authentication/near/222772688" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Backend.20services.20authentication.html#222772688">(Jan 14 2021 at 19:45)</a>:</h4>
<p>When you create the client (Core.Model.Client) you have to set the ClientSecrets with the list of certificates to be used to verify the JWT signature:</p>
<div class="codehilite"><pre><span></span><code>                        client.ClientSecrets.Add( new Secret
                        {
                            Value = Convert.ToBase64String( cert.Export( X509ContentType.Cert ) ),
                            Type = Constants.SecretTypes.X509CertificateBase64,
                        } );
</code></pre></div>



<a name="222772815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Backend%20services%20authentication/near/222772815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Backend.20services.20authentication.html#222772815">(Jan 14 2021 at 19:46)</a>:</h4>
<p>IdentityServer takes care of the parsing and validation based on those certificates</p>



<a name="222782270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Backend%20services%20authentication/near/222782270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumanth Bandaru <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Backend.20services.20authentication.html#222782270">(Jan 14 2021 at 20:52)</a>:</h4>
<p>Thanks Michele. I appreciate it.</p>



<a name="222795556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Backend%20services%20authentication/near/222795556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumanth Bandaru <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Backend.20services.20authentication.html#222795556">(Jan 14 2021 at 22:37)</a>:</h4>
<p>Hi Michele, <br>
I used the code you sent. Looks like the Id3 has limitations on the value column in clientsecrets table. The Maximum value is defined as nvarchar(250) and the value I am getting from the certificate is more than 250 characters.  Did you change this limitation in your server?</p>



<a name="222799481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Backend%20services%20authentication/near/222799481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Backend.20services.20authentication.html#222799481">(Jan 14 2021 at 23:17)</a>:</h4>
<p>We use a custom client store and we actually read the certificate from the Windows certificate store</p>



<a name="222799604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Backend%20services%20authentication/near/222799604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Backend.20services.20authentication.html#222799604">(Jan 14 2021 at 23:18)</a>:</h4>
<p>I assume it is not a problem to increase the size of that column</p>



<a name="222800655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Backend%20services%20authentication/near/222800655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumanth Bandaru <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Backend.20services.20authentication.html#222800655">(Jan 14 2021 at 23:31)</a>:</h4>
<p>yeah. I will need to that and see if that works. Thanks</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
