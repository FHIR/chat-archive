---
layout: page
title: "FHIR Chat  · ✔ Parser available for import · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.E2.9C.94.20Parser.20available.20for.20import.html">✔ Parser available for import</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="254060066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/%E2%9C%94%20Parser%20available%20for%20import/near/254060066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Brady <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.E2.9C.94.20Parser.20available.20for.20import.html#254060066">(Sep 20 2021 at 14:36)</a>:</h4>
<p>Is there a parser available to convert ndjson files that were created by $export back to json so they can be imported into another Fhir server?</p>



<a name="254060200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/%E2%9C%94%20Parser%20available%20for%20import/near/254060200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Brady <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.E2.9C.94.20Parser.20available.20for.20import.html#254060200">(Sep 20 2021 at 14:37)</a>:</h4>
<p>From: Fhir on Azure server To: Azure API on Fhir server</p>



<a name="254061465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/%E2%9C%94%20Parser%20available%20for%20import/near/254061465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Brady <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.E2.9C.94.20Parser.20available.20for.20import.html#254061465">(Sep 20 2021 at 14:45)</a>:</h4>
<p>I set up an Azure Function to monitor an import folder and whenever I drop the ndjson files it returns an error that they are not proper json files and fails.</p>



<a name="254066049"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/%E2%9C%94%20Parser%20available%20for%20import/near/254066049" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Brady <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.E2.9C.94.20Parser.20available.20for.20import.html#254066049">(Sep 20 2021 at 15:15)</a>:</h4>
<p>SQL Server backend</p>



<a name="254091357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/%E2%9C%94%20Parser%20available%20for%20import/near/254091357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.E2.9C.94.20Parser.20available.20for.20import.html#254091357">(Sep 20 2021 at 17:59)</a>:</h4>
<p><span class="user-mention" data-user-id="433820">@Michael Brady</span>  - This Microsoft tool is supposed to do that: <a href="https://github.com/microsoft/fhir-loader">https://github.com/microsoft/fhir-loader</a></p>



<a name="254101802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/%E2%9C%94%20Parser%20available%20for%20import/near/254101802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Brady <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.E2.9C.94.20Parser.20available.20for.20import.html#254101802">(Sep 20 2021 at 19:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="298707">John Silva</span> <a href="#narrow/stream/179250-bulk-data/topic/Parser.20available.20for.20import/near/254091357">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="433820">Michael Brady</span>  - This Microsoft tool is supposed to do that: <a href="https://github.com/microsoft/fhir-loader">https://github.com/microsoft/fhir-loader</a></p>
</blockquote>
<p>that works to load the files once they are in json format. I'm trying to get the ndjson files into json files so I can use it.</p>



<a name="254107266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/%E2%9C%94%20Parser%20available%20for%20import/near/254107266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Brady <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.E2.9C.94.20Parser.20available.20for.20import.html#254107266">(Sep 20 2021 at 19:49)</a>:</h4>
<p><span class="user-mention" data-user-id="298707">@John Silva</span> My mistake - actually I read that too fast and I thought you were referencing the fhirloader tool from <span class="user-mention" data-user-id="195775">@Michael Hansen</span> which requires json files.<br>
I'm running the deployment now.</p>



<a name="254116183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/%E2%9C%94%20Parser%20available%20for%20import/near/254116183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Brady <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.E2.9C.94.20Parser.20available.20for.20import.html#254116183">(Sep 20 2021 at 20:53)</a>:</h4>
<p>Ok I got this deployed and it originally looked like it was working. I dropped all the ndjson files into the ndjson folder on the storage account and watched the App Insights Log Stream as it imported them. BUT when I go to test in Postman using https://{name}.azurehealthcareapis.com/Patient which should return pages of Patient data I get 14 lines in the response<br>
{<br>
    "resourceType": "Bundle",<br>
    "id": "7e4f390b5016a841b17382cd91cfff50",<br>
    "meta": {<br>
        "lastUpdated": "2021-09-20T20:47:04.7433617+00:00"<br>
    },<br>
    "type": "searchset",<br>
    "link": [<br>
        {<br>
            "relation": "self",<br>
            "url": "https://{name}.azurehealthcareapis.com/Patient"<br>
        }<br>
    ]<br>
}</p>



<a name="254116482"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/%E2%9C%94%20Parser%20available%20for%20import/near/254116482" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Brady <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.E2.9C.94.20Parser.20available.20for.20import.html#254116482">(Sep 20 2021 at 20:55)</a>:</h4>
<p>When I looked at a sample file in budles folder it appears to be using PUT rather than POST. </p>
<p>Do I have to open each of these and change them all to POST?</p>



<a name="254213701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/%E2%9C%94%20Parser%20available%20for%20import/near/254213701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.E2.9C.94.20Parser.20available.20for.20import.html#254213701">(Sep 21 2021 at 14:14)</a>:</h4>
<p>Hmm, reading the documentation on the MS fhir-loader page I assumed it "just worked".</p>



<a name="254369211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/%E2%9C%94%20Parser%20available%20for%20import/near/254369211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Brady <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.E2.9C.94.20Parser.20available.20for.20import.html#254369211">(Sep 22 2021 at 13:45)</a>:</h4>
<p>I tried deploying this twice. Both times I had to create the keys manually. Both times it gets to the point of authenticating to the Azure API for Fhir service and fails. 400 login error Authentication Failed https://{myservice}.azurehealthcareapis.com. I noticed that it is using {mytenant}/oauth2/token. When I try that in Postman it gets the token, but denies access. When I try {mytenant}/oauth2/v2.0/token in Postman it works and provides access to the data. But as I cannot get the data loaded from Fhir-Loader there is nothing to return. I have a call with the developer tomorrow, so I will post back my findings. He is saying that having to create the keys manually is highly irregular, so I must have provided something incorrect in the deployment.</p>



<a name="254570466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/%E2%9C%94%20Parser%20available%20for%20import/near/254570466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Brady <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.E2.9C.94.20Parser.20available.20for.20import.html#254570466">(Sep 23 2021 at 17:11)</a>:</h4>
<p>Worked with <span class="user-mention" data-user-id="374094">@Dale Emel</span>  today on this. We validated the install was correct. We found some issues with keys and permissions. We created a new App Registration. Saw some success with loading a patient "manually", but none with the FhirLoader. There is a admin grant operation I am waiting for. Will try again after that.</p>



<a name="254704756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/%E2%9C%94%20Parser%20available%20for%20import/near/254704756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Brady <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.E2.9C.94.20Parser.20available.20for.20import.html#254704756">(Sep 24 2021 at 13:37)</a>:</h4>
<p>Well the consent grant never happened. But I added the app registration to the keyvault and it worked! The fhir-loader ingests individual jsons and/or ndjsons. I had 3800 resources to load and it took ~30 min.</p>



<a name="254704771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/%E2%9C%94%20Parser%20available%20for%20import/near/254704771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.E2.9C.94.20Parser.20available.20for.20import.html#254704771">(Sep 24 2021 at 13:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="433820">Michael Brady</span> has marked this topic as resolved.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
