---
layout: page
title: "FHIR Chat  · /metadata response header · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.2Fmetadata.20response.20header.html">/metadata response header</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="223650205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic//metadata%20response%20header/near/223650205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.2Fmetadata.20response.20header.html#223650205">(Jan 22 2021 at 14:48)</a>:</h4>
<p>At last connectathon ONC track, we found a strange issue. The SMART bulk data reference server does not use 'Content-Type:application/fhir+json' is its response header for metadata request. Is this a bug or a reason behind it? <span class="user-mention" data-user-id="193731">@Vladimir Ignatov</span> <span class="user-mention" data-user-id="191414">@Dan Gottlieb</span> <br>
<a href="/user_uploads/10155/bro5jJoVYdtXsZvj1ZhqZfI9/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/bro5jJoVYdtXsZvj1ZhqZfI9/image.png" title="image.png"><img src="/user_uploads/10155/bro5jJoVYdtXsZvj1ZhqZfI9/image.png"></a></div>



<a name="223673923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic//metadata%20response%20header/near/223673923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.2Fmetadata.20response.20header.html#223673923">(Jan 22 2021 at 17:41)</a>:</h4>
<p>Could be considered a bug if it causes problems. The reason is that it is not a FHIR server and it replies with JSON by default. Is that preventing you from parsing the content somehow?</p>



<a name="223681314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic//metadata%20response%20header/near/223681314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.2Fmetadata.20response.20header.html#223681314">(Jan 22 2021 at 18:37)</a>:</h4>
<p>Not really. Inferno does not test the Content-Type header. It was actually caught by another testing application. That brings the question what the Content-Type of metadata response SHALL be. According to <a href="http://build.fhir.org/http.html#mime-type">http://build.fhir.org/http.html#mime-type</a>, the <strong>MIME-type of FHIR resources</strong> is application/fhir+json. <br>
IMO, CapabilityStatement is a FHIR resource so it SHALL be application/fhir+json.</p>



<a name="223771192"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic//metadata%20response%20header/near/223771192" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.2Fmetadata.20response.20header.html#223771192">(Jan 23 2021 at 19:49)</a>:</h4>
<p>Am I incorrect if I always match the Accept Header of the $export call? Does the bulk spec require a specific content type (for the manifest file)?</p>
<p>When nothing is specified the server can pick a default response format. Based upon my understanding.</p>



<a name="223976231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic//metadata%20response%20header/near/223976231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.2Fmetadata.20response.20header.html#223976231">(Jan 25 2021 at 23:10)</a>:</h4>
<p>The bulk data IG specifically says that the Accept header for $export SHALL be <code>application/fhir+json</code>. I believe the server SHALL throw out any $export request which does NOT have that header.<br>
The question I raised is on the /metadata endpoint. Bulk Data IG does not say anything about that.</p>



<a name="224191529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic//metadata%20response%20header/near/224191529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.2Fmetadata.20response.20header.html#224191529">(Jan 27 2021 at 14:51)</a>:</h4>
<p>A general question I would like to clarify. The FHIR spec at <a href="http://build.fhir.org/http.html#mime-type">http://build.fhir.org/http.html#mime-type</a> says that</p>
<blockquote>
<p>the MIME-type of FHIR resources is application/fhir+json.</p>
</blockquote>
<p>This applies to both FHIR servers and non-FHIR servers as long as the payload is a FHIR resource. Is my understanding correct? <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <span class="user-mention" data-user-id="191315">@Josh Mandel</span></p>



<a name="224192417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic//metadata%20response%20header/near/224192417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.2Fmetadata.20response.20header.html#224192417">(Jan 27 2021 at 14:56)</a>:</h4>
<p>I think it's a little bit slippery. the fhir specification is saying something true about this content type, but it is also true to say that the content type of fhir JSON resources is "application/json".</p>



<a name="224192485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic//metadata%20response%20header/near/224192485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.2Fmetadata.20response.20header.html#224192485">(Jan 27 2021 at 14:57)</a>:</h4>
<p>In any case, I think the behavior that originally raised the issue here is a bug in the bulk data reference server, and indeed a FHIR server ought to use the content type defined in the fhir specification</p>



<a name="224194226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic//metadata%20response%20header/near/224194226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.2Fmetadata.20response.20header.html#224194226">(Jan 27 2021 at 15:09)</a>:</h4>
<p>The question I am facing is that if the server response contains valid FHIR resource but the Content-Type is not 'application/fhir+json', should that be a test failure. My interpretation is based on the wording literally. The content-type is tied to the payload not the server type.  Actually, I don't know if there is any definition about what is a "FHIR server".</p>



<a name="224194490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic//metadata%20response%20header/near/224194490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/.2Fmetadata.20response.20header.html#224194490">(Jan 27 2021 at 15:10)</a>:</h4>
<p>if you are running a test suite against the thing and comparing its behavior with the fhir HTTP specification, then your test suite should trigger a failure here. The fact that you are testing it as a FHIR server is what brings these requirements to focus for me.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
