---
layout: page
title: "FHIR Chat  · Operation triggering the polling · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html">Operation triggering the polling</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="267589050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267589050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267589050">(Jan 11 2022 at 14:33)</a>:</h4>
<p>I'm working on an IG for registry submissions of large amounts of data (thousands of submission Bundles).  To do this, I'd like to use an operation to do the initial upload, possibly using a Binary resource as the input with an NDJSON file as the attachment.<br>
This would return an immediate OperationOutcome saying the upload is successful and then attaching a polling endpoint where an NDJON file of OperationOutcomes would be found that would give results of processing each line of the submission file.<br>
The registry is not willing to be fetching the data, they want the upload file.<br>
So, what would the headers look like for each step?  Everywhere I look seems to use a GET as the trigger for async and I want to use a POST of a Binary.  <br>
I wanted to use OperationOutcome.location to show the polling point but it's deprecated, so I'm assuming it has to be in the 202 Content-Location response</p>



<a name="267595692"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267595692" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267595692">(Jan 11 2022 at 15:16)</a>:</h4>
<p>I'm not quite understanding the flow. It sounds like a case for bulk import, but you're saying the bulk import spec is not workable?</p>



<a name="267595994"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267595994" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267595994">(Jan 11 2022 at 15:18)</a>:</h4>
<p>Right, unless I'm reading it wrong.  Bulk Import relies on the receiver fetching the data.  My receiver wants to have an NDJSON file uploaded, then set a polling point where the NDJSON file of OperationOutcome resources can be fetched, once all the lines in the uploaded file have been validated</p>



<a name="267596113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267596113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267596113">(Jan 11 2022 at 15:19)</a>:</h4>
<p>So, my plan is to POST a Binary with the uploaded file</p>



<a name="267596435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267596435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267596435">(Jan 11 2022 at 15:21)</a>:</h4>
<p>But what are the Operation Outcomes describing? And what's the rationale about "wants to have"?</p>



<a name="267596486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267596486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267596486">(Jan 11 2022 at 15:21)</a>:</h4>
<p>The 202 Accepted would have a OperationOutcome with results of verifying the JSON is correct and polling location where the OperationOutcomes that describe if the individual lines validate against the registry data dictionary requirements</p>



<a name="267596654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267596654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267596654">(Jan 11 2022 at 15:22)</a>:</h4>
<p>Their workflow is currently based on file submissions.  THey don't want to fetch all the Bundles for each encounter that triggered a submission</p>



<a name="267596711"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267596711" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267596711">(Jan 11 2022 at 15:23)</a>:</h4>
<p>THere could be thousands of submissions as a periodic submission set</p>



<a name="267596761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267596761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267596761">(Jan 11 2022 at 15:23)</a>:</h4>
<blockquote>
<p>So, my plan is to POST a Binary with the uploaded file</p>
</blockquote>
<p>You need an async custom operation, bulk import does not work like that</p>



<a name="267596787"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267596787" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267596787">(Jan 11 2022 at 15:23)</a>:</h4>
<p>Yep, that's why I'm here</p>



<a name="267597012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267597012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267597012">(Jan 11 2022 at 15:25)</a>:</h4>
<p>THe async FHIR docs don't talk about POST as the trigger so I'm a little confused</p>



<a name="267599048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267599048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267599048">(Jan 11 2022 at 15:38)</a>:</h4>
<p>Who in your design David is responsible for running the validations on each FHIR resource? And who is dereferencing the URLs provided in the bulk manifest?</p>



<a name="267599137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267599137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267599137">(Jan 11 2022 at 15:38)</a>:</h4>
<p>It would be the registry that receives the data</p>



<a name="267599226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267599226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267599226">(Jan 11 2022 at 15:39)</a>:</h4>
<p>But you're just going to synchronously upload gigabytes of data? With no resume capabilities, and no ability to control parallelism?</p>



<a name="267599290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267599290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267599290">(Jan 11 2022 at 15:40)</a>:</h4>
<p>That's what they want.  We're giving other options but they want this one spec'd out</p>



<a name="267600091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267600091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267600091">(Jan 11 2022 at 15:45)</a>:</h4>
<p>Is there room to discuss?</p>



<a name="267600263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267600263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267600263">(Jan 11 2022 at 15:46)</a>:</h4>
<p>There hasn't been so far.  I keep trying, though</p>



<a name="267613935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Operation%20triggering%20the%20polling/near/267613935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Raj Sankuratri <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Operation.20triggering.20the.20polling.html#267613935">(Jan 11 2022 at 17:15)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191414">@Dan Gottlieb</span> , can you post an example of what the response should look like when a bulk data client queries for all the Groups in the FHIR server it is authorized to see?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
