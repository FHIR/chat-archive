---
layout: page
title: "FHIR Chat  · Provenance · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html">Provenance</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="194720116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/194720116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle Vondercrone <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#194720116">(Apr 20 2020 at 19:13)</a>:</h4>
<p>In the patient- or group- bulk data request, looking for clarity on how to interpret the _type parameter when it includes the Provenance resource.</p>
<p>Take an example where on the patient- or group- level $export, the  _type = Patient, AllergyIntolernace, Provenance - what is intended?  Is Provenance to be returned for each resource included in the list – in this case Patient and AllergyIntolerance?  </p>
<p>Take another example where on the patient or group $export, the _type= Provenance.  Is the intention that this would be an invalid request?</p>
<p><span class="user-mention" data-user-id="191414">@Dan Gottlieb</span> <span class="user-mention" data-user-id="191315">@Josh Mandel</span></p>



<a name="195054615"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195054615" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle Vondercrone <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195054615">(Apr 23 2020 at 12:44)</a>:</h4>
<p>Insights anyone?</p>



<a name="195055507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195055507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195055507">(Apr 23 2020 at 12:51)</a>:</h4>
<p>Our server export Provenance for all resources. If you specify only Provenance I think it export just the provenances for the patients - but not sure</p>



<a name="195057105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195057105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195057105">(Apr 23 2020 at 13:04)</a>:</h4>
<p>Provenance can be attached to anything (Provenance.target), it is a reverse Include relationship. I suspect in bulk data you want a simple way to indicate that you do NOT want any Provenance, you want comprehensive Provenance of everything, you want only the last Provenance on everything, you want Provenance only on resources of a specific type (e..g Observation)...   right?   Is this the intention of the current bulk data provenance function? Is this beyond intended? Is this a blindspot that should be clarified?</p>



<a name="195068240"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195068240" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195068240">(Apr 23 2020 at 14:25)</a>:</h4>
<p><span class="user-mention" data-user-id="258504">@Michelle Vondercrone</span>  The IG describes the _type parameter as restricting the resources returned, so if a server returns a Provenance resource for each included resource as part of the full patient or group bulk export response I'd expect setting _type= Provenance to limit the response to just those</p>



<a name="195075996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195075996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195075996">(Apr 23 2020 at 15:13)</a>:</h4>
<p>It does, but I agree that it's unclear if that means "all provenance records for all the data for this patient" or "all provenance records for data we're also returning" or "only last provenance record for each item we're returning"</p>



<a name="195076106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195076106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195076106">(Apr 23 2020 at 15:14)</a>:</h4>
<p>The first seems not useful in the context of bulk data and provenance, but that's exactly what _type means for all other resources you would list, correct?</p>



<a name="195083314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195083314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195083314">(Apr 23 2020 at 16:05)</a>:</h4>
<p>Yup, agreed. If a client requests _type=AllergyIntolernace,Provenance, I'd expect the server to return Provenance resources associated with resources in the patient compartment including but not limited to AllergyIntollerance, which is probably more data than the client generally wants.</p>



<a name="195083326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195083326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195083326">(Apr 23 2020 at 16:05)</a>:</h4>
<p>I don't think there's anything in the IG that precludes a server from defining a specific behavior around this though - eg. I only return the most recent Provenance resource for a given resource and/or I only return Provenance associated with resources in the output data set.</p>



<a name="195083534"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195083534" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195083534">(Apr 23 2020 at 16:07)</a>:</h4>
<p>It seems like the open question is whether there's a practical need for a negotiation around this at run time, where a server supports multiple of these approaches (eg. I return most recent Provenance resource or I return all Provenance resources) and the client needs the ability to choose. Of course, servers are free to define a custom request parameter, but if there are many different servers that are going to support runtime options around which Provenance resources are returned, we'll want to define something standard.</p>



<a name="195083741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195083741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195083741">(Apr 23 2020 at 16:08)</a>:</h4>
<p>Since this is part of USCDI/bulk data regulation from ONC, I think we may want to land on a standard approach that meets the needs of the consumer</p>



<a name="195084336"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195084336" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195084336">(Apr 23 2020 at 16:13)</a>:</h4>
<p>That's fair - do you have a sense of what kind of Provenance data API users are asking for (most recent, all history, only for specific resources, none, etc)?</p>



<a name="195084628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195084628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195084628">(Apr 23 2020 at 16:15)</a>:</h4>
<p>I <em>think</em> for the single patient APIs it's just the "last jump" (as a floor requirement)</p>



<a name="195084707"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195084707" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195084707">(Apr 23 2020 at 16:16)</a>:</h4>
<p>so most recent</p>



<a name="195085865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195085865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195085865">(Apr 23 2020 at 16:25)</a>:</h4>
<p>So in the absence of specific use cases requiring something else, a reasonable floor might be that servers providing the USCDI dataset return the most recent Provenance resource for each of the other resources being returned in the bulk response dataset (subject to the _since filter, and unless _type is populated and doesn't include Provenance)?</p>



<a name="195086437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195086437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195086437">(Apr 23 2020 at 16:29)</a>:</h4>
<p>I'm trying to pull up the USCore reqs... <br>
<a href="http://hl7.org/fhir/us/core/StructureDefinition-us-core-provenance.html" title="http://hl7.org/fhir/us/core/StructureDefinition-us-core-provenance.html">http://hl7.org/fhir/us/core/StructureDefinition-us-core-provenance.html</a></p>



<a name="195086484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195086484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195086484">(Apr 23 2020 at 16:29)</a>:</h4>
<p>So, USCore requires the revInclude per resource to be able to pull related provenances</p>



<a name="195086643"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195086643" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195086643">(Apr 23 2020 at 16:30)</a>:</h4>
<p>Which is experimental still for bulk :)</p>



<a name="195086693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195086693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195086693">(Apr 23 2020 at 16:31)</a>:</h4>
<p>Would be interested in use cases that exist that would want something other than last provenance, provenance related to other items in bulk...</p>



<a name="195087465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195087465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195087465">(Apr 23 2020 at 16:37)</a>:</h4>
<p>Yup, me too! If we don't need a param to negotiate different approaches per request, this feels a bit like an expansion of the predefined bulk "data set" definitions we started on in v1 of the IG: <a href="https://hl7.org/fhir/uv/bulkdata/index.html#us-core-data-for-interoperability" title="https://hl7.org/fhir/uv/bulkdata/index.html#us-core-data-for-interoperability">https://hl7.org/fhir/uv/bulkdata/index.html#us-core-data-for-interoperability</a></p>



<a name="195193344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195193344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195193344">(Apr 24 2020 at 14:13)</a>:</h4>
<p>that is why I pointed out that Provenance  is typically retrieved using _revinclude... so, to just put Provenance in the bulk data access can't mean _revinclude as a special case, what if you did want a bulk data transfer of all provenance associated with some  subject? We don't know that use-case today, but it could happen (legal medical records audit for safety and records retention compliance).</p>



<a name="195193802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195193802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195193802">(Apr 24 2020 at 14:16)</a>:</h4>
<p>A _revinclude gives you comprehensive provenance (as comprehensive as the system has, which might be shallow or might be very deep). So I don't think this is what you want either.  The emerging "Basic Provenance IG" definition might be a good subset to request, this is  provenance of Author, and if the data was authored elsewhere the organization from which it came. The IG allows other provenance, but sets this as the minimal.</p>



<a name="195198270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195198270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195198270">(Apr 24 2020 at 14:46)</a>:</h4>
<p>I think as a goal in this year's Argonaut project we should include adding guidance for these kinds of questions. I am probably stating the obvious :-)</p>



<a name="195425687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Provenance/near/195425687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Provenance.html#195425687">(Apr 27 2020 at 14:33)</a>:</h4>
<p>I created <a href="https://github.com/HL7/bulk-data/issues/67" title="https://github.com/HL7/bulk-data/issues/67">https://github.com/HL7/bulk-data/issues/67</a> to capture this.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
