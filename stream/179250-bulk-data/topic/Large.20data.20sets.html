---
layout: page
title: "FHIR Chat  · Large data sets · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html">Large data sets</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="197592543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197592543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryan Schofield <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197592543">(May 14 2020 at 17:50)</a>:</h4>
<p>I'm curious what the community considers a large data set to be? For example, if exporting patient data, would we consider 100,000 patients large? 500,000? a million? At what threshold does bulk fhir begin to break down because either there are a too many files, too many records per file, or the time it takes to generate the files in response to a kick off request too long to be manageable?</p>



<a name="197592786"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197592786" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197592786">(May 14 2020 at 17:52)</a>:</h4>
<p>I think this is specifically targeted at "big data" - so it's explicitly beyond the "norms" of how we likely handle data today (unless you're a big data system)</p>



<a name="197592821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197592821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197592821">(May 14 2020 at 17:52)</a>:</h4>
<p>some of our initial "very small" sets of testing data was 10s of Gigs</p>



<a name="197592875"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197592875" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197592875">(May 14 2020 at 17:53)</a>:</h4>
<p>(which doesn't work well on hotel wifi, at most of our connectathon events ;) )</p>



<a name="197592977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197592977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryan Schofield <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197592977">(May 14 2020 at 17:53)</a>:</h4>
<p>how many records would you guess 10G to be?</p>



<a name="197592986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197592986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197592986">(May 14 2020 at 17:53)</a>:</h4>
<p>I think patient list size comes into it, but really you would be looking at the size of the record per patient</p>



<a name="197593143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197593143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryan Schofield <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197593143">(May 14 2020 at 17:54)</a>:</h4>
<p>interesting... our use case so far hasn't been _per patient_, it's been _all of it_.</p>



<a name="197593367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197593367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197593367">(May 14 2020 at 17:56)</a>:</h4>
<p>I've tested it with about 400 million resources. Bulk-data itself works just fine, as long as everything is streaming. The hard part is to design your back-end and DB to handle such volumes properly.</p>



<a name="197593720"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197593720" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197593720">(May 14 2020 at 17:58)</a>:</h4>
<p>One billion resources is a large data set, enough to stress the parallelization of every part of a system. Resources seem to average around the ballpark of 1KB so that's 1TB on disk. Number of resources per patient varies wildly depending on the application.</p>



<a name="197593774"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197593774" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197593774">(May 14 2020 at 17:58)</a>:</h4>
<p>well, from data IRL :)</p>



<a name="197593826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197593826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197593826">(May 14 2020 at 17:59)</a>:</h4>
<p>We have large clients that have populations in the millions of patients and single EHR record sets in the 100s of tb</p>



<a name="197593897"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197593897" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryan Schofield <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197593897">(May 14 2020 at 17:59)</a>:</h4>
<p>We're well into the billions. Observations alone are over 1.5B.</p>



<a name="197593898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197593898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197593898">(May 14 2020 at 17:59)</a>:</h4>
<p>that's a single health system</p>



<a name="197594220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197594220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryan Schofield <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197594220">(May 14 2020 at 18:01)</a>:</h4>
<p>Any recommendations on balancing number of files with records per file? Or do consumers just assume they may be downloading hundreds or thousands of files?</p>



<a name="197594575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197594575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Branden Rauch - CareEvolution <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197594575">(May 14 2020 at 18:04)</a>:</h4>
<p>We limit the number of resources per file, currently set at 50k/file</p>



<a name="197594871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197594871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197594871">(May 14 2020 at 18:06)</a>:</h4>
<p>We consolidate the output into one file per resource type no matter how large they get.</p>



<a name="197595565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197595565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197595565">(May 14 2020 at 18:11)</a>:</h4>
<p>That might depend on your implementation. For example can you handle 1B results from single SQL query, or do you prefer to split that over smaller "pages"... The clients should work with any size, unless you reach some OS file size limit.</p>



<a name="197595816"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197595816" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryan Schofield <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197595816">(May 14 2020 at 18:13)</a>:</h4>
<p>fascinating ... at 50k records, I'd be looking at, say 60,000 files, but unlimited records would yield a file that is 1.5TB. Both seem extreme for a client, but perhaps this within normal operating bounds</p>



<a name="197596178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197596178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197596178">(May 14 2020 at 18:16)</a>:</h4>
<p>most of the "export it all" would have to be from big data system to big data system, over pretty noice internet connections :)</p>



<a name="197596274"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197596274" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197596274">(May 14 2020 at 18:17)</a>:</h4>
<p>Having 60,000 files looks worst to me than having single 1.5TB file (which shouldn't be extreme)</p>



<a name="197596295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197596295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197596295">(May 14 2020 at 18:17)</a>:</h4>
<p>Given how the files are individually listed in the bulk data status response once finished, it would be a mess to have 60,000 files.</p>



<a name="197596331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197596331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197596331">(May 14 2020 at 18:17)</a>:</h4>
<p>We've talked about using chunking for the file transfers since these are so large (freeish in http/2, sometimes you have to do work for 1.1)</p>



<a name="197596483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197596483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197596483">(May 14 2020 at 18:18)</a>:</h4>
<p>You also need to make sure your timeouts etc are going to handle how long this will take :)</p>



<a name="197596533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197596533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197596533">(May 14 2020 at 18:19)</a>:</h4>
<p><span class="user-mention" data-user-id="197072">@Paul Church</span>  it's not so much a mess since it's not a human reading it - it's a system</p>



<a name="197596584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197596584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197596584">(May 14 2020 at 18:19)</a>:</h4>
<p>the system already has to handle many files</p>



<a name="197596592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197596592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Branden Rauch - CareEvolution <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197596592">(May 14 2020 at 18:19)</a>:</h4>
<p>The bulk data responses are meant to be consumed by a computer service, not a human. Dealing with lots of files versus a few shouldn't make much difference. What if network issues prevent downloading a 1.5TB file?</p>



<a name="197596728"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197596728" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryan Schofield <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197596728">(May 14 2020 at 18:20)</a>:</h4>
<p>Network issues would concern me with large files.</p>



<a name="197596817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197596817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Branden Rauch - CareEvolution <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197596817">(May 14 2020 at 18:20)</a>:</h4>
<p>50k resources a file was a totally arbitrary number we came up with. It's better suited to resources that contain a lot of data as opposed to "thinner" resources like Observation. In the long run I think we will limit the number of resources per file depending on the resource type.</p>



<a name="197597076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197597076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197597076">(May 14 2020 at 18:22)</a>:</h4>
<p>Use a file size limit instead of a # of resources limit?</p>



<a name="197597090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197597090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197597090">(May 14 2020 at 18:22)</a>:</h4>
<p>It's just that the API response to the status request is usually pretty small, but with many files there's no bound on it and it's not paginated or anything.</p>



<a name="197597928"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/197597928" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#197597928">(May 14 2020 at 18:28)</a>:</h4>
<p>Resumable downloads are doable but could be hard to implement. The easiest option for the clients seems to be to retry certain number of times.</p>



<a name="222915727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/222915727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ritika Jain <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#222915727">(Jan 15 2021 at 19:54)</a>:</h4>
<p>does BITS protocol help here and how to add that in the implementation ? <span class="user-mention" data-user-id="191315">@Josh Mandel</span></p>



<a name="222917395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/222917395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#222917395">(Jan 15 2021 at 20:05)</a>:</h4>
<p>I'm not sure what this is; can you share a link or specific details about what you have in mind?</p>



<a name="222919138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/222919138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ritika Jain <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#222919138">(Jan 15 2021 at 20:17)</a>:</h4>
<p>BITS transfers files between machines using idle network bandwidth. I am wondering if something like this could be incorporated since downloading multiple files ( say 60k files) or huge size of data  ( in TBs ) both could be a problem</p>



<a name="222919507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/222919507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#222919507">(Jan 15 2021 at 20:20)</a>:</h4>
<p>My framework here is: the spec allows for extensions that can explore these sorts of capabilities; I'd look to specific real-world performance issues here before we try to optimize in a first-class, "in-spec" way.</p>



<a name="228368353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/228368353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Chhabra <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#228368353">(Mar 02 2021 at 07:59)</a>:</h4>
<p>The major concern around bulk data export is exporting a large chunk of data especially when we talk about system-level export. </p>
<p>Any suggestions on how to handle the system level export and also meet the ONC compliance guidelines?</p>



<a name="228438848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Large%20data%20sets/near/228438848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Large.20data.20sets.html#228438848">(Mar 02 2021 at 16:24)</a>:</h4>
<p>I'm not sure what level of suggestion you're thinking about. In general the ONC requirement is to support Bulk Data Export for a group of patients.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
