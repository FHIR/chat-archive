---
layout: page
title: "FHIR Chat  · Representing status with Task resource · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html">Representing status with Task resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="164952621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/164952621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#164952621">(May 06 2019 at 04:44)</a>:</h4>
<p>I just went through the exercise of trying to represent the example status response from <a href="http://hl7.org/fhir/R4/async.html#3.1.6.4.0.4" target="_blank" title="http://hl7.org/fhir/R4/async.html#3.1.6.4.0.4">http://hl7.org/fhir/R4/async.html#3.1.6.4.0.4</a> with the Task resource. I can't say I'm psyched about it, and none of our ballot commenters requested a change to the status representation.</p>
<div class="codehilite"><pre><span></span>{
  &quot;resourceType&quot;: &quot;Task&quot;,
  &quot;status&quot;: &quot;in-progress&quot;,
  &quot;intent&quot;: &quot;order&quot;, // this seems really wrong, but it&#39;s required
  &quot;executionPeriod&quot;: {
    &quot;start&quot;: &quot;[instant&quot;],
    &quot;end&quot;: &quot;[instant]&quot;
  },
  &quot;extension&quot;: [{
    &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/async-request-url&quot;,
    &quot;valueUrl&quot;: &quot;[base]/Patient/$export?_type=Patient,Observation&quot;
  },{
    &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/async-requires-access-token&quot;,
    &quot;valueBoolean&quot;: true
  }],
  &quot;output&quot;: [{
    &quot;type&quot;: {
      &quot;coding&quot;: [{
        &quot;system&quot;: &quot;http://hl7.org/fhir/resource-types&quot;,
        &quot;code&quot;: &quot;Patient&quot;
      }]
    },
    &quot;extension&quot;: [{
      &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/async-request-output-type&quot;,
      &quot;valueCode&quot;: &quot;output&quot;
    }]
    &quot;valueUrl&quot;: &quot;https://serverpath2/patient_file_1.ndjson&quot;
  }, {
    &quot;type&quot;: {
      &quot;coding&quot;: [{
        &quot;system&quot;: &quot;http://hl7.org/fhir/resource-types&quot;,
        &quot;code&quot;: &quot;Observation&quot;
      }]
    },
    &quot;valueUrl&quot;: &quot;https://serverpath2/observation_file_1.ndjson&quot;
  }, {
    &quot;type&quot;: {
      &quot;coding&quot;: [{
        &quot;system&quot;: &quot;http://hl7.org/fhir/resource-types&quot;,
        &quot;code&quot;: &quot;Observation&quot;
      }]
    },
    &quot;extension&quot;: [{
      &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/async-request-output-type&quot;,
      &quot;valueCode&quot;: &quot;error&quot;
    }],
    &quot;valueUrl&quot;: &quot;https://serverpath2/operationoutcome_file_1.ndjson&quot;
  }]
}
</pre></div>



<a name="164971196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/164971196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#164971196">(May 06 2019 at 10:37)</a>:</h4>
<p>That's a lit more useful than Task was last time we looked at that. It's possible to support both based on mime types... I'm not sure how useful it is</p>



<a name="164979363"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/164979363" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#164979363">(May 06 2019 at 12:54)</a>:</h4>
<p>Curious about the choice to use extensions rather than additional input/output parameters</p>



<a name="164983109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/164983109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#164983109">(May 06 2019 at 13:52)</a>:</h4>
<p>They're "complex" parameters --- each output or error file needs a type, a url,  and an indication of whether it includes successful vs error responses (currently we model this as an outputs array and an errors array).</p>



<a name="164983945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/164983945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Jafari <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#164983945">(May 06 2019 at 14:02)</a>:</h4>
<p>I agree that all the extensions make this look a bit complex and counterintuitive. But we should be able to update the Task resource or profile it to make this easier. <br>
To summarize some of the points from yesterday, using Task resource has the following benefits:<br>
- Using existing FHIR backend (e.g. persistence model) to store and archive results.<br>
- Using versioning on the resource to track change of status and partial results. <br>
- Using FHIR search on Tasks for admin reporting.<br>
- Using Subscription to receive async notifications on partial updates and status changes to the Task resource.<br>
One can even bulk export all the Tasks for analytics on the history of all previous bulk exports :P</p>



<a name="164984026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/164984026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#164984026">(May 06 2019 at 14:03)</a>:</h4>
<p><span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span> only for the last line !</p>



<a name="164989111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/164989111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#164989111">(May 06 2019 at 15:05)</a>:</h4>
<p>I think the brass-tacks question is whether we'd contemplate making this change to "bulk data" particularly -- or just try to work with FHIR r5 to make this kind of change. (My strong leaning is: address this in fhir R5 core infrastructure.)</p>



<a name="164989476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/164989476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#164989476">(May 06 2019 at 15:09)</a>:</h4>
<p>we could make space for this by making some note about the use of mime type when requesting this thing?</p>



<a name="164989681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/164989681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#164989681">(May 06 2019 at 15:10)</a>:</h4>
<p>In other words, a note like "future versions of fhir may require a fhir-specific mime type for async requests"?</p>



<a name="164989722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/164989722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#164989722">(May 06 2019 at 15:11)</a>:</h4>
<p>(Ideally I was expecting we'd remove most of the details about how async requests work from the bulk data IG, deferring to definitions in FHIR R4+.)</p>



<a name="164989787"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/164989787" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#164989787">(May 06 2019 at 15:12)</a>:</h4>
<p>we'd still have examples, but a lot of the duplicative content with fhir R4 async.html would be stripped.</p>



<a name="164990391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/164990391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#164990391">(May 06 2019 at 15:19)</a>:</h4>
<p>well I agree about that. But we can say things in the IG that are ahead of R5. I was more thinking of some statement like 'future versions this specification or the base FHIR specification may describe the use of other mime types as options and/or replacement for this json object"</p>



<a name="164990849"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/164990849" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#164990849">(May 06 2019 at 15:24)</a>:</h4>
<p>Perfect -- will capture this.</p>



<a name="165013641"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/165013641" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Jafari <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#165013641">(May 06 2019 at 19:57)</a>:</h4>
<p>What would the mime type look like for Task vs. the current JSON result format? Which one are we expecting to be associated with <code>application/fhir+json</code>?</p>



<a name="165014391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/165014391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#165014391">(May 06 2019 at 20:07)</a>:</h4>
<p>In future state, if R5's async.html documents Task as the status response, it'd use <code>application/fhir+json</code>.</p>



<a name="165018469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/165018469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#165018469">(May 06 2019 at 20:59)</a>:</h4>
<p>it's much easier to mix things than "unmix" them later, i think it's false-similarity</p>



<a name="165094370"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/165094370" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#165094370">(May 07 2019 at 17:52)</a>:</h4>
<p>Is there something else you'd propose <span class="user-mention" data-user-id="191318">@nicola (RIO/SS)</span> ?</p>



<a name="165106361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/165106361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#165106361">(May 07 2019 at 20:11)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span>  Nothing new - just specialized resource for this specific operation - i.e. turn current JSON result into Resource</p>



<a name="165107367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Representing%20status%20with%20Task%20resource/near/165107367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Representing.20status.20with.20Task.20resource.html#165107367">(May 07 2019 at 20:22)</a>:</h4>
<p>Gotcha -- that's clear enough, thanks!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
