---
layout: page
title: "FHIR Chat  · Breakout notes · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html">Breakout notes</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="175714094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175714094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175714094">(Sep 14 2019 at 19:08)</a>:</h4>
<p>We're looking at <a href="https://github.com/smart-on-fhir/bulk-import/blob/master/import.md" target="_blank" title="https://github.com/smart-on-fhir/bulk-import/blob/master/import.md">https://github.com/smart-on-fhir/bulk-import/blob/master/import.md</a> ; and roundtable to share experience, directions. I'll keep some live notes here...</p>



<a name="175714185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175714185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175714185">(Sep 14 2019 at 19:10)</a>:</h4>
<h3>inputSource</h3>
<ul>
<li><code>inputSource</code>currently required, but may not be relevant/known in real life (e.g., for synthetic data). Today, we use this to track light-weight provenance from inputs -&gt; imported resources.</li>
</ul>



<a name="175714195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175714195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175714195">(Sep 14 2019 at 19:11)</a>:</h4>
<p>What's it really trying to track? Goal is to be able to recognize data from the same source, over time.</p>



<a name="175714286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175714286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175714286">(Sep 14 2019 at 19:13)</a>:</h4>
<p>We can't assume that all resources in an import have the same real-world origin.</p>



<a name="175714371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175714371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175714371">(Sep 14 2019 at 19:15)</a>:</h4>
<p>Proposal: keep <code>inputSource</code> as required, but update docs to note that it's a URI, specified by the client, meant to track data imported through its lifecycle.  Use "a FHIR server base URL" as an <em>example</em> but not the definition of this field.</p>



<a name="175714421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175714421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175714421">(Sep 14 2019 at 19:16)</a>:</h4>
<p>We can also note that clients may provide more detailed Provenance along the way.</p>



<a name="175714514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175714514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175714514">(Sep 14 2019 at 19:19)</a>:</h4>
<p>Note that <code>Resource.id</code> in an import should be unique (no distinct resources that share an ID).</p>



<a name="175714524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175714524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175714524">(Sep 14 2019 at 19:19)</a>:</h4>
<h3><code>inputFormat</code></h3>
<p>In GCP, there are use cases for importing Bundles (i.e., unwrap-bundle-and-import-the-entries) as well as piles of resources.</p>



<a name="175714580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175714580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175714580">(Sep 14 2019 at 19:20)</a>:</h4>
<p>Can there be something like an "unwrap" mode, or even deeper Bundle semantics?</p>



<a name="175714592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175714592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175714592">(Sep 14 2019 at 19:21)</a>:</h4>
<p>1. Resources in NDJSON<br>
2. Resources in JSON (one per file)<br>
3. Bundles in NDJSON<br>
4. Bundles in JSON (one per file)</p>



<a name="175714597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175714597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175714597">(Sep 14 2019 at 19:21)</a>:</h4>
<p>Synthea is an example of (4)</p>



<a name="175714600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175714600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175714600">(Sep 14 2019 at 19:21)</a>:</h4>
<p>Current bulk data export is an example of (1)</p>



<a name="175714647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175714647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175714647">(Sep 14 2019 at 19:22)</a>:</h4>
<p>No real organic use for (2); a little for (3).</p>



<a name="175714776"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175714776" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175714776">(Sep 14 2019 at 19:26)</a>:</h4>
<p>Which do we want to <em>enable</em> in a standard way, and which do we want to <em>require</em>?</p>



<a name="175714857"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175714857" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175714857">(Sep 14 2019 at 19:29)</a>:</h4>
<p>Proposal: require support for (1), and define support for all four. With respect to bundle types: build in a parameter that requests something like <code>processBundleAsCollection</code> (so servers can introduce support for Bundles without being expected to manage transaction semantics).</p>



<a name="175714924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175714924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175714924">(Sep 14 2019 at 19:31)</a>:</h4>
<h3><code>input.type</code></h3>



<a name="175715005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175715005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175715005">(Sep 14 2019 at 19:33)</a>:</h4>
<p>DO servers need uniform types per file?</p>



<a name="175715052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175715052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175715052">(Sep 14 2019 at 19:34)</a>:</h4>
<ul>
<li>use case for servers that are going to just provide analytics</li>
<li>maintain type-based dependencies in an import (e.g., for CMS API that wants a heuristic like "load organizations; then practitions; then patients".)</li>
</ul>



<a name="175715132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175715132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175715132">(Sep 14 2019 at 19:37)</a>:</h4>
<p>Today, most heterogeneous sets of resources are in the context of bundles (GCP import experience)</p>



<a name="175715463"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175715463" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175715463">(Sep 14 2019 at 19:47)</a>:</h4>
<p>Proposal: Enable support for "mixed-type" payloads, achieved by a client omitting <code>input.type</code>. Some servers might refuse to process mixed-type data.</p>



<a name="175715516"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175715516" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175715516">(Sep 14 2019 at 19:48)</a>:</h4>
<h3><code>input.url</code></h3>



<a name="175715600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175715600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175715600">(Sep 14 2019 at 19:51)</a>:</h4>
<p>In GCP, cloud-bucket-backed imports provide the ability to list file paths with wildcards, like <code>gcp://my-bucket/path-to/resources/Observation-*.json</code>. Is there something similar that could be done with <code>https</code>-based storage?</p>



<a name="175715648"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175715648" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175715648">(Sep 14 2019 at 19:52)</a>:</h4>
<p>How does success/error reporting work in the status response?</p>



<a name="175715664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175715664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175715664">(Sep 14 2019 at 19:53)</a>:</h4>
<p>In GCP, logging is in stackdrive, with individual resource-level errors logged, but no file-level summaries.</p>



<a name="175715707"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175715707" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175715707">(Sep 14 2019 at 19:54)</a>:</h4>
<p>Path expansion happens at the beginning of the import (probably ;-))</p>



<a name="175715719"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175715719" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175715719">(Sep 14 2019 at 19:54)</a>:</h4>
<p>Also supports <code>**</code> for recursing into subdirectories. (wildcard path components).</p>



<a name="175715730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175715730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175715730">(Sep 14 2019 at 19:55)</a>:</h4>
<p>Wildcard support doesn't exist in http requests; and capabilities/semantics vary among different cloud bucket storage services.</p>



<a name="175715784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175715784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175715784">(Sep 14 2019 at 19:56)</a>:</h4>
<h3>Conformance</h3>
<ul>
<li>How does a server advertise support for bundle processing?</li>
<li>For mixed-type input files?</li>
<li>For data storage modes (<code>storageDetail.type</code>)?</li>
</ul>



<a name="175715851"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175715851" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175715851">(Sep 14 2019 at 19:58)</a>:</h4>
<p>we can fill out placeholders for cloud bucket services and <code>sftp</code>.</p>



<a name="175715853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175715853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175715853">(Sep 14 2019 at 19:58)</a>:</h4>
<p>Proposal: define a conformance discovery process (<code>.well-known/???</code>) for clients to learn this stuff.</p>



<a name="175715862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175715862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175715862">(Sep 14 2019 at 19:59)</a>:</h4>
<p>(and local folder/network folder for internal organization processing/sharing)</p>



<a name="175715875"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175715875" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175715875">(Sep 14 2019 at 19:59)</a>:</h4>
<p>And we should allow a server to define in <code>CapabilityStatement</code> that a server supports <code>$import</code>.</p>



<a name="175716265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175716265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175716265">(Sep 14 2019 at 20:10)</a>:</h4>
<h3>Semantics of batch, transaction, etc.</h3>
<p>Do we want to define these models more formally, so a client can request, e.g., transactional import semantics? (And any given server might support some modes and not others.)</p>
<h4>Allow clients to request among the following three transactional modes:</h4>
<ul>
<li>Best-effort across the import (&lt;-- This is where we are today)</li>
<li>A set of smaller files, with all-or-nothing behavior per-file (&lt;-- This is really practical).</li>
<li>All-or-nothing across the import</li>
</ul>



<a name="175716282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175716282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175716282">(Sep 14 2019 at 20:10)</a>:</h4>
<p>Do we have use cases that would help us make better decisions about requirements, for imports beyond the simple "best effort" stuff?</p>



<a name="175716803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175716803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175716803">(Sep 14 2019 at 20:25)</a>:</h4>
<p>Proposal: processBundleAs=<code>collection|transaction</code> to allow clients to request finer-grained transaction boundaries (i.e., via individual Bundle files or ndjson files full of Bundles).</p>



<a name="175716869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175716869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175716869">(Sep 14 2019 at 20:27)</a>:</h4>
<p>For referential integrity, should servers rewrite dangling links with fullUrls back to source materials? Leave them dangling? Fail the import altogether? We'll plan to leave this set of decision until later.</p>



<a name="175717155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175717155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175717155">(Sep 14 2019 at 20:35)</a>:</h4>
<h4>Do clients need to call <code>delete</code> to clean things up / indicate finished?</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> can you submit a PR for this as a suggestion on $export?</p>



<a name="175717360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175717360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175717360">(Sep 14 2019 at 20:41)</a>:</h4>
<p>(It's actually on the core spec too in the async docco - so I'll log a gforge)</p>



<a name="175910278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175910278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nagesh Bashyam <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175910278">(Sep 17 2019 at 14:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> <span class="user-mention" data-user-id="191414">@Dan Gottlieb</span> <br>
Has anything been finalized w.r.t the four different options and processBundleAs=collection|transaction ?<br>
I saw the proposal, but wanted to track it for some of our work in DaVinci.</p>
<p>The use case that I am working on in DaVinci is as follows:  <br>
Payers create a list of patients who are attributed to different individual or organizational providers based on their coverage, claims and other information. They will be giving this list of patients to provider organizations via a Group Resource. Once the provider organization receives this Group resource, we are thinking that the provider organizations can invoke the Group/[id]/$export to get the relevant data for all the patients in the list. We are thinking it may be good to process the data associated with each patient as a transaction or a collection where a bundle may be useful. <br>
Feel free to correct us on the thinking or the usage.</p>



<a name="175910655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175910655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175910655">(Sep 17 2019 at 14:19)</a>:</h4>
<p>Right now, just captured in notes. But to be clear, the discussion was on <code>$import</code>; is the provider org in your example invoking an <code>$import</code> operation somewhere?</p>



<a name="175911410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175911410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nagesh Bashyam <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175911410">(Sep 17 2019 at 14:26)</a>:</h4>
<p>No, the provider org or the payers are not planning on a $import. There are many other reconciliation processes they go through before finally using/persisting the received data. Since the discussion was interesting and may help other needs where processing using bundles (all related resources for a patient) instead of ndjson files (organized by resources) may be advantageous, we wanted to let the group know about the use case. Will follow the discussion as it proceeds.</p>



<a name="175920264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175920264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175920264">(Sep 17 2019 at 15:52)</a>:</h4>
<p>I'd rather not have two different ways to represent the same data in bulk export - as individual resource and as bundles. The client importing the data had to resolve references regardless</p>



<a name="175921142"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175921142" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175921142">(Sep 17 2019 at 16:02)</a>:</h4>
<p>There are pretty strong use cases for each, though -- this is from production experience with the Google team's import experience. (e.g., folks want to be able to import patient $everything bundles.)</p>



<a name="175922089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Breakout%20notes/near/175922089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Breakout.20notes.html#175922089">(Sep 17 2019 at 16:12)</a>:</h4>
<p>But whether $export should offer bundled output is a separate question. I haven't formed a strong opinion about that yet - the use case in import is driven by data that didn't come from $export.</p>
<p>If the use case is to sync data between servers while protecting referential and transactional integrity, I could see some utility in having the exporting server bundle up resources according to what it knows about their dependencies.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
