---
layout: page
title: "FHIR Chat  · Experimental query parameters · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Experimental.20query.20parameters.html">Experimental query parameters</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="209656748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Experimental%20query%20parameters/near/209656748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RB Johnson <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Experimental.20query.20parameters.html#209656748">(Sep 10 2020 at 14:47)</a>:</h4>
<p>In the v1.2 export spec section 5.1.5, Query Parameters,  _elements and includeAssociatedData are both marked as experimental and included in the list of query parameters. Below them though is section 5.1.7, Experimental Query Parameters, which explains the _typeFilter parameter that isn't listed in section 5.1.5. What is the thought behind this separation, or is it a hold over from the v1.0 spec?</p>



<a name="209662984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Experimental%20query%20parameters/near/209662984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Experimental.20query.20parameters.html#209662984">(Sep 10 2020 at 15:23)</a>:</h4>
<p>It's a holdover and should probably be moved up to the parameters table. In my mind <code>_typeFilter</code> is <em>more</em> experimental though since it has a complex syntax with potentially confusing semantics while <code>_elements</code> and <code>includeAssociatedData</code> are more straight forward. I'm not sure if this matches how others think of the parameters though, or how to indicate this in the IG.</p>



<a name="209663126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Experimental%20query%20parameters/near/209663126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Experimental.20query.20parameters.html#209663126">(Sep 10 2020 at 15:24)</a>:</h4>
<p>Does anyone have thoughts on this? Also, is anyone using _typeFilter in production (and if so, what has been your experience)?</p>



<a name="209663620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Experimental%20query%20parameters/near/209663620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Experimental.20query.20parameters.html#209663620">(Sep 10 2020 at 15:27)</a>:</h4>
<p>We just added _typeFilter  to our server and we are going to use it in production - previously we added some custom extra parameters to do filtering but in the end we bite the bullet and implemented full _typeFilter</p>



<a name="209663690"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Experimental%20query%20parameters/near/209663690" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Experimental.20query.20parameters.html#209663690">(Sep 10 2020 at 15:28)</a>:</h4>
<p>It was easy enough</p>



<a name="209663771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Experimental%20query%20parameters/near/209663771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Experimental.20query.20parameters.html#209663771">(Sep 10 2020 at 15:28)</a>:</h4>
<p>I think we'd like to have it in the standard as is</p>



<a name="209663818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Experimental%20query%20parameters/near/209663818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Experimental.20query.20parameters.html#209663818">(Sep 10 2020 at 15:29)</a>:</h4>
<p>Wow! That's awesome <span class="user-mention" data-user-id="191912">@Michele Mottini</span></p>



<a name="209664120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Experimental%20query%20parameters/near/209664120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Experimental.20query.20parameters.html#209664120">(Sep 10 2020 at 15:31)</a>:</h4>
<p>Agreed! <span class="user-mention" data-user-id="191912">@Michele Mottini</span> did you have to exclude anything, or were you able to implement the full set of search params?</p>



<a name="209664923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Experimental%20query%20parameters/near/209664923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Experimental.20query.20parameters.html#209664923">(Sep 10 2020 at 15:35)</a>:</h4>
<p>I think we pass the search parameters to our resource handlers, so all parameters that are implemented for each resource in our server work for bulk export - but let me double check</p>



<a name="209665951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Experimental%20query%20parameters/near/209665951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Experimental.20query.20parameters.html#209665951">(Sep 10 2020 at 15:42)</a>:</h4>
<p>Yes, all parameters are supported</p>



<a name="209666101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Experimental%20query%20parameters/near/209666101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Experimental.20query.20parameters.html#209666101">(Sep 10 2020 at 15:43)</a>:</h4>
<p>And if the client uses parameters that are not supported (or simply wrong) same behavior as a normal resource search: they are ignored or cause an error depending on a server-side option (we do not support the Prefer header for that)</p>



<a name="215008405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Experimental%20query%20parameters/near/215008405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Farhan A <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Experimental.20query.20parameters.html#215008405">(Oct 29 2020 at 18:24)</a>:</h4>
<p>Hi John, <br>
I will need your input. I am not able to see the bulk export filtering working. It's returning all the rows whether state is IL or any other state</p>
<p>POST url is http://&lt;servername&gt;:&lt;port&gt;/$export</p>
<p>Here is the body:</p>
<p>{</p>
<p>"resourceType": "Parameters",</p>
<p>"parameter": [</p>
<div class="codehilite"><pre><span></span><code>{

  &quot;name&quot;: &quot;_outputFormat&quot;,

  &quot;valueString&quot;: &quot;application/fhir+ndjson&quot;

},

{

  &quot;name&quot;: &quot;_type&quot;,

  &quot;valueString&quot;: &quot;Location&quot;

},

{

  &quot;name&quot;: &quot;_typeFilter&quot;,

  &quot;valueString&quot;: &quot;Location?address-state=IL&quot;

}
</code></pre></div>


<p>]</p>
<p>}</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
