---
layout: page
title: "FHIR Chat  · empty line · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/empty.20line.html">empty line</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="196834685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/empty%20line/near/196834685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/empty.20line.html#196834685">(May 07 2020 at 21:49)</a>:</h4>
<p>Does anywhere in Bulk Data IG specify is empty line is NDJSON is valid?<br>
NDJSON spec says "The parser MAY silently ignore empty lines, e.g. \n\n."<br>
1) If a NDJSON file has empty line, is that valid?<br>
2) If the NDJSON file is empty, is that valid?<br>
<span class="user-mention" data-user-id="191414">@Dan Gottlieb</span> <span class="user-mention" data-user-id="191315">@Josh Mandel</span></p>



<a name="196844451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/empty%20line/near/196844451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/empty.20line.html#196844451">(May 07 2020 at 23:46)</a>:</h4>
<p>I don't know why we would establish anything different from the spec. Are you encountering some sort of issue?</p>



<a name="196897681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/empty%20line/near/196897681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/empty.20line.html#196897681">(May 08 2020 at 13:52)</a>:</h4>
<p>Yes. I received an empty export file.</p>



<a name="196899482"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/empty%20line/near/196899482" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/empty.20line.html#196899482">(May 08 2020 at 14:07)</a>:</h4>
<p>Gotcha. And is it your understanding that The server had no resources for you and chose to inform you in this fashion?</p>



<a name="196901882"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/empty%20line/near/196901882" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/empty.20line.html#196901882">(May 08 2020 at 14:27)</a>:</h4>
<p>It could be either the server does not that resource or the file export failed. IMO either case, server should not list that resource in output result. I am still thinking how to deal with empty line in the middle of a file. I may just ignore the empty line.</p>



<a name="196907107"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/empty%20line/near/196907107" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/empty.20line.html#196907107">(May 08 2020 at 15:08)</a>:</h4>
<p>Ignoring empty lines in the middle of a file seems like the right thing. Ignoring invalid JSON lines in the middle of a file might also be the right thing ;-)</p>



<a name="197171230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/empty%20line/near/197171230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/empty.20line.html#197171230">(May 11 2020 at 16:31)</a>:</h4>
<p><code>Each JSON text MUST conform to the [RFC7159] standard</code> I don't think I can "ignore" an invalid line.</p>



<a name="197176163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/empty%20line/near/197176163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/empty.20line.html#197176163">(May 11 2020 at 17:10)</a>:</h4>
<p>On the client side (when consuming/parsing) I would ignore every kind of new lines - leading, trailing or inside. On the back-end, when generating NDJSON, I believe one should avoid them all if possible.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
