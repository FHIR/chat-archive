---
layout: page
title: "FHIR Chat  · zip · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/zip.html">zip</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="174535420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/zip/near/174535420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kolowitz <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/zip.html#174535420">(Aug 30 2019 at 11:24)</a>:</h4>
<p>we have a client that would like the bulk data zipped. would it re reasonable for my server to support _outputFormat=application/zip and return a .zip file or should i write a small app that consumes the .ndjson from the server and packages it for the client?</p>



<a name="174540770"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/zip/near/174540770" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeffrey Taylor <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/zip.html#174540770">(Aug 30 2019 at 12:51)</a>:</h4>
<p>I like the idea of a the <code>application/zip</code> value for _outputFormat. </p>
<p>An alternative could be a request that looks something like:<br>
<code>/Patient/$export?_type=DocumentManifest&amp;_typeFilter =...</code>. This would result in an <code>.ndjson</code> file containing 1 document manifest that has 1 Attachment that contains a url pointing to the zip file.</p>
<p>I think Brian's approach is simpler, but it'd be helpful to think and discuss alternatives to fulfill this use case.</p>



<a name="174540981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/zip/near/174540981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kolowitz <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/zip.html#174540981">(Aug 30 2019 at 12:53)</a>:</h4>
<p><span class="user-mention" data-user-id="194604">@Jeffrey Taylor</span> I like your  suggestion, my question regards how do we specify that the DocumentManifest contains a zip as opposed to a pointer to the ndjson</p>



<a name="174549381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/zip/near/174549381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/zip.html#174549381">(Aug 30 2019 at 14:27)</a>:</h4>
<p>I thought we did this at a connectathon using standard HTTP headers... let me look</p>



<a name="174549419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/zip/near/174549419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/zip.html#174549419">(Aug 30 2019 at 14:27)</a>:</h4>
<p>Accept-Encoding</p>



<a name="174549483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/zip/near/174549483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/zip.html#174549483">(Aug 30 2019 at 14:28)</a>:</h4>
<p>Because if you replaced the output format, you wouldn't know what was in the zip (fhir JSON, ND JSON, etc)</p>



<a name="174549511"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/zip/near/174549511" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/zip.html#174549511">(Aug 30 2019 at 14:28)</a>:</h4>
<p>I could be remembering incorrectly</p>



<a name="174549595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/zip/near/174549595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/zip.html#174549595">(Aug 30 2019 at 14:29)</a>:</h4>
<p>Our experience in connectathon led us to encourage/prefer clients to request encodings, as Jenni says here. This way we re-use all the content type negotiations.</p>



<a name="174549682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/zip/near/174549682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/zip.html#174549682">(Aug 30 2019 at 14:30)</a>:</h4>
<p>It doesn't quite give you "a zip" at the end of the process, but it allows a client to limit bandwidth required, and the client can pipe the file to a zip or whatever its compressed format of choice might be.</p>



<a name="174549723"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/zip/near/174549723" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kolowitz <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/zip.html#174549723">(Aug 30 2019 at 14:31)</a>:</h4>
<p>I'm considering returning an ndjson with a single row containing a documentmanifest that contains a link to a zip file... not sure if that makes sense</p>



<a name="174550522"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/zip/near/174550522" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/zip.html#174550522">(Aug 30 2019 at 14:39)</a>:</h4>
<p>I don't think it makes a ton of sense. That is to say: you'd seem to lose most of the API capabilities and you wouldn't get much in the way of interop.</p>



<a name="174550892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/zip/near/174550892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kolowitz <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/zip.html#174550892">(Aug 30 2019 at 14:44)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span>  thanks for the gut check.</p>



<a name="174617456"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/zip/near/174617456" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/zip.html#174617456">(Aug 31 2019 at 13:11)</a>:</h4>
<p>zip is tricky because it's both a compression and a folder format.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
