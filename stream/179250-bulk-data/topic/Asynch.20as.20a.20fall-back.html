---
layout: page
title: "FHIR Chat  · Asynch as a fall-back · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html">Asynch as a fall-back</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="203780010"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203780010" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203780010">(Jul 13 2020 at 22:36)</a>:</h4>
<p>I did a quick search and didn't find anything.  Feel free to redirect if this has already been discussed and landed.</p>
<p>I'm wondering if there is a documented convention (and if not, if it's worth creating one) for a situation where a client is attempting a synchronous search or other operation, but the server decides "nope, that's going to take too long, it needs to be asynch" and returns an HTTP code or some other indicator that indicates to the client that they should retry their request with prefer=respond-asynch set.</p>



<a name="203781702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203781702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203781702">(Jul 13 2020 at 22:59)</a>:</h4>
<p>The rfc referenced in <a href="http://hl7.org/fhir/r4/async.html">http://hl7.org/fhir/r4/async.html</a> allows for that</p>



<a name="203781726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203781726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203781726">(Jul 13 2020 at 22:59)</a>:</h4>
<p>Well, I thought it did... hrm</p>



<a name="203781858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203781858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203781858">(Jul 13 2020 at 23:01)</a>:</h4>
<p>There is a way to say the  operation takes too long today in operation outcomes and http status</p>



<a name="203781867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203781867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203781867">(Jul 13 2020 at 23:01)</a>:</h4>
<p>if we want to specify this, we could start from there?</p>



<a name="203782527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203782527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203782527">(Jul 13 2020 at 23:10)</a>:</h4>
<p>That was my thought.  We could either use a 408 HTTP (Request timeout) or a 400 + a "too-long" OperationOutcome code (or perhaps a brand-new OperationOutcome code?) to signal.  Do we think that would be a useful enhancement to the spec?</p>



<a name="203836977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203836977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203836977">(Jul 14 2020 at 14:05)</a>:</h4>
<p>To be clear Lloyd, you're not thinking about this as a specific enhancement for the $export operations but rather as a general enhancement for FHIR's async framework? (This channel has been mostly focused on $export/$import -- where we assume async.)</p>
<p>Thinking about the general case: sure having some way to hints to the client that a specific response cannot be provided synchronously seems like a good idea to me.</p>



<a name="203837152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203837152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203837152">(Jul 14 2020 at 14:07)</a>:</h4>
<p>Yes, this would be for asynch in general, not specific to $export (where you already <em>know</em> you want asynch).  I raised it here because I figured that's where most of the asynch-aware folks would hang out.</p>



<a name="203837213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203837213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203837213">(Jul 14 2020 at 14:07)</a>:</h4>
<p>(And I think this group is principally responsible for driving changes to the core async page)</p>



<a name="203837306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203837306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203837306">(Jul 14 2020 at 14:08)</a>:</h4>
<p>To the extent that changes are being driven, yes. But there's not actually a good process for keeping these things... in sync.</p>



<a name="203837475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203837475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203837475">(Jul 14 2020 at 14:10)</a>:</h4>
<p>Does anyone have a preference for HTTP 408 vs. HTTP 400 + "too-long" vs. new OO code vs. something else?</p>



<a name="203837678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203837678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203837678">(Jul 14 2020 at 14:11)</a>:</h4>
<p>408 doesn't quite seem right to me because it implies the client May retry its request... and we would be saying that a client would be silly to do so without upgrading to asynchronous.</p>



<a name="203837837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203837837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203837837">(Jul 14 2020 at 14:13)</a>:</h4>
<p>The existing "too long" code is about a client supplying too much input, on my reading.</p>



<a name="203837920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203837920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203837920">(Jul 14 2020 at 14:14)</a>:</h4>
<p>So you would vote for a new OperationOutcome code, or is there something else we should leverage?</p>



<a name="203838005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203838005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203838005">(Jul 14 2020 at 14:14)</a>:</h4>
<p>I sure wish we had used coding and not code in operationOutcome.code</p>



<a name="203838127"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203838127" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203838127">(Jul 14 2020 at 14:15)</a>:</h4>
<p>I think a new operation outcome code makes sense. We could also explore some kind of header.</p>



<a name="203853427"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203853427" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203853427">(Jul 14 2020 at 16:17)</a>:</h4>
<p>Actually, we typically use "too-costly" in the operation outcome for things that would take too long</p>



<a name="203853910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203853910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203853910">(Jul 14 2020 at 16:20)</a>:</h4>
<p>it looks like that's tied to 422 today, since it's a bit of a biz rule</p>



<a name="203853924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203853924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203853924">(Jul 14 2020 at 16:20)</a>:</h4>
<p>(again, just in our implementation - doesn't mean it's correct :) )</p>



<a name="203857799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203857799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vic Hindocha <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203857799">(Jul 14 2020 at 16:52)</a>:</h4>
<p>Hello all</p>



<a name="203858654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/203858654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#203858654">(Jul 14 2020 at 16:59)</a>:</h4>
<p>Hello :)</p>



<a name="206048025"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206048025" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206048025">(Aug 05 2020 at 16:55)</a>:</h4>
<p>as opposed to the server deciding at the time of the request that a query is going to take too long and providing an async fallback, is there any good option pre-coordination, in particular in the case of frequently offline clients?  Something along the lines of a client (or set of clients) saying "I am going to need an export with these parameters on a routine basis, but I dont know that I will have good enough connectivity to wait for an async operation or for a long running query to execute on the server, can you please go ahead and cache the export with these parameters and make sure it stays fresh?"</p>



<a name="206048512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206048512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206048512">(Aug 05 2020 at 16:59)</a>:</h4>
<p>The pre-coordination is what exists today - the app can say it prefers the respond-async response.</p>



<a name="206048575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206048575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206048575">(Aug 05 2020 at 16:59)</a>:</h4>
<p>It's the server saying "I know you said you wanted sync, but you just asked me to do something that will take several minutes or more.. I'm going to respond async" that seems to be missing</p>



<a name="206056505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206056505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206056505">(Aug 05 2020 at 17:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191356">@Jenni Syed</span>  maybe to elaborate my understanding:  Let's say I have a set of parameters X for an export.   Right now, in the sync scenario, Client A would submit X, the server would then generate the export and then respond back.   If Client B wants that same export with X, then it would not know about Client A's request and would need to initiate it's own export operation.   It would be up to the server to decide if they want to implement something like, oh I have seen this request for export X before, let me reuse the results (with perhaps a refresh for new data).   There is no current way to declare to the server "export under X parameters is going to be of high interest to several clients, please try to keep an export ready for immediate response to the clients."</p>



<a name="206056542"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206056542" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206056542">(Aug 05 2020 at 17:58)</a>:</h4>
<p>have I misunderstood something here?</p>



<a name="206066365"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206066365" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206066365">(Aug 05 2020 at 19:19)</a>:</h4>
<p>That's accurate - though I'm not sure a client is going to know when many apps will have access to the same data (security wise). I'm not sure it can be anyone other than the server that determines that. I assume you're referring specifically to the bulk spec? I think this was originally a question that was a bit broader/more general than bulk export (but reusing the parts of the spec that added that async response functionality)</p>



<a name="206071375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206071375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206071375">(Aug 05 2020 at 20:02)</a>:</h4>
<p>this is for bulk spec.   maybe more context would help..... we support a number of mobile apps that work in largely offline environments (sub-Saharan Africa).   many of these deployments include where there is no network connectivity and the devices need to be taken on a weekly/monthly basis to sync data.  this seek window can sometimes be  small.  there may be several health workers working out of the same clinic and so would, for example, need the same patient cohort identified by a Group to pull in any updated information on the patients/clients.   I would like to avoid a situation where they miss a sync window because the server is still processing.</p>



<a name="206071985"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206071985" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206071985">(Aug 05 2020 at 20:08)</a>:</h4>
<p>The server can keep the exported data always up to date (independently from bulk export requests), and when a bulk export request for that set comes in just return the links to the files? Does not seem to need any change in the bulk export specs</p>



<a name="206072311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206072311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206072311">(Aug 05 2020 at 20:11)</a>:</h4>
<p>@michele how does we indicate to the server <em>which</em> exports to keep up to date?   this could be quite voluminous especially if we are subsetting from a large server (e.g. national)</p>



<a name="206073432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206073432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206073432">(Aug 05 2020 at 20:22)</a>:</h4>
<p>A config file? A form in its user interface?</p>



<a name="206073619"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206073619" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206073619">(Aug 05 2020 at 20:24)</a>:</h4>
<p>right, but that would be server implementation specific.</p>



<a name="206073651"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206073651" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206073651">(Aug 05 2020 at 20:24)</a>:</h4>
<p>i would prefer something that wasn't</p>



<a name="206076779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206076779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206076779">(Aug 05 2020 at 20:53)</a>:</h4>
<p>something to specify a "cache hint" for the server.   something like an $export-hint operation that takes the same parameters as $export</p>



<a name="206136313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206136313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206136313">(Aug 06 2020 at 12:54)</a>:</h4>
<p>or even a cache-hint parameter under $export</p>



<a name="206163967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206163967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206163967">(Aug 06 2020 at 16:22)</a>:</h4>
<blockquote>
<p>If Client B wants that same export with X, then it would not know about Client A's request and would need to initiate it's own export operation. </p>
</blockquote>
<p>Just to note: this all gets more complex if there are any relative requirements like <code>_since</code>, because in general each client would want to supply its own "last synced timestamp" value here. Client A and B likely have different needs.</p>



<a name="206164131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206164131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206164131">(Aug 06 2020 at 16:24)</a>:</h4>
<p>But Carl, maybe your use case is simpler -- like, if at export time a client can say "Do this export now, but I'm going offline for a bit, so please keep the result available for 1 week, or 1 month, or until I call delete"... is that enough? (Or are you saying you need to have the server maintain some kind of cron-like schedule-driven proactive process?)</p>



<a name="206166023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206166023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206166023">(Aug 06 2020 at 16:43)</a>:</h4>
<p>yes,  agreed A and B would need in general individual timestamps, even if almost the same.  _since is a potential special case here, though I don't think the other parameters would be different for A and B.  perhaps some guidance on on server implementations to index cached results on timestamp.   the _type, _typeFilter and _outputFormat should be consistent for A and B.  </p>
<p>i don't think the simpler use case would work, at least not as stated.  maybe if it was "Do this export now, but I'm going offline for a bit, so please keep the result available and refreshed until I call delete" could work.  I was imagining a more proactive process.</p>



<a name="206166196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Asynch%20as%20a%20fall-back/near/206166196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Asynch.20as.20a.20fall-back.html#206166196">(Aug 06 2020 at 16:44)</a>:</h4>
<p>as a side note, this is to help inform and facilitate some sync workflows that will be a part of an android fhir sdk and the openhie architecture.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
