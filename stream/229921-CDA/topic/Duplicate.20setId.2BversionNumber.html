---
layout: page
title: "FHIR Chat  · Duplicate setId+versionNumber · CDA"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/229921-CDA/index.html">CDA</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/229921-CDA/topic/Duplicate.20setId.2BversionNumber.html">Duplicate setId+versionNumber</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="226381156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/229921-CDA/topic/Duplicate%20setId%2BversionNumber/near/226381156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Łysik <a href="https://fhir.github.io/chat-archive/stream/229921-CDA/topic/Duplicate.20setId.2BversionNumber.html#226381156">(Feb 15 2021 at 13:04)</a>:</h4>
<p>I am a developer of Health Information Systems. Recently I encountered several HL7 CDA referrals which had the same setId and versionNumber. I was always convinced that it's incorrect situation.</p>
<p>May I ask for your advice? Is it correct if two HL7 CDA documents exist with identifiers  like these below? They are not real life examples, I changed them because of privacy of medical records, however they are a good example of the problem.</p>
<p>In short: I have found CDA documents with identical setId+versionNumber pair of identifiers.</p>
<p>First document:<br>
&lt;id displayable="false" extension="ABC123" <br>
root="2.16.840.1.113883.3.4424.2.7.0.4.1"/&gt;<br>
&lt;setId extension="1234" root="2.16.840.1.113883.3.4424.2.7.0.4.2"/&gt;<br>
&lt;versionNumber value="1"/&gt;</p>
<p>Second document:<br>
&lt;id displayable="false" extension="XYZ987" <br>
root="2.16.840.1.113883.3.4424.2.7.0.4.1"/&gt;<br>
&lt;setId extension="1234" root="2.16.840.1.113883.3.4424.2.7.0.4.2"/&gt;<br>
&lt;versionNumber value="1"/&gt;</p>
<p>Best Regards,<br>
Artur</p>



<a name="226389334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/229921-CDA/topic/Duplicate%20setId%2BversionNumber/near/226389334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/229921-CDA/topic/Duplicate.20setId.2BversionNumber.html#226389334">(Feb 15 2021 at 14:19)</a>:</h4>
<p>Version management in CDA assumes that all versions are known/available to the party that authors a new version in a set. But an authoring system may not have access to the latest version, or have persisted the latest VersionNumber. This can't always be avoided, even if systems were to act in good faith.</p>



<a name="226393907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/229921-CDA/topic/Duplicate%20setId%2BversionNumber/near/226393907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Łysik <a href="https://fhir.github.io/chat-archive/stream/229921-CDA/topic/Duplicate.20setId.2BversionNumber.html#226393907">(Feb 15 2021 at 15:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191372">René Spronk</span> <a href="#narrow/stream/229921-CDA/topic/Duplicate.20setId.2BversionNumber/near/226389334">said</a>:</p>
<blockquote>
<p>Version management in CDA assumes that all versions are known/available to the party that authors a new version in a set. But an authoring system may not have access to the latest version, or have persisted the latest VersionNumber. This can't always be avoided, even if systems were to act in good faith.</p>
</blockquote>
<p>Good point. However, both documents come from the central system. Every e-referral issued in our country should be uploaded to this system.  So all  versions are known to this central system. Still it allows to duplicate setId+versionNumber. I think it should be validated during upload and duplicates should be rejected.<br>
Thank you for your response!<br>
Artur</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
