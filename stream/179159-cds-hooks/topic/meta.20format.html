---
layout: page
title: "FHIR Chat  · meta format · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html">meta format</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153816653"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816653" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816653">(Mar 18 2016 at 21:49)</a>:</h4>
<p>What's the format that you return when trying to register a service through the 'quick add' button on <a href="http://hooks.fhir.me/" target="_blank" title="http://hooks.fhir.me/">http://hooks.fhir.me/</a>?<br>
I paste in a url (<a href="http://107.170.196.80:3000/cdshook/helloworld/$cds-hook" target="_blank" title="http://107.170.196.80:3000/cdshook/helloworld/$cds-hook">http://107.170.196.80:3000/cdshook/helloworld/$cds-hook</a> )<br>
the client calls "/cdshook/helloworld/$cds-hook-metadata"<br>
I return</p>
<div class="codehilite"><pre>{
    &quot;resourceType&quot;: &quot;Parameters&quot;,
    &quot;parameter&quot;: [
        {
            &quot;name&quot;: &quot;name&quot;,
            &quot;valueString&quot;: &quot;helloworld&quot;
        },
        {
            &quot;name&quot;: &quot;description&quot;,
            &quot;valueString&quot;: &quot;A classic hello world service that will just display a string&quot;
        },
        {
            &quot;name&quot;: &quot;activity&quot;,
            &quot;valueCoding&quot;: {
                &quot;system&quot;: &quot;http://cds-hooks.smarthealthit.org/activity&quot;,
                &quot;code&quot;: &quot;patient-view&quot;
            }
        }
    ]
}
</pre></div>


<p>and it seems to be accepted (no error generated) - but the service is not subsequently called...</p>



<a name="153816654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816654">(Mar 18 2016 at 21:51)</a>:</h4>
<p>(sorry - haven't got the formatting right yet)</p>



<a name="153816655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816655">(Mar 18 2016 at 21:52)</a>:</h4>
<p>Your metadata look good -- but when I try your service  I see:</p>
<div class="codehilite"><pre>XMLHttpRequest cannot load http://107.170.196.80:3000/cdshook/helloworld/$cds-hook-metadata.
No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.
Origin &#39;http://hooks.fhir.me&#39; is therefore not allowed access.
</pre></div>



<a name="153816656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816656">(Mar 18 2016 at 21:54)</a>:</h4>
<p>wierd - I see the call being made in the log...</p>



<a name="153816657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816657">(Mar 18 2016 at 21:54)</a>:</h4>
<p>but I can add the header easily enough...</p>



<a name="153816658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816658">(Mar 18 2016 at 21:54)</a>:</h4>
<p>Oh, the web app  makes the call, but doesn't return results to the JS</p>



<a name="153816659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816659">(Mar 18 2016 at 21:54)</a>:</h4>
<p>That's how it knows there's no header :-)</p>



<a name="153816660"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816660" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816660">(Mar 18 2016 at 21:55)</a>:</h4>
<p>Not the old https page js calling a http location?</p>



<a name="153816661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816661">(Mar 18 2016 at 21:55)</a>:</h4>
<p>sorry not following - I'm returning the above json when the meta is called...</p>



<a name="153816662"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816662" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816662">(Mar 18 2016 at 21:55)</a>:</h4>
<p>oh - https!</p>



<a name="153816663"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816663" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816663">(Mar 18 2016 at 22:00)</a>:</h4>
<p>Wait, everything here (the EHR and David's server) are <code>http</code>.</p>



<a name="153816664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816664">(Mar 18 2016 at 22:01)</a>:</h4>
<p>is that OK in the sandbox?</p>



<a name="153816665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816665">(Mar 18 2016 at 22:01)</a>:</h4>
<p>Just checking. Have been caught by that one sooooo many time</p>



<a name="153816666"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816666" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816666">(Mar 18 2016 at 22:01)</a>:</h4>
<p>with the js page being on https</p>



<a name="153816667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816667">(Mar 18 2016 at 22:02)</a>:</h4>
<p>David, your service has the CORS headers setup right?</p>



<a name="153816668"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816668" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816668">(Mar 18 2016 at 22:02)</a>:</h4>
<p>Yes, <code>http</code> is A-OK</p>



<a name="153816669"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/meta%20format/near/153816669" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/meta.20format.html#153816669">(Mar 18 2016 at 22:02)</a>:</h4>
<p>CORS is the issue.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
