---
layout: page
title: "FHIR Chat  Â· docs / Issue #4 Strengthen documentation around app links Â· cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.234.20Strengthen.20documentation.20around.20app.20links.html">docs / Issue #4 Strengthen documentation around app links</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153886001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%234%20Strengthen%20documentation%20around%20app%20links/near/153886001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.234.20Strengthen.20documentation.20around.20app.20links.html#153886001">(Apr 25 2017 at 18:54)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/docs/issues/4#issuecomment-297130413" target="_blank" title="https://github.com/cds-hooks/docs/issues/4#issuecomment-297130413">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/4" target="_blank" title="https://github.com/cds-hooks/docs/issues/4">Issue #4</a></p>
<blockquote>
<p><span class="user-mention" data-user-email="jmandel@gmail.com" data-user-id="9">@Josh Mandel</span> - Sorry for coming in late on this:</p>
<blockquote>
<p>The other requirement to highlight here, I think, is letting an app finish and return control back to the EHR...<br>
...Right now we do this using a redirect URL: the app's job is to redirect to that URL if/when the user has finished working with the app...</p>
</blockquote>
<p>To be clear, the discussion on this issue prior to Feb 21 been focused around links -- both absolute and SMART app links. We weren't discussing the decision workflow. I mention this because I did not see the <code>redirect</code> field being used just anytime a user follows a link in a card and wants to come back to the EHR. I saw <code>redirect</code> existing purely for the decision workflow.</p>
<p>If <code>redirect</code> is to be called when the user closes any link they follow on a card, how is the EHR supposed to know not to re-trigger decision support (since no decisions were made)?</p>
<p>Also, <code>redirect</code> would only need to be called if the link were capable of even following the redirect. I'm guessing in nearly every <code>absolute</code> link case, we cannot follow the redirect (since those likely aren't apps). Additionally, my assumption here is that EHRs aren't going to want to change navigation to a link in a card. Rather, I'm assuming that EHRs will likely want to open the link in a new window or component/tab within the EHR itself.</p>
<p><span class="user-mention" data-user-email="jmandel@gmail.com" data-user-id="9">@Josh Mandel</span> - Did you think we were using <code>redirect</code> when a user is done visiting any link on a card or did some wires get crossed here?</p>
</blockquote>



<a name="153886014"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%234%20Strengthen%20documentation%20around%20app%20links/near/153886014" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.234.20Strengthen.20documentation.20around.20app.20links.html#153886014">(Apr 25 2017 at 20:58)</a>:</h4>
<p>jmandel <a href="https://github.com/cds-hooks/docs/issues/4#issuecomment-297162951" target="_blank" title="https://github.com/cds-hooks/docs/issues/4#issuecomment-297162951">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/4" target="_blank" title="https://github.com/cds-hooks/docs/issues/4">Issue #4</a></p>
<blockquote>
<blockquote>
<p>If redirect is to be called when the user closes any link they follow on a card, how is the EHR supposed to know not to re-trigger decision support (since no decisions were made)?</p>
</blockquote>
<p>Under the current model, the EHR always re-triggers any time a site or app explicitly "returns control" via the redirect. That's part of handling a "return" operation. Of course, we could add on a parameter (<code>&amp;refetch=yes-please</code>, or whatever) to save the extra work.</p>
<blockquote>
<p>I'm assuming that EHRs will likely want to open the link in a new window or component/tab within the EHR itself.</p>
</blockquote>
<p>Sure, this is up to the EHR to decide. But in the event that the EHR opens a new window and doesn't receive "return", the EHR is basically saying "You don't get to make decisions". That's okay...</p>
<blockquote>
<p><span class="user-mention" data-user-email="jmandel@gmail.com" data-user-id="9">@Josh Mandel</span> - Did you think we were using redirect when a user is done visiting any link on a card or did some wires get crossed here?</p>
</blockquote>
<p>I think <code>redriect</code> <em>can apply</em> any time a user clicks a link on a card. Now, there could always be _additional_ (out of band, from the CDS Hooks perspective) ways to "finish with an app" (e.g. the EHR might also display a big "X" next to the app view, or might just open it in a new window that's totally disconnected from the user session). But as an in-band way of "returning", the <code>redirect</code> works equally well for SMART apps and other linkable services.</p>
</blockquote>



<a name="153886021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%234%20Strengthen%20documentation%20around%20app%20links/near/153886021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.234.20Strengthen.20documentation.20around.20app.20links.html#153886021">(Apr 25 2017 at 21:09)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/docs/issues/4#issuecomment-297165838" target="_blank" title="https://github.com/cds-hooks/docs/issues/4#issuecomment-297165838">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/4" target="_blank" title="https://github.com/cds-hooks/docs/issues/4">Issue #4</a></p>
<blockquote>
<p>So I went back through and re-read our documentation on <code>redirect</code>. I totally missed that it is intended to be used to return control back to the EHR after following any link. I always thought it was just for the decision workflow. <img alt="ðŸ˜›" class="emoji" src="/static/generated/emoji/images/emoji/unicode/1f61b.png" title="ðŸ˜›"> </p>
<p>I'll log a new issue around <code>redirect</code> and we can move the discussion there.</p>
</blockquote>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
