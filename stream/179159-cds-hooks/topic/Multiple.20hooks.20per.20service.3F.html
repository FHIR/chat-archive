---
layout: page
title: "FHIR Chat  · Multiple hooks per service? · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html">Multiple hooks per service?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153891918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153891918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ville Lindholm <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153891918">(Jun 01 2017 at 07:50)</a>:</h4>
<p>Hi guys! There's a lot of info sources, this chat and github etc, so this may have been asked before: what is the rationale between only having one hook per service? I would find it logical to provide multiple hooks under the same theme or "umbrella", i.e. the CDS service.</p>



<a name="153891919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153891919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ville Lindholm <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153891919">(Jun 01 2017 at 07:55)</a>:</h4>
<p>My case is that we are implementing decision support for a national self-care service, i.e. the user fills out a questionnaire that asks for symptoms, and this (potentially together with publicly available EHR data) is sent to us and we provide directions for self-care and for seeking professional help if it is needed. It would be nice to have all the hooks under e.g. a 'self-care' service :)</p>



<a name="153891920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153891920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153891920">(Jun 01 2017 at 09:08)</a>:</h4>
<p>what do you mean, all under one service?</p>



<a name="153891921"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153891921" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ville Lindholm <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153891921">(Jun 01 2017 at 09:19)</a>:</h4>
<p>As far as I can understand, cds-services lists all the available services, returning each service (i.e. rest endpoint) and the hook name corresponding to that service</p>



<a name="153891922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153891922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ville Lindholm <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153891922">(Jun 01 2017 at 09:19)</a>:</h4>
<p>and hook name != service name</p>



<a name="153891923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153891923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ville Lindholm <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153891923">(Jun 01 2017 at 09:20)</a>:</h4>
<p>but I haven't seen any example of a service, i.e. endpoint, supporting multiple hooks.</p>



<a name="153891924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153891924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ville Lindholm <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153891924">(Jun 01 2017 at 09:21)</a>:</h4>
<p>is it as simple as cds-service returning the same endpoint multiple times, with different hook and parameter values?</p>



<a name="153891925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153891925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ville Lindholm <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153891925">(Jun 01 2017 at 09:21)</a>:</h4>
<p>cds-services*</p>



<a name="153891942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153891942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153891942">(Jun 01 2017 at 15:12)</a>:</h4>
<p>Each CDS hooks server can have a list of  'services' each of which has it's own endpoint based on the base url of the server e.g. two 'services' listed <a href="https://oridashiquickhooks.azurewebsites.net/cds/cds-services" target="_blank" title="https://oridashiquickhooks.azurewebsites.net/cds/cds-services">https://oridashiquickhooks.azurewebsites.net/cds/cds-services</a> - this means there are two endpoints to call with the specified pre-fetch data - the 'hook' value is the context when to make the call <br>
e.g. for this server endpoints are <a href="https://oridashiquickhooks.azurewebsites.net/cds/cds-services/redbook-7" target="_blank" title="https://oridashiquickhooks.azurewebsites.net/cds/cds-services/redbook-7">https://oridashiquickhooks.azurewebsites.net/cds/cds-services/redbook-7</a> and <a href="https://oridashiquickhooks.azurewebsites.net/cds/cds-services/redbook-8" target="_blank" title="https://oridashiquickhooks.azurewebsites.net/cds/cds-services/redbook-8">https://oridashiquickhooks.azurewebsites.net/cds/cds-services/redbook-8</a></p>



<a name="153891944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153891944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153891944">(Jun 01 2017 at 15:13)</a>:</h4>
<p>is that the sort of thing you are meaning? the 'hook' would not need to be thesame type ; and can see the prefetch content can be different for each service</p>



<a name="153891949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153891949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ville Lindholm <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153891949">(Jun 01 2017 at 15:42)</a>:</h4>
<p>I was actually thinking about it the other way around, that I would have one endpoint (i.e. service) which would support multiple hooks. In your example e.g. 'redbook-7' could support both 'patient-view' and 'medication-prescribe' hooks.</p>



<a name="153891951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153891951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ville Lindholm <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153891951">(Jun 01 2017 at 15:42)</a>:</h4>
<p>So I was wondering if it was kosher to list the same endpoint multiple times in 'cds-services', only with different hook names and prefetch contents.</p>



<a name="153891952"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153891952" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ville Lindholm <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153891952">(Jun 01 2017 at 15:46)</a>:</h4>
<p>I can of course just name the endpoints e.g. 'redbook-7-patient-view' and 'redbook-7-medication-prescribe' or whatever but that's not very aesthetic :)</p>



<a name="153891966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153891966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153891966">(Jun 01 2017 at 18:36)</a>:</h4>
<p><span class="user-mention" data-user-id="193725">@Ville Lindholm</span> - While it is true each CDS Service is associated with a single hook, you can (under the covers as an implementation detail of your server) simply have multiple endpoints for your "uber" service, each of which is associated to whatever hook you want</p>



<a name="153891967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153891967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ville Lindholm <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153891967">(Jun 01 2017 at 18:53)</a>:</h4>
<p>Not sure what you mean. I'm a bit lost as to the hierarchy between services and hooks. Why is there only one hook allowed per endpoint? My first thought would be that the hook is the "verb" and the service is the context for that verb. I would like to apply that same context to many verbs. <br>
 Without going into details, my plan was that one service would equal one vendor, and every vendor would have access to the same set of hooks on their own endpoint, with the hook's prefetches and results tailored for their specific needs.</p>



<a name="153892000"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153892000" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153892000">(Jun 02 2017 at 00:06)</a>:</h4>
<p>I think setting the 'hook' element on a 'service' to whichever hook type you would like i.e. same or different - then calls are made into the appropriate 'service' at the appropriate trigger point... the 'id' is whatever it is so don't see that being  that important (?) -  so I think of it as an endpoint {baseUrl}/cds-services and the call {baseUrl}/cds-services/{id} is a call to that endpoint with an 'id' parameter (RESTful) - which is how i've implemented it also</p>



<a name="153892001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153892001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153892001">(Jun 02 2017 at 00:10)</a>:</h4>
<p>each service entry is a self contained definition of - appopriate time to trigger (hook); which data to provider up front (prefetch); an identity to reference (id) + descriptions (name, description) <br>
each cds service call is done at appropriate hook trigger point and contains the id of the 'service' you are invoking </p>



<a name="153892003"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153892003" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153892003">(Jun 02 2017 at 00:14)</a>:</h4>
<p>granularity of the service is up to the cds provider i.e. I could put all of the chapters of my preventative care guidelines into one call with a lot of prefetch data; or split to have one call per chapter (which is as per my example site);</p>



<a name="153892004"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Multiple%20hooks%20per%20service%3F/near/153892004" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Multiple.20hooks.20per.20service.3F.html#153892004">(Jun 02 2017 at 00:17)</a>:</h4>
<p>I guess multple 'hook' elements would be something to think about for 'services' definitions i.e. same cds calls at multiple trigger points? although this becomes just a definition/discovery issue - as multiple service defintions can be routed through to a single processor for implementation anway... </p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
