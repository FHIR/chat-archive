---
layout: page
title: "FHIR Chat  · cds-hooks: issue 10: Decide how services publish metadata · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html">cds-hooks: issue 10: Decide how services publish metadata</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153817102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> CDS Hooks Bot <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817102">(Mar 21 2016 at 21:26)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/cds-hooks/issues/10#issuecomment-199493267" target="_blank" title="https://github.com/cds-hooks/cds-hooks/issues/10#issuecomment-199493267">commented</a> on <a href="https://github.com/cds-hooks/cds-hooks/issues/10" target="_blank" title="https://github.com/cds-hooks/cds-hooks/issues/10">issue 10</a></p>
<blockquote>
<p><span class="user-mention" data-user-email="jmandel@gmail.com">@Josh Mandel</span> - I certainly am not a fan of trying to use the existing FHIR Conformance resource for this information so option 2 is my least preferred.</p>
<p>That leaves me with option 1. However, in your example above, it looks like a CDS Service is only able to communicate metadata on a particular activity (eg, medication-prescribe). I would think it would be preferable to communicate metadata about all activities offered up by the CDS Service.</p>
<p>So, I'll present another option, modified from my big <a href="https://groups.google.com/d/msg/cds-hooks/frHmx2VCvIE/TEWxUXLzEwAJ" target="_blank" title="https://groups.google.com/d/msg/cds-hooks/frHmx2VCvIE/TEWxUXLzEwAJ">*Thoughts on CDS Hooks* mailing list thread</a>) and to take into account the decision that we will use the <a href="https://www.hl7.org/fhir/parameters.html" target="_blank" title="https://www.hl7.org/fhir/parameters.html">FHIR Parameters resource</a> (see #11):</p>
<p>#### 3. Via $cds-hooks-metadata operation for all hooks</p>
<p>Simplified view:<br>
Request: GET /$cds-hooks-metadata</p>
<div class="codehilite"><pre>{
  hooks:              1..* {
    hook:             1..1 valueCoding,
    url:              1..1 valueUri,
    name:             1..1 valueString,
    description:      1..1 valueString,
    preFetchTemplate: 0..* valueString
  }
}
</pre></div>


<p>I'm lazy so I'm omitting the full response using Parameters (which would be the actual response).</p>
<p>Changes from option 1:<br>
- Support a list of hooks rather than just one<br>
- Pluralize the operations name ($cds-hook-metadata to $cds-hook<strong>s</strong>-metadata<br>
- Specify the URL for each hook<br>
- Rename activity to hook (pending #13)</p>
</blockquote>



<a name="153817108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> CDS Hooks Bot <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817108">(Mar 21 2016 at 21:36)</a>:</h4>
<p>jmandel <a href="https://github.com/cds-hooks/cds-hooks/issues/10#issuecomment-199497299" target="_blank" title="https://github.com/cds-hooks/cds-hooks/issues/10#issuecomment-199497299">commented</a> on <a href="https://github.com/cds-hooks/cds-hooks/issues/10" target="_blank" title="https://github.com/cds-hooks/cds-hooks/issues/10">issue 10</a></p>
<blockquote>
<p>Thank @kpshek. In the case where a single <code>$cds-hook</code> endpoint serves multiple different activities (medication-prescribe and patient-view, for example -- btw, see how using the word "hooks" there would have been akward?), I see the value in having a list of hooks.</p>
<p>But I'm not sure I understand the use case for giving each hook a separate URL. If these are independent services hosted by different parties, it would be strange to have a third-party publish one the "metadata" for them all, and potentially given them different/misleading names, or incompatible <code>preFetchData</code> from what the hook publisher intended.</p>
<p>I like the idea of 1:1 correspondence between the publisher of a hook and the publisher if its metadata, which option (1) above achieves. We could tweak your proposal by dropping the <code>url</code>, and then the concern would resolve.</p>
<p>Now, maybe we do want to describe a role for meta-aggregation here (e.g. here's the "list of hooks I like to use", which points to external services). But that would be a different structure, I think -- just a simple list of metadata endpoints, rather than repeating all the details.</p>
</blockquote>



<a name="153817130"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817130" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kalyani Yerra <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817130">(Mar 21 2016 at 22:21)</a>:</h4>
<p>Would it make sense to have different preFetch templates for different hooks. <br>
For patient-view hook I may not need any preFetch data, but for medication-prescribe hook I might also need some Observation resources as my preFetch data.</p>



<a name="153817131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817131">(Mar 21 2016 at 22:23)</a>:</h4>
<p>Of course. That's part of Kevin's proposal. </p>



<a name="153817132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kalyani Yerra <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817132">(Mar 21 2016 at 22:25)</a>:</h4>
<p>Sorry missed that piece. </p>



<a name="153817158"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817158" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> CDS Hooks Bot <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817158">(Mar 22 2016 at 02:30)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/cds-hooks/issues/10#issuecomment-199593145" target="_blank" title="https://github.com/cds-hooks/cds-hooks/issues/10#issuecomment-199593145">commented</a> on <a href="https://github.com/cds-hooks/cds-hooks/issues/10" target="_blank" title="https://github.com/cds-hooks/cds-hooks/issues/10">issue 10</a></p>
<blockquote>
<blockquote>
<p>But I'm not sure I understand the use case for giving each hook a separate URL.</p>
</blockquote>
<p>My thinking here is that I wouldn't want to implement some super endpoint whose first order of business is to do a switch statement on the activity/name (eg, patient-view, medication-prescribe) and delegate to the appropriate logic. If by some chance your patient-view and medication-prescribe services were nearly identical, you could simply give them the same URL if you really wanted. However, even in this case I'd still prefer them to have different URLs so that I can track metrics on each without examining the request.</p>
<blockquote>
<p>If these are independent services hosted by different parties, it would be strange to have a third-party publish the "metadata" for them all, and potentially give them different/misleading names, or incompatible preFetchData from what the hook publisher intended.<br>
I like the idea of 1:1 correspondence between the publisher of a hook and the publisher of its metadata, which option (1) above achieves. We could tweak your proposal by dropping the url, and then the concern would resolve.</p>
</blockquote>
<p>You lost me here. I was assuming that the creator and company hosting a CDS Service would also host their metadata endpoint for their service so I agree with you on the 1:1 correspondence. Where did this idea of a third-party CDS Service aggregator come from?</p>
</blockquote>



<a name="153817160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> CDS Hooks Bot <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817160">(Mar 22 2016 at 02:54)</a>:</h4>
<p>jmandel <a href="https://github.com/cds-hooks/cds-hooks/issues/10#issuecomment-199603420" target="_blank" title="https://github.com/cds-hooks/cds-hooks/issues/10#issuecomment-199603420">commented</a> on <a href="https://github.com/cds-hooks/cds-hooks/issues/10" target="_blank" title="https://github.com/cds-hooks/cds-hooks/issues/10">issue 10</a></p>
<blockquote>
<p>Top level question: If you agree that it's a good practice to keep the services separate, why not keep the Metadata separate top?</p>
<p>As for the aggregation issue: it's more a fear than an idea. Since there's no constraint, and "url" can be anything, an EHR consuming Metadata can get tricked/confused by a third party that badly tries to point to other service. Whereas if we adopted a stronger convention, this would be impossible.</p>
</blockquote>



<a name="153817161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> CDS Hooks Bot <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817161">(Mar 22 2016 at 03:00)</a>:</h4>
<p>jmandel <a href="https://github.com/cds-hooks/cds-hooks/issues/10#issuecomment-199604179" target="_blank" title="https://github.com/cds-hooks/cds-hooks/issues/10#issuecomment-199604179">commented</a> on <a href="https://github.com/cds-hooks/cds-hooks/issues/10" target="_blank" title="https://github.com/cds-hooks/cds-hooks/issues/10">issue 10</a></p>
<blockquote>
<p>And never mind my "aggregation" use case: I was just trying to anticipate one (apparently non-)reason why you might have wanted to define multiple Hooks in the same Metadata file. </p>
</blockquote>



<a name="153817162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> CDS Hooks Bot <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817162">(Mar 22 2016 at 03:18)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/cds-hooks/issues/10#issuecomment-199609961" target="_blank" title="https://github.com/cds-hooks/cds-hooks/issues/10#issuecomment-199609961">commented</a> on <a href="https://github.com/cds-hooks/cds-hooks/issues/10" target="_blank" title="https://github.com/cds-hooks/cds-hooks/issues/10">issue 10</a></p>
<blockquote>
<blockquote>
<p>Top level question: If you agree that it's a good practice to keep the services separate, why not keep the Metadata separate too?</p>
</blockquote>
<p>By separate, do you mean have a metadata endpoint for each service? If so, what I'd really love (<a href="https://groups.google.com/forum/m/#!topic/cds-hooks/frHmx2VCvIE" target="_blank" title="https://groups.google.com/forum/m/#!topic/cds-hooks/frHmx2VCvIE">more discussion here</a>) is:</p>
<p>- metadata: GET /:hook<br>
- service: POST /:hook/:id</p>
<p>Eg:<br>
- GET <a href="https://cds-provider/patient-view" target="_blank" title="https://cds-provider/patient-view">https://cds-provider/patient-view</a> to read the metadata resource for this service<br>
- POST <a href="https://cds-provider/patient-view/0aaafead-3788-4733-a0e8-6221b76cb477" target="_blank" title="https://cds-provider/patient-view/0aaafead-3788-4733-a0e8-6221b76cb477">https://cds-provider/patient-view/0aaafead-3788-4733-a0e8-6221b76cb477</a> to invoke an instance of this service</p>
<p><strong>But</strong>, we're going with FHIR API conventions (Parameters, operations, etc) so I took that off the table mentally and am going with the <code>$</code> operation syntax. And, given that this doesn't resembles a RESTful API in this model, I don't know how to model what I want above in these constraints.</p>
<p>You have a lot more experience with FHIR modeling conventions than myself so if there is a way so if there is a better way, I'd love to know.</p>
<blockquote>
<p>Since there's no constraint, and "url" can be anything, an EHR consuming Metadata can get tricked/confused by a third party that badly tries to point to other services. Whereas if we adopted a stronger convention, this would be impossible.</p>
</blockquote>
<p>I'm all for establishing stronger conventions; I want this too and would prefer if CDS Providers weren't allowed to specify arbitrary URLs. This is another thing I like above the URI design that I would love -- CDS Providers just need to register their base URL with the EHR / registry.</p>
<p>I get why you've got the service defined at that master endpoint. Using the <a href="https://www.hl7.org/fhir/operations.html" target="_blank" title="https://www.hl7.org/fhir/operations.html">FHIR operations framework</a> doesn't provide much flexibility (in the current FHIR spec). You'd have to define something like $cds-service-patient-view, $cds-service-medication-prescribe, etc. I'll reiterate that I think it's important that these services are offered at distinct URIs -- not just for the maintainability/clarity of the service code but also for monitoring, metrics, and independent scalability that distinct URIs would offer.</p>
</blockquote>



<a name="153817197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817197">(Mar 22 2016 at 10:53)</a>:</h4>
<p>Kevin, I think we're talking past one another here. You say you want services offered at "distinct URLs" and I agree. I think the way to accomplish this "in FHIR"  is by having CDS providers host different base URLs, like:</p>



<a name="153817198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817198">(Mar 22 2016 at 10:53)</a>:</h4>
<p>After my last comment last night, I figured that's what you were thinking</p>



<a name="153817199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817199">(Mar 22 2016 at 10:54)</a>:</h4>
<p>And yes, hosting services at different base URLs would work</p>



<a name="153817200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817200">(Mar 22 2016 at 10:54)</a>:</h4>
<div class="codehilite"><pre>https://cds-provider/my-med-service/$cds-hook
https://cds-provider/my-patient-service/$cds-hook
https://cds-provider/other-med-service/$cds-hook
</pre></div>



<a name="153817201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817201">(Mar 22 2016 at 10:54)</a>:</h4>
<p>yep</p>



<a name="153817202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817202">(Mar 22 2016 at 10:54)</a>:</h4>
<p>The downside to this is that the EHR has to register each of these separately</p>



<a name="153817203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817203">(Mar 22 2016 at 10:54)</a>:</h4>
<p>But that's my current (1)</p>



<a name="153817204"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817204" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817204">(Mar 22 2016 at 10:55)</a>:</h4>
<p>From my perspective (the EHR), I'd rather register a single base URL and then enable hooks on that base URL</p>



<a name="153817205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817205">(Mar 22 2016 at 10:57)</a>:</h4>
<p>and when I said "then enable hooks on that base URL" I mean after registering the single base URL in the EHR, then my admin/config UI shows the individual services offered by each hook and I can just tick a box enabling the ones I want the EHR to call</p>



<a name="153817206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817206">(Mar 22 2016 at 10:57)</a>:</h4>
<p>So what if we took my (1) and added one more kind of document: a "hook manifested" that could live anywhere, and just contained a list of URLs (each a $cds-hook endpoint) </p>



<a name="153817207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817207">(Mar 22 2016 at 10:57)</a>:</h4>
<p>yes that's what I do in my application  (ah, what Kevin said)</p>



<a name="153817208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817208">(Mar 22 2016 at 10:58)</a>:</h4>
<p>I think that there needs to be a single URL to point out that leads to the all the cds-hook types that the system supports. </p>



<a name="153817209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817209">(Mar 22 2016 at 10:58)</a>:</h4>
<p>I think that it should be possible that that would be a FHIR conformance statement, even if the extent of that support is a reference to some other native expression of the cds hooks capabilities</p>



<a name="153817210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817210">(Mar 22 2016 at 10:59)</a>:</h4>
<p>I'm just wary about what is "the system" since it seems to limit to a single base url. The "manifest" would get around this. </p>



<a name="153817211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817211">(Mar 22 2016 at 11:00)</a>:</h4>
<p>well, you should be able to have multiple hooks on single base url, yes?</p>



<a name="153817212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817212">(Mar 22 2016 at 11:00)</a>:</h4>
<p>Josh: Well, I was thinking that if you wanted a separate base URL (for whatever reason), you could certainly do that (nothing precludes you from this today).</p>



<a name="153817213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817213">(Mar 22 2016 at 11:01)</a>:</h4>
<p>Today there's no way to register a bunch of Hooks all at once though. </p>



<a name="153817214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817214">(Mar 22 2016 at 11:01)</a>:</h4>
<p>Right</p>



<a name="153817215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817215">(Mar 22 2016 at 11:01)</a>:</h4>
<p>And that's the problem you're aiming to solve. </p>



<a name="153817216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817216">(Mar 22 2016 at 11:01)</a>:</h4>
<p>Yes</p>



<a name="153817217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817217">(Mar 22 2016 at 11:02)</a>:</h4>
<p>And I agree with you that it would be good to have the URLs (other than base URL) be predictable.</p>



<a name="153817218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817218">(Mar 22 2016 at 11:02)</a>:</h4>
<p>And I think we said that multiplex base URLs was the best way we knew to  solve it</p>



<a name="153817219"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817219" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817219">(Mar 22 2016 at 11:03)</a>:</h4>
<p>As in:<br>
<a href="https://cds-provider/my-med-service/$cds-hook" target="_blank" title="https://cds-provider/my-med-service/$cds-hook">https://cds-provider/my-med-service/$cds-hook</a><br>
<a href="https://cds-provider/my-patient-service/$cds-hook" target="_blank" title="https://cds-provider/my-patient-service/$cds-hook">https://cds-provider/my-patient-service/$cds-hook</a><br>
<a href="https://cds-provider/other-med-service/$cds-" target="_blank" title="https://cds-provider/other-med-service/$cds-">https://cds-provider/other-med-service/$cds-</a></p>



<a name="153817220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817220">(Mar 22 2016 at 11:03)</a>:</h4>
<p>I said that I agreed that is one way to solve it</p>



<a name="153817221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817221">(Mar 22 2016 at 11:03)</a>:</h4>
<p>Ah, ok. </p>



<a name="153817222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817222">(Mar 22 2016 at 11:03)</a>:</h4>
<p>Do you have something you prefer? </p>



<a name="153817223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817223">(Mar 22 2016 at 11:05)</a>:</h4>
<p>Yes, this: <a href="https://cds-provider/someBase/:hook/:id" target="_blank" title="https://cds-provider/someBase/:hook/:id">https://cds-provider/someBase/:hook/:id</a></p>



<a name="153817224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817224">(Mar 22 2016 at 11:06)</a>:</h4>
<p>And I'd be fine using FHIR operations for this instead so:<br>
<a href="https://cds-provider/someBase/:hook/$cds-hook" target="_blank" title="https://cds-provider/someBase/:hook/$cds-hook">https://cds-provider/someBase/:hook/$cds-hook</a></p>



<a name="153817225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817225">(Mar 22 2016 at 11:06)</a>:</h4>
<p>what do you mean by :hook there?</p>



<a name="153817226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817226">(Mar 22 2016 at 11:06)</a>:</h4>
<p><code>patient-view</code>, <code>medication-prescribe</code>, etc</p>



<a name="153817227"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817227" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817227">(Mar 22 2016 at 11:07)</a>:</h4>
<p>ok, so isn't that naturally backwards? wouldn't $cds-hook/:hook be more natural? </p>



<a name="153817228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817228">(Mar 22 2016 at 11:07)</a>:</h4>
<p>It depends</p>



<a name="153817229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817229">(Mar 22 2016 at 11:08)</a>:</h4>
<p>what on?</p>



<a name="153817230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817230">(Mar 22 2016 at 11:08)</a>:</h4>
<p>Do you want the metadata resource available on each hook invidually? If so, this makes more sense:<br>
GET /:hook to retrieve the metadata<br>
POST /:hook/$cds-hook to call the service</p>



<a name="153817231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817231">(Mar 22 2016 at 11:09)</a>:</h4>
<p>heh I was about to write that</p>



<a name="153817232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817232">(Mar 22 2016 at 11:09)</a>:</h4>
<p>If you want the metadata for all hooks on that base URL, this makes sense:<br>
GET /$cds-hook to retrieve the metadata for all hooks<br>
POST /$cds-hook/:hook to call the service</p>



<a name="153817233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817233">(Mar 22 2016 at 11:11)</a>:</h4>
<p>if this was all FHIR directly, you would say that you had a resource that described the hook operation at [base]/CDSHook/:id, and you would invoke it at [base]/CDSHook/:id/$invoke of something. so a similar pattern. perhaps enough to be the same pattern</p>



<a name="153817234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817234">(Mar 22 2016 at 11:11)</a>:</h4>
<p>Perhaps it would help if we listed out the goals we all agree upon here and then determine which options/designs achieve those goals</p>



<a name="153817235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817235">(Mar 22 2016 at 11:11)</a>:</h4>
<p>GET [base]/CDSHook lists all the hooks...</p>



<a name="153817236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817236">(Mar 22 2016 at 11:11)</a>:</h4>
<p>Do the only difference between what you wrote,  Kevin, and what I wrote, is which piece of the URL in considered "the base". </p>



<a name="153817237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817237">(Mar 22 2016 at 11:11)</a>:</h4>
<p>Agreed let's write goals. </p>



<a name="153817238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817238">(Mar 22 2016 at 11:12)</a>:</h4>
<p>Goal *fhir": make sure that Hooks can be involved as fhir operations. </p>



<a name="153817239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817239">(Mar 22 2016 at 11:13)</a>:</h4>
<p>Goal "bulk": make sure an EHR can register multiple Hooks with a  single discovery point </p>



<a name="153817240"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817240" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817240">(Mar 22 2016 at 11:13)</a>:</h4>
<p>Yeah, I thought of that last night Grahame. If we created a new FHIR resource then a lot of this gets a bit easier</p>



<a name="153817241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817241">(Mar 22 2016 at 11:13)</a>:</h4>
<p>I'm always game ;-)</p>



<a name="153817242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817242">(Mar 22 2016 at 11:14)</a>:</h4>
<p>(But it wouldn't represent a resource, in anyone's sense. More like a reserved url path) </p>



<a name="153817243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817243">(Mar 22 2016 at 11:14)</a>:</h4>
<p>Goal "distinct": make sure each hook is a distinct URL so that invocation can be metered, monitored, and scaled independently.</p>



<a name="153817244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817244">(Mar 22 2016 at 11:14)</a>:</h4>
<p>the definition of what it does would be the resource</p>



<a name="153817245"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817245" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817245">(Mar 22 2016 at 11:15)</a>:</h4>
<p>Goal "predictable": make it easy to go from the url of a hook to the Metadata for it, without maintaining a bunch of state. Improved ease of use and security. </p>



<a name="153817246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817246">(Mar 22 2016 at 11:15)</a>:</h4>
<p>Goal "introspection": there must be some way to discover what is avialable, what they do and how they work</p>



<a name="153817247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817247">(Mar 22 2016 at 11:16)</a>:</h4>
<p>Anything else? </p>



<a name="153817248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817248">(Mar 22 2016 at 11:17)</a>:</h4>
<p>well, how far do you want to go? do you want to talk about how it integrates into a wider context? </p>



<a name="153817249"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817249" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817249">(Mar 22 2016 at 11:17)</a>:</h4>
<p>Is the 'limit state' goal the same as predictable URLs (both to make it easy/uniform and for security)? If not, I’ll add that as another goal</p>



<a name="153817250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817250">(Mar 22 2016 at 11:18)</a>:</h4>
<p>I'll change it to "predictable" and then yes. </p>



<a name="153817251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817251">(Mar 22 2016 at 11:18)</a>:</h4>
<p>Cool</p>



<a name="153817252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817252">(Mar 22 2016 at 11:19)</a>:</h4>
<p>Integration into a wider context: is this the "fhir"  Goal or is  it something more? </p>



<a name="153817253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817253">(Mar 22 2016 at 11:19)</a>:</h4>
<p>I don't know whether you want this: I want to be able to host cds-hook calls under the fhir base for mgmt/security/provisioning reasons </p>



<a name="153817254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817254">(Mar 22 2016 at 11:19)</a>:</h4>
<p>That's how I took the fhir goal above -- it should allow you to do that</p>



<a name="153817255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817255">(Mar 22 2016 at 11:20)</a>:</h4>
<p>Agreed,Kevin. </p>



<a name="153817256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817256">(Mar 22 2016 at 11:20)</a>:</h4>
<p>well, I was thinking about security - about the ability to have the cds-hook service be part of a wider service and share it's security</p>



<a name="153817257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817257">(Mar 22 2016 at 11:20)</a>:</h4>
<p>I guess maybe. I'm thinking aloud</p>



<a name="153817258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817258">(Mar 22 2016 at 11:20)</a>:</h4>
<p>Well, hopefully that's possible when we figure out the security bits :-)</p>



<a name="153817259"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817259" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817259">(Mar 22 2016 at 11:21)</a>:</h4>
<p>Clearly the "fhir" goal is these toughest constraint here. If we eliminated it, the others become easy. </p>



<a name="153817260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817260">(Mar 22 2016 at 11:22)</a>:</h4>
<p>But leaving everything in place... </p>



<a name="153817261"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817261" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817261">(Mar 22 2016 at 11:22)</a>:</h4>
<p>Yes. Well, it's tough IMHO by keeping fhir as-is. If we were to make some changes to FHIR we can make this work</p>



<a name="153817262"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817262" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817262">(Mar 22 2016 at 11:22)</a>:</h4>
<p>One thing we could do is go *not* have consistently named operations </p>



<a name="153817263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817263">(Mar 22 2016 at 11:23)</a>:</h4>
<p><a href="https://cds-provider/$my-med-service/$cds-hook" target="_blank" title="https://cds-provider/$my-med-service/$cds-hook">https://cds-provider/$my-med-service/$cds-hook</a><br>
<a href="https://cds-provider/$my-patient-service" target="_blank" title="https://cds-provider/$my-patient-service">https://cds-provider/$my-patient-service</a><br>
<a href="https://cds-provider/$other-med-service" target="_blank" title="https://cds-provider/$other-med-service">https://cds-provider/$other-med-service</a></p>



<a name="153817264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817264">(Mar 22 2016 at 11:23)</a>:</h4>
<p>we can consider changes</p>



<a name="153817265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817265">(Mar 22 2016 at 11:23)</a>:</h4>
<p>And only standardize the name of the Metadata operation </p>



<a name="153817266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817266">(Mar 22 2016 at 11:23)</a>:</h4>
<p>I'm not sure what you mean there</p>



<a name="153817267"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817267" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817267">(Mar 22 2016 at 11:23)</a>:</h4>
<p>Josh: those URLs you just posted don't serve our predictable goal</p>



<a name="153817268"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817268" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817268">(Mar 22 2016 at 11:24)</a>:</h4>
<p>Ah, they just provide a predictable way to get Metadata given a hook (strip the hook url, append "$cds-hooks-meta" or whatever </p>



<a name="153817269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817269">(Mar 22 2016 at 11:25)</a>:</h4>
<p>Posting here so we have them all together:</p>
<p>Goal *fhir": make sure that Hooks can be involved as fhir operations.</p>
<p>Goal "bulk": make sure an EHR can register multiple Hooks with a single discovery point</p>
<p>Goal "distinct": make sure each hook is a distinct URL so that invocation can be metered, monitored, and scaled independently.</p>
<p>Goal "predictable": make it easy to go from the url of a hook to the Metadata for it, without maintaining a bunch of state. Improved ease of use and security.</p>
<p>Goal "introspection": there must be some way to discover what is avialable, what they do and how they work</p>



<a name="153817270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817270">(Mar 22 2016 at 11:25)</a>:</h4>
<p>Grahame: I'm just saying we can define inputs and outputs but let servers host the operation at various names </p>



<a name="153817271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817271">(Mar 22 2016 at 11:25)</a>:</h4>
<p>But they are not predictable in that if I have a baseURL, I know what hooks are offered off of that baseURL. Not without some super metadata document</p>



<a name="153817272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817272">(Mar 22 2016 at 11:26)</a>:</h4>
<p>The Metadata document could live at a fixed url, always (relative to base) </p>



<a name="153817273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817273">(Mar 22 2016 at 11:26)</a>:</h4>
<p>If we add a 5th type of FHIR endpoint that operations can hang of off (<a href="https://www.hl7.org/fhir/operations.html" target="_blank" title="https://www.hl7.org/fhir/operations.html">https://www.hl7.org/fhir/operations.html</a>), this becomes doable I think</p>



<a name="153817274"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817274" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817274">(Mar 22 2016 at 11:26)</a>:</h4>
<p>Only the hook operation URLs would vary </p>



<a name="153817275"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817275" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817275">(Mar 22 2016 at 11:27)</a>:</h4>
<p>I like that, Kevin. </p>



<a name="153817276"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817276" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817276">(Mar 22 2016 at 11:27)</a>:</h4>
<p>Just "a reserved path segment" or some such. </p>



<a name="153817277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817277">(Mar 22 2016 at 11:27)</a>:</h4>
<p>fyi - I have to drop off in 2 min for a 30min call</p>



<a name="153817278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817278">(Mar 22 2016 at 11:27)</a>:</h4>
<p>Yes, exactly</p>



<a name="153817279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817279">(Mar 22 2016 at 11:27)</a>:</h4>
<p>Once upon a time we said every path starting with "_" was fair game. </p>



<a name="153817280"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817280" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817280">(Mar 22 2016 at 11:28)</a>:</h4>
<p>I have to run too </p>



<a name="153817281"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817281" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817281">(Mar 22 2016 at 11:28)</a>:</h4>
<p>OR, we accept a single metadata endpoint off the base URL (this was in my #3 proposal on the GH issue) + predictable operation names (like $cds-hook-patient-view, $cds-hook-medication-prescribe).</p>
<p>But I really dont like this</p>



<a name="153817282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817282">(Mar 22 2016 at 11:28)</a>:</h4>
<p>But (3) alone still doesn't let one server host multiple patient-view Hooks. </p>



<a name="153817283"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817283" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817283">(Mar 22 2016 at 11:29)</a>:</h4>
<p>how are these names controlled?</p>



<a name="153817284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817284">(Mar 22 2016 at 11:29)</a>:</h4>
<p>Gotta run now -- I'll be online in a few hrs as after my call I've got to go into work (still at home atm)</p>



<a name="153817285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817285">(Mar 22 2016 at 11:30)</a>:</h4>
<p>Thanks both for the great discussion on this! I don't know about you two, but I'm having a lot of fun with all of this :-)</p>



<a name="153817286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817286">(Mar 22 2016 at 11:30)</a>:</h4>
<p>They're part or an extensible catalog, so they re really not controlled (i.e. You can have private activities too) </p>



<a name="153817287"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817287" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817287">(Mar 22 2016 at 11:30)</a>:</h4>
<p>and how are they described? </p>



<a name="153817288"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817288" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817288">(Mar 22 2016 at 11:31)</a>:</h4>
<p><a href="https://github.com/cds-hooks/cds-hooks/wiki/Activity" target="_blank" title="https://github.com/cds-hooks/cds-hooks/wiki/Activity">https://github.com/cds-hooks/cds-hooks/wiki/Activity</a></p>



<a name="153817290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817290">(Mar 22 2016 at 11:34)</a>:</h4>
<p>Another solution is to stop trying to make expressive  URLs and just add one more field to the hook inputs: "hook-id". A provider would publish as many Hooks as it wanted, all invoked at "/$cds-hooks", and the id from Kevin's proposal just becomes an input parameter. </p>



<a name="153817291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817291">(Mar 22 2016 at 11:35)</a>:</h4>
<p>Nope - It breaks "distinct" </p>



<a name="153817292"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817292" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817292">(Mar 22 2016 at 11:35)</a>:</h4>
<p>does it? </p>



<a name="153817293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817293">(Mar 22 2016 at 11:35)</a>:</h4>
<p>Absolutely </p>



<a name="153817294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817294">(Mar 22 2016 at 11:36)</a>:</h4>
<p>Metering, mojotoring, and scaling independently by url </p>



<a name="153817295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817295">(Mar 22 2016 at 11:36)</a>:</h4>
<p>how? because it's not in the URL?</p>



<a name="153817296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817296">(Mar 22 2016 at 11:37)</a>:</h4>
<p>Right. API gateways and reverse proxy servers make this stuff easy  if you have distinct URLs, and hard if you don't. </p>



<a name="153817297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817297">(Mar 22 2016 at 11:38)</a>:</h4>
<p>Realty were should extend the FHIR operations framework as follows:</p>



<a name="153817298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817298">(Mar 22 2016 at 11:38)</a>:</h4>
<p>Any non-complex parameter can be pasted in through a url path. </p>



<a name="153817300"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817300" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817300">(Mar 22 2016 at 11:40)</a>:</h4>
<p>Maybe the best way to standardize  it is by a convention like "$operation/:name/:value/:name2/:value2" </p>



<a name="153817301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817301">(Mar 22 2016 at 11:40)</a>:</h4>
<p>that's really yuck</p>



<a name="153817302"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817302" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817302">(Mar 22 2016 at 11:41)</a>:</h4>
<p>How about if your operation includes a list of "path parameters"? </p>



<a name="153817303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817303">(Mar 22 2016 at 11:41)</a>:</h4>
<p>they can come in an order? why do we invent a syntax that's different from how they should be done?</p>



<a name="153817304"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817304" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817304">(Mar 22 2016 at 11:41)</a>:</h4>
<p>And that list is ordered </p>



<a name="153817305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817305">(Mar 22 2016 at 11:41)</a>:</h4>
<p>well, one or two, maybe. differntiating parameters? I'd be interested in an analysis of our existing operations and where that technique might lead to goodness</p>



<a name="153817306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817306">(Mar 22 2016 at 11:42)</a>:</h4>
<p>So then the hook operation defined a single path parameter called "hook-id" </p>



<a name="153817307"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817307" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817307">(Mar 22 2016 at 11:42)</a>:</h4>
<p>Type, string </p>



<a name="153817308"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817308" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817308">(Mar 22 2016 at 11:42)</a>:</h4>
<p>I can to the analysis myself tomorrow but not now</p>



<a name="153817310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817310">(Mar 22 2016 at 11:42)</a>:</h4>
<p>And then invocation is just "POST $cds-hook/price-check" </p>



<a name="153817312"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817312" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817312">(Mar 22 2016 at 11:54)</a>:</h4>
<p>But this all still would make Hooks unusable from current  libraries (e.g. hapi) . That may violate the "fhir" goal. </p>



<a name="153817313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817313">(Mar 22 2016 at 11:58)</a>:</h4>
<p>why would it make them unusable? the libraries would need to enhance to know about this new thing we're talking about </p>



<a name="153817314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817314">(Mar 22 2016 at 11:58)</a>:</h4>
<p>By "current", I mean literally today </p>



<a name="153817315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817315">(Mar 22 2016 at 11:59)</a>:</h4>
<p>Er, current </p>



<a name="153817318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817318">(Mar 22 2016 at 11:59)</a>:</h4>
<p>yes correct</p>



<a name="153817351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817351">(Mar 22 2016 at 21:25)</a>:</h4>
<p>So in terms of where we'd like to go: yes, extended operations (to take some path parameters -- even just one) would help. <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I'll look forward to the analysis (let me know what I can do to help on that).</p>



<a name="153817353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817353">(Mar 22 2016 at 21:42)</a>:</h4>
<p>In terms of what we can do right now (DSTU2 compatible) and meets our goals, the best I can come up with is:</p>
<p>1. Independent CDS services live at <code>/$cds-hook</code>. Technically you can host &gt;1 service at a single endpoint, <strong>if</strong> they each handle a different "activity". And service provides can make as many "base URLs" as they need to keep services separate.</p>
<p>(To satisfy "<strong>distinct</strong>")</p>
<p>2. Each service is associated with its own metadata by appending <code>-metadata</code> to the hook URL. This is a document with at most one hook per activity, and looks like (after Parameters tax):</p>
<div class="codehilite"><pre><span class="p">{</span>
  <span class="nt">&quot;hook&quot;</span><span class="p">:</span> <span class="p">[{</span>
    <span class="nt">&quot;activity&quot;</span><span class="p">:</span> <span class="s2">&quot;patient-view&quot;</span><span class="p">,</span>
    <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Show a patient&#39;s name&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Patient Namer&quot;</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="nt">&quot;activity&quot;</span><span class="p">:</span> <span class="s2">&quot;medication-prescribe&quot;</span><span class="p">,</span>
    <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Show cost of a prescription&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Rx Cost&quot;</span>
  <span class="p">}]</span>
<span class="p">}</span>
</pre></div>


<p>(To satisfy "<strong>predictable</strong>")</p>
<p>3. CDS service provider should publish a "Hook Set" (i.e. a single entry point for discovery) at <strong>any URL</strong> (not necessarily even a FHIR server). The Hook Set is a JSON document like:</p>
<div class="codehilite"><pre><span class="p">[</span>
  <span class="s2">&quot;https://service-vendor.example.org/med-price-hook/$cds-hook&quot;</span><span class="p">,</span>
  <span class="s2">&quot;https://service-vendor.example.org/med-genomics-hook/$cds-hook&quot;</span><span class="p">,</span>
  <span class="s2">&quot;https://service-vendor.example.org/patient-greeting-hook/$cds-hook&quot;</span>
<span class="p">]</span>
</pre></div>


<p>(To satisfy "<strong>bulk</strong>")</p>
<p>4. A CDS services that happens to be a FHIR server can also include a link to its "Hook Set" specification by adding an extension to its conformance statement:</p>
<div class="codehilite"><pre><span class="p">{</span>
  <span class="nt">&quot;extension&quot;</span><span class="p">:</span> <span class="p">[{</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://cds-hooks.org/hook-set-url&quot;</span><span class="p">,</span>
    <span class="nt">&quot;valueUrl&quot;</span><span class="p">:</span> <span class="s2">&quot;https://service-vendor.example.org/hook-set.json&quot;</span>
  <span class="p">}]</span>
<span class="p">}</span>
</pre></div>


<p>(To satisfy "<strong>introspection</strong>")</p>



<a name="153817355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817355">(Mar 22 2016 at 21:44)</a>:</h4>
<p>how important is it to be DSTU2 compatible? </p>



<a name="153817356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817356">(Mar 22 2016 at 21:44)</a>:</h4>
<p>Feels important to me (it's part of what I mean by "fhir").</p>



<a name="153817358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817358">(Mar 22 2016 at 21:45)</a>:</h4>
<p>well, that would need to be explicitly stated. I'm not sure, myself. Adding API features and then getting them retrospectively adopted is different to modifying resource structures and getting them retrospectively adopted</p>



<a name="153817360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817360">(Mar 22 2016 at 21:46)</a>:</h4>
<p>Different in which direction (easier or harder, do you mean)?</p>



<a name="153817362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817362">(Mar 22 2016 at 21:46)</a>:</h4>
<p>In the above, I'm proposing neither (no API features and no different resource structures).</p>



<a name="153817363"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817363" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817363">(Mar 22 2016 at 21:47)</a>:</h4>
<p>The thing is, if we don't care about DSTU2 I'm not convinced we should care about the rest of the "fhir" objective (I mean, we'd be speculating on what we can get incorporated through the standards process.)</p>



<a name="153817364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817364">(Mar 22 2016 at 21:47)</a>:</h4>
<p>easier. I know you're not proposing either. But is the consequence of that being backwards compatible means a less than ideal design? is that a good value decision going forward? I'm just asking</p>



<a name="153817365"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817365" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817365">(Mar 22 2016 at 21:48)</a>:</h4>
<p>I see those as different things, but yes, the speculation part is potentially problematic</p>



<a name="153817367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817367">(Mar 22 2016 at 21:49)</a>:</h4>
<p>What I mean is, the really  awkward position would be to design something not <strong>quite</strong> as clean ad we'd like (as a compromise for STU3 acceptability) and then still not have our design requirements incorporated into STU3.</p>



<a name="153817368"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817368" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817368">(Mar 22 2016 at 21:50)</a>:</h4>
<p>yeah, that would be less than ideal</p>



<a name="153817370"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817370" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817370">(Mar 22 2016 at 22:06)</a>:</h4>
<p>This is a list of possibly useful places in the existing operations :<br>
 ConceptMap.$closure: name<br>
DecisionSupportRule.$evaluate: requestId? <br>
List.$find: name<br>
Measure.$evaluate: reportType?<br>
MessageHeader.$process : async?</p>



<a name="153817371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817371">(Mar 22 2016 at 22:06)</a>:</h4>
<p>The list is short mainly because most operations have their own resource to be associated with anyway</p>



<a name="153817372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817372">(Mar 22 2016 at 22:07)</a>:</h4>
<p>and I think that would make a difference here. If each cds-hook operation had a resource that defined it's operation, then that would have a solid URL:</p>



<a name="153817373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817373">(Mar 22 2016 at 22:07)</a>:</h4>
<p>GET [base]/CDSHookDefinition/[name]</p>



<a name="153817374"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817374" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817374">(Mar 22 2016 at 22:08)</a>:</h4>
<p>where name would be for each instance of a hook operation (not type - that would be a property in the return). Of course, I'm implying the FHIR approach there, but I think the logic would apply anyway</p>



<a name="153817375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817375">(Mar 22 2016 at 22:08)</a>:</h4>
<p>and then to exceute it:</p>



<a name="153817377"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817377" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817377">(Mar 22 2016 at 22:08)</a>:</h4>
<p>GET [base]/CDSHookDefinition/[name]/$evaluate</p>



<a name="153817378"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817378" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817378">(Mar 22 2016 at 22:09)</a>:</h4>
<p>maybe the parameters in path thing is still useful here....</p>



<a name="153817385"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817385" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817385">(Mar 22 2016 at 22:19)</a>:</h4>
<p>What's an example of "[name]" here? Is it like "rx-cost-calculator" (i.e. an ad-hoc, URL slug-formatted descriptor)?</p>



<a name="153817386"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817386" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817386">(Mar 22 2016 at 22:19)</a>:</h4>
<p>How is:</p>
<div class="codehilite"><pre>POST [base]/CDSHookDefinition/rx-cost
</pre></div>


<p>better/different than:</p>
<div class="codehilite"><pre>POST [base]/$cds-hook/rx-cost?
</pre></div>



<a name="153817387"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817387" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817387">(Mar 22 2016 at 22:20)</a>:</h4>
<div class="codehilite"><pre>POST [base]/CDSHookDefinition/rx-cost/$evaluate
</pre></div>



<a name="153817388"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817388" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817388">(Mar 22 2016 at 22:21)</a>:</h4>
<p>that's not much different. The difference is that because you treat the definition as a normal resource, then you get search, pub/sub, etc out of the box for the definitions (at least, out of the box from FHIR anyway, but the principle holds)</p>



<a name="153817389"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817389" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817389">(Mar 22 2016 at 22:22)</a>:</h4>
<p>What is the definition, though? The metadata?</p>



<a name="153817390"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817390" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817390">(Mar 22 2016 at 22:22)</a>:</h4>
<p>And then <code>rx-cost</code> is an instance id?</p>



<a name="153817392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817392">(Mar 22 2016 at 22:23)</a>:</h4>
<p>yes. that's an instance of a cdshooks service - specifically, a resource that describes the service and how you use it </p>



<a name="153817393"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817393" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817393">(Mar 22 2016 at 22:24)</a>:</h4>
<p>That's interesting. Didn't you just say that defining a new retrospective resource was harder than defining a new retrospective API feature? (Or did I get the direction wrong?)</p>



<a name="153817396"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817396" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817396">(Mar 22 2016 at 22:36)</a>:</h4>
<p>changing one is what is worst of all but yes, defining a new one would be very difficult to retrospectively adopt. But if we - say - said that was a direction we wanted to go (would make it easy to publish cds hook definitions in implementation guides, registries etc), then it would guide us towards how to retrospectively fitted it to dstu2</p>



<a name="153817397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817397">(Mar 22 2016 at 22:39)</a>:</h4>
<p>Anyway, hook-definition-as-resource is a fascinating idea. Thanks for that :-)</p>



<a name="153817398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817398">(Mar 22 2016 at 22:40)</a>:</h4>
<p>well, you've kind of already defined it. might as well go the whole hog....</p>



<a name="153817401"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817401" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817401">(Mar 22 2016 at 22:52)</a>:</h4>
<p>Well, whole hog requires defining inputs and  outputs too. But just don't see using FHIR's official international resource Balloting process for something like this. </p>



<a name="153817403"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817403" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817403">(Mar 22 2016 at 22:53)</a>:</h4>
<p>We want the level of convenience of having a resource , but the process is not a fit. The "80%" methodology wouldn't even seem relevant. </p>



<a name="153817404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817404">(Mar 22 2016 at 22:53)</a>:</h4>
<p>why not? you don't want people to use it?</p>



<a name="153817405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817405">(Mar 22 2016 at 22:53)</a>:</h4>
<p>Of course we want people to use it. </p>



<a name="153817406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817406">(Mar 22 2016 at 22:53)</a>:</h4>
<p>and also, why not? because it's new and the entire scope of implementers are all new ?</p>



<a name="153817407"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817407" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817407">(Mar 22 2016 at 22:54)</a>:</h4>
<p>But it's not a healthcare resource. Yes, and all new scope </p>



<a name="153817409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817409">(Mar 22 2016 at 22:54)</a>:</h4>
<p>then everyone agrees, and 80% = 100%</p>



<a name="153817410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817410">(Mar 22 2016 at 22:54)</a>:</h4>
<p>not a healthcare resource? don't understand. </p>



<a name="153817411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817411">(Mar 22 2016 at 22:54)</a>:</h4>
<p>There are hundreds of ideas that deserve equal footing m</p>



<a name="153817412"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817412" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817412">(Mar 22 2016 at 22:55)</a>:</h4>
<p>it's fine to prototype something in the wild, informally. but once people start committing to it, then you start needed a heavier weight process. </p>



<a name="153817413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817413">(Mar 22 2016 at 22:55)</a>:</h4>
<p>Are you saying they should all be balllted in FHIR? </p>



<a name="153817414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817414">(Mar 22 2016 at 22:55)</a>:</h4>
<p>what? </p>



<a name="153817415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817415">(Mar 22 2016 at 22:56)</a>:</h4>
<p>Especially the inputs and outputs, it just feels like they're not "resources" in FHIR's sense. I want to have a nice format for inputs to an hook, but it doesn't make sense to do CRUD on that input (or especially on the output) </p>



<a name="153817416"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817416" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817416">(Mar 22 2016 at 22:58)</a>:</h4>
<p>umm I think we were talking at cross purposes. what you have now is an agreed single format for defining a specific operation, and how it describes what the inputs and outputs are, and a framework for doing the inputs and outputs </p>



<a name="153817417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817417">(Mar 22 2016 at 22:58)</a>:</h4>
<p>I'm not proposing any change to that. Just making the single format a resource</p>



<a name="153817418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817418">(Mar 22 2016 at 22:59)</a>:</h4>
<p>What if our preferred heavier process isn't an HL7 Balloting modeling though? What if it's a committer model? </p>



<a name="153817421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817421">(Mar 22 2016 at 23:01)</a>:</h4>
<p>It feels like  FHIR is configured  consume any vaguely related projects into its gravity well if the only way to build clean stuff on top is to assimilate into the ballot process. </p>



<a name="153817422"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817422" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817422">(Mar 22 2016 at 23:02)</a>:</h4>
<p>Anyway, which of  Metadata vs inputs vs outputs should be a resource : that  <strong>is</strong> a separate issue </p>



<a name="153817423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817423">(Mar 22 2016 at 23:03)</a>:</h4>
<p>I think that's wishful thinking. As you start out, that works really well. You cycle quickly, you're responsive. The community is tight-knit. It's all good. But over time, the community spreads, existing committers that are heavily invested move onto other things, then change process gets harder, more money is committed, execs start asking how their investment is protected, government start wanting to specify things.... </p>



<a name="153817424"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817424" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817424">(Mar 22 2016 at 23:03)</a>:</h4>
<p>there's a reason for the standards process</p>



<a name="153817425"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817425" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817425">(Mar 22 2016 at 23:04)</a>:</h4>
<p>I don't dispute any of that. It's all good! But it can't be the solution to <strong>every</strong> problem. </p>



<a name="153817426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817426">(Mar 22 2016 at 23:04)</a>:</h4>
<p>Anyway, we're far afield in this discussion :p</p>



<a name="153817427"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817427" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817427">(Mar 22 2016 at 23:04)</a>:</h4>
<p>well. it depends how much use you have. But the question of integration into fhir itself... that's something we need to work on more, agree</p>



<a name="153817430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817430">(Mar 22 2016 at 23:34)</a>:</h4>
<p>So, I'm trying to get caught up on this thread, but there's a lot here, so I apologize if I'm rehashing ground you've already covered, but it sounds like what Grahame is suggesting is fairly close to the approach that we've taken in CQIF. We consider a CDS Service as composed of Modules, each of which has a different signature.</p>



<a name="153817431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817431">(Mar 22 2016 at 23:34)</a>:</h4>
<p>From the perspective of the caller, the "module" is a black box. It's a service definition that has inputs and outputs.</p>



<a name="153817432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817432">(Mar 22 2016 at 23:35)</a>:</h4>
<p>As far as it not being a "health care resource", I see what you mean, and I sort of agree, but then, neither is StructureDefinition, or Questionnaire.</p>



<a name="153817433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817433">(Mar 22 2016 at 23:35)</a>:</h4>
<p>And treating them as Resources in the FHIR sense allows us to use the existing FHIR functionality. Why can't you use basic CRUD against service definitions? Registering a service then becomes a POST to the DecisionSupportServiceModule resource.</p>



<a name="153817434"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817434" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817434">(Mar 22 2016 at 23:35)</a>:</h4>
<p>Querying for what services are supported is just a GET.</p>



<a name="153817435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817435">(Mar 22 2016 at 23:37)</a>:</h4>
<p>It also already supports the notion of "required data", what CDS-Hooks calls "pre-fetch templates".</p>



<a name="153817436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817436">(Mar 22 2016 at 23:38)</a>:</h4>
<p>And the "activity" definitions are supported as "named events".</p>



<a name="153817438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817438">(Mar 22 2016 at 23:39)</a>:</h4>
<p>I'm sure it's not a perfect fit, but there's a lot there that can be leveraged.</p>



<a name="153817448"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817448" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817448">(Mar 23 2016 at 00:17)</a>:</h4>
<p>As for"using CRUD", my point here was if we defined a "CDSHooksInput" and "CDSHooksOutput" resource (or similar), these would make little/no sense for CRUD. And overall this just feels like a square peg in a round hole to me.</p>
<p>Yes, CRUD feels fine for the metadata/descriptions.</p>



<a name="153817451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817451">(Mar 23 2016 at 00:19)</a>:</h4>
<p>I see, I missed that. Yes, I agree with that.</p>



<a name="153817459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817459">(Mar 23 2016 at 00:33)</a>:</h4>
<p>you know, if we said that the metadata/descriptions was a custom resource, and the RI and servers got around to supporting custom resources, then you'd have a path that maintained publishing/life cycle independence, but made ready to become part of FHIR (e.g. balloting) when the time is right</p>



<a name="153817460"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817460" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817460">(Mar 23 2016 at 00:35)</a>:</h4>
<p>Well yes. That's very true -- that's the kind of de-coupling I'm talking about (and indeed, inputs/outputs could be custom resources too, to avoid "parameters")</p>



<a name="153817464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817464">(Mar 23 2016 at 00:36)</a>:</h4>
<p>I've never liked inputs and outputs being resources. That'll lead to 1000s of resources, and who'll know how to support them? </p>



<a name="153817465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817465">(Mar 23 2016 at 00:37)</a>:</h4>
<p>And by custom resources here, you mean the ability to define what looks and feels like a first-class resource but that isn't part of the core FHIR spec, right? (Just making sure you don't mean a profile of Basic with extensions)</p>



<a name="153817466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817466">(Mar 23 2016 at 00:37)</a>:</h4>
<p>I'm trying to find time to do policy stuff like this, but I'm flat stick trying to get the freeze ready </p>



<a name="153817467"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817467" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817467">(Mar 23 2016 at 00:37)</a>:</h4>
<p>Bryn yes</p>



<a name="153817468"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817468" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817468">(Mar 23 2016 at 00:38)</a>:</h4>
<p>If I can just point my FHIR client at the "CDS Hooks Resource Pack v 0.4.1" and write code against it... then who needs to "know how to support them"?  You'd just read the docs for CDS Hooks and you'd be good.</p>



<a name="153817469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817469">(Mar 23 2016 at 00:38)</a>:</h4>
<p>Agree on Inputs and Outputs not being resources, APIs that do this (define structures for everything) are very unwieldy, IMHO.</p>



<a name="153817470"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817470" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817470">(Mar 23 2016 at 00:38)</a>:</h4>
<p>Wait, every API defines inputs and outputs.</p>



<a name="153817471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817471">(Mar 23 2016 at 00:39)</a>:</h4>
<p>We might be talking past each other if you're thinking of something "unwieldy".</p>



<a name="153817472"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817472" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817472">(Mar 23 2016 at 00:39)</a>:</h4>
<p>Yes but most do it with parameters.</p>



<a name="153817473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817473">(Mar 23 2016 at 00:39)</a>:</h4>
<p>Yes, maybe.</p>



<a name="153817474"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817474" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817474">(Mar 23 2016 at 00:39)</a>:</h4>
<p>well, that's fine for someone who writes bespoke APIs to support a few options. But as you scale that up, people get desparate for continuity across the engineering framework</p>



<a name="153817475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817475">(Mar 23 2016 at 00:40)</a>:</h4>
<p>I'm thinking of APIs that define Structs for everything, even if the call only has one or two parameters.</p>



<a name="153817476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817476">(Mar 23 2016 at 00:40)</a>:</h4>
<p>so you get some kind of double layer. Which is how I proposed to use the Parameters resource</p>



<a name="153817477"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817477" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817477">(Mar 23 2016 at 00:41)</a>:</h4>
<p>Agreed, that's actually why we opted for defining a specific resource for DecisionSupportServiceModule, rather than making it a profile of OperationDefinition.</p>



<a name="153817478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817478">(Mar 23 2016 at 00:41)</a>:</h4>
<p>don't see the connection</p>



<a name="153817479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817479">(Mar 23 2016 at 00:41)</a>:</h4>
<p>Because we think there are a handful of parameters that every service will need, so we define those on the $evaluate operation itself.</p>



<a name="153817480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817480">(Mar 23 2016 at 00:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> gotcha -- this isn't what I mean. I just mean I'd rather pass:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
<span class="nt">&quot;a&quot;</span><span class="p">:</span>  <span class="mi">1</span>
<span class="p">}</span>
</pre></div>


<p>than </p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameters&quot;</span><span class="p">,</span>
  <span class="nt">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="nt">&quot;valueInteger&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}]</span>
<span class="p">}</span>
</pre></div>



<a name="153817596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817596">(Mar 23 2016 at 09:08)</a>:</h4>
<p>I'm also a little late to the conversation, but from my perspective its sounding kind of like what cds-hook is doing is very similar to what VBA macros were doing years ago.<br>
Apps had defined injection points that you cook hook code into that could do things.<br>
These had parameters you could process and do what you liked, and actions you could take on things.<br>
This then turned into apps that were built onto the models for each application.<br>
(Not saying that we should adopt anything from it, just that we could learn from others experiences)</p>



<a name="153817598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817598">(Mar 23 2016 at 09:16)</a>:</h4>
<p>My preference is to keep the hook metadata seperate rather than a complete set, and I would like it to be a complete resource that can be udpated (enabled/disabled) as desired, and would then have the execution of the hook via a $evaluate (or $execute) after the hook resource name</p>



<a name="153817599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817599">(Mar 23 2016 at 09:17)</a>:</h4>
<p>Would also like to be able to search through services also, especially if there end up being lots of them</p>



<a name="153817660"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817660" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817660">(Mar 23 2016 at 14:44)</a>:</h4>
<p><a href="https://hl7-fhir.github.io/decisionsupportservicemodule.html" target="_blank" title="https://hl7-fhir.github.io/decisionsupportservicemodule.html">https://hl7-fhir.github.io/decisionsupportservicemodule.html</a></p>



<a name="153817661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817661">(Mar 23 2016 at 14:44)</a>:</h4>
<p>This is the resource I'm thinking of as a fit for the metadata/description of the CDS-hooks services.</p>



<a name="153817910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/cds-hooks%3A%20issue%2010%3A%20Decide%20how%20services%20publish%20metadata/near/153817910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/cds-hooks.3A.20issue.2010.3A.20Decide.20how.20services.20publish.20metadata.html#153817910">(Mar 24 2016 at 07:45)</a>:</h4>
<p>afaik the prefetch templates are different for each hook...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
