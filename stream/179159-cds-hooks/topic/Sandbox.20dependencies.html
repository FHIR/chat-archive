---
layout: page
title: "FHIR Chat  · Sandbox dependencies · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html">Sandbox dependencies</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="174321759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/174321759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#174321759">(Aug 28 2019 at 00:21)</a>:</h4>
<p>I just spent _way_ too many hours updating dependencies for the sandbox with only modest success. I'm stuck on what seems to be an <strong>intermittent</strong> issue with Cerner's "terra" plugin</p>
<div class="codehilite"><pre><span></span>ERROR in ./node_modules/terra-base/node_modules/terra-i18n/lib/intlLoaders.js
Module not found: Error: Can&#39;t resolve &#39;intlLoaders&#39; in &#39;/home/jmandel/work/sandbox/node_modules/terra-base/node_modules/terra-i18n/lib&#39;
</pre></div>


<p>I've read <a href="https://github.com/cerner/terra-framework/issues/137" target="_blank" title="https://github.com/cerner/terra-framework/issues/137">https://github.com/cerner/terra-framework/issues/137</a> and updated to the latest <code>terra-base</code> and <code>terra-i18n</code> but am still seeing this. <span class="user-mention" data-user-id="191358">@Dennis Patterson</span> any experience with this? (FYI <span class="user-mention" data-user-id="233081">@Carl Anderson</span> )</p>
<p>Meanwhile, draft PR at <a href="https://github.com/cds-hooks/sandbox/pull/114" target="_blank" title="https://github.com/cds-hooks/sandbox/pull/114">https://github.com/cds-hooks/sandbox/pull/114</a></p>



<a name="174372460"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/174372460" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dennis Patterson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#174372460">(Aug 28 2019 at 15:16)</a>:</h4>
<p>Thanks for starting this, Josh!  I haven't played much with the terra libraries, but I can try to allocate some time this week to start digging in and see if I can help push this along</p>



<a name="174376455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/174376455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#174376455">(Aug 28 2019 at 15:56)</a>:</h4>
<p>I'm consistently hitting an issue where <code>rm -rf node_modules; npm install</code> "fixes" the terra-i18n errors locally. I'm at a loss.</p>



<a name="174376969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/174376969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#174376969">(Aug 28 2019 at 16:01)</a>:</h4>
<p>Note I'm also adding node v12 to the travis build list, since it'll become the LTS release this coming October.</p>



<a name="174377677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/174377677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#174377677">(Aug 28 2019 at 16:09)</a>:</h4>
<p>Yeah, you gotta audit all those dependencies together.  Needing to refresh the <code>node_modules</code> cache indicates a build pipeline issue.  There's been a lot of movement around adopting ES6 imports and moving away from CommonJS, as well as the recent Node upgrades.  And it looks like Terra requires Node<code>&gt;=8.9.2 &lt;12</code>.  So, dropping down to Node v8 or v10 is probably your first step you want to take.</p>



<a name="174377966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/174377966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#174377966">(Aug 28 2019 at 16:12)</a>:</h4>
<p>Hmm. I'm wondering what value we're getting from Terra at this point.</p>



<a name="174378915"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/174378915" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#174378915">(Aug 28 2019 at 16:24)</a>:</h4>
<p>It looks like it's heading in the right direction.  The architecture has the right front-end principles behind it...  reusability, composability, cross-platform, etc.   But as far as these sorts of projects go, they've put a whole lot of effort into duplicating what can be obtained from something like React Material UI (which has an army of volunteers).  I think it's more of an issue that Cerner wants to replicate the functionality of their Java/Oracle UI used in Millennium, but written in React.</p>



<a name="174378976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/174378976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#174378976">(Aug 28 2019 at 16:25)</a>:</h4>
<p>I agree -- and I don't know that the sandbox really has any special needs here -- its has only very simple forms.</p>



<a name="174378987"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/174378987" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#174378987">(Aug 28 2019 at 16:25)</a>:</h4>
<p>(And we're not using any of the accessibility features, translations, etc.)</p>



<a name="174380695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/174380695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kol Kheang <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#174380695">(Aug 28 2019 at 16:47)</a>:</h4>
<p>Terra-ui (<a href="http://terra-ui.com" target="_blank" title="http://terra-ui.com">http://terra-ui.com</a>) isn't just for Cerner. The library has a lot of reusable components that can help anyone building a React application quickly.  Yes, there are a lot of things that Terra has but the Sandbox CDS Hooks project does not need to use all of them.</p>



<a name="174380750"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/174380750" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kol Kheang <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#174380750">(Aug 28 2019 at 16:47)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span>  I can take a look at the dependencies issues.</p>



<a name="174380851"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/174380851" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#174380851">(Aug 28 2019 at 16:49)</a>:</h4>
<p>Okay. I've got a branch with updates to a bunch of the major infrastructure / build-time dependencies (working now on webpack).</p>



<a name="174380884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/174380884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#174380884">(Aug 28 2019 at 16:49)</a>:</h4>
<p>(Though I'll note it might be easier to blow up all our build-time scripts and get on the <code>create-react-app</code> train.)</p>



<a name="174380996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/174380996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#174380996">(Aug 28 2019 at 16:50)</a>:</h4>
<p>(The concerns with Terra likely stem from the fact that the sandbox is several versions behind; but upgrading is not trivial.)</p>



<a name="183565069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/183565069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeremie Osaghae-Nosa <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#183565069">(Dec 16 2019 at 16:25)</a>:</h4>
<p>Wondering if anyone is getting a "Cannot launch SMART link without a SMART-enabled FHIR server" message when attempting to use CDS Sandbox. Was working perfectly fine prior to a few days ago.</p>



<a name="183597119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/183597119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dennis Patterson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#183597119">(Dec 16 2019 at 22:18)</a>:</h4>
<p>Are you using the default FHIR server (<a href="https://launch.smarthealthit.org/v/r2/fhir" target="_blank" title="https://launch.smarthealthit.org/v/r2/fhir">https://launch.smarthealthit.org/v/r2/fhir</a>) or another?</p>



<a name="183597182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox%20dependencies/near/183597182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dennis Patterson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.20dependencies.html#183597182">(Dec 16 2019 at 22:19)</a>:</h4>
<p>Are you starting at <a href="http://sandbox.cds-hooks.org" target="_blank" title="http://sandbox.cds-hooks.org">sandbox.cds-hooks.org</a> or launching from another site?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
