---
layout: page
title: "FHIR Chat  · Question Answered · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html">Question Answered</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153937896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153937896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153937896">(Feb 15 2018 at 20:20)</a>:</h4>
<p>is anyone else interested in defining a hook to use to indicate that the patient has answered a question while filling out a Questionniare to create a QuestionnaireResponse? This would allow some knowledge source to vary the next question(s) based on existing answers.</p>



<a name="153937922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153937922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153937922">(Feb 15 2018 at 20:35)</a>:</h4>
<p>I think the varying needs to be expressed in the Questionnaire design.  Having the Questionnaire design change on the fly would be quite problematic.</p>



<a name="153937924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153937924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153937924">(Feb 15 2018 at 20:37)</a>:</h4>
<p>of course, it's easier if you can do that. but there's all sorts of sophisticated algorithms for doing this that it makes no sense to try and figre out a general purpose computing langauge/infrastructure for. There's lots of work in production based on AI/big data analysis where you figure what the next question is based on the answer to the existing questions</p>



<a name="153937931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153937931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153937931">(Feb 15 2018 at 21:00)</a>:</h4>
<p>This sounds like custom transitions between sections, which I agree we don't really cover</p>



<a name="153937932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153937932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153937932">(Feb 15 2018 at 21:00)</a>:</h4>
<p>And I don't know that cds hooks is the right way to do it, but I don't have a better suggestion either.</p>



<a name="153937934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153937934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153937934">(Feb 15 2018 at 21:05)</a>:</h4>
<p>We do fairly complex questionnaires for Providers, but the way we do it is to use a cds-hook to identify when it's appropriate to start the questionnaire and return a card with a smart-app link to the actual form.  Then we return the results of that interaction back to the EHR</p>



<a name="153937939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153937939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153937939">(Feb 15 2018 at 21:36)</a>:</h4>
<p>right. you can outsource the entire interaction to a different app. But this means that you can't integrate with the data source either</p>



<a name="153937945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153937945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153937945">(Feb 15 2018 at 21:40)</a>:</h4>
<p>I'd tend to treat this as component questionnaires.  At least then you have an immutable object to reference that defines the questions.</p>



<a name="153937947"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153937947" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153937947">(Feb 15 2018 at 21:40)</a>:</h4>
<p>What do you mean by 'integrate with the data source'? We can still make FHIR calls to the EHR as needed.</p>



<a name="153937950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153937950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153937950">(Feb 15 2018 at 21:45)</a>:</h4>
<p>Lloyd, don't understand your point. Kevin, yes, you can. Right now, with such limited access to EHR logic as is implemented, that's not enough for many people</p>



<a name="153937973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153937973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Malcolm Pradhan <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153937973">(Feb 15 2018 at 22:32)</a>:</h4>
<p>I'm interested to see how cds-hooks may work for this, particularly issues around the granularity of the hook. Rather than a general event we trigger business logic based on the specific questionnaire items that are involved in the expressions so the business logic is not triggered every time any item is modified. We limit the output of the business logic to hiding/showing question groups and setting calculated items such as a BMI, not dynamically creating new questions.<br>
We found that providing a general "hook" any time a user changed anything on the questionnaire slowed performance on larger questionnaires, but that may be implementation specific, we just starting with React/Redux at the time.</p>



<a name="153937974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153937974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153937974">(Feb 15 2018 at 22:37)</a>:</h4>
<p>Rather than having a hook indicate what questions are to be answered in a single large questionnaire, I'd rather have it indicate what questionnaires are to be answered in a set of small interrelated questionnaires.  Otherwise it becomes too hard to validate that the questionnaire response is complete.</p>



<a name="153937979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153937979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153937979">(Feb 15 2018 at 22:49)</a>:</h4>
<p>you're making a lot of assumptions about who does what.</p>



<a name="153937981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153937981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153937981">(Feb 15 2018 at 22:53)</a>:</h4>
<p>what i imagined was that each time the user answered a question, the cds-hook would be invoked, which would return the next question, or an indication that the questionnaire was now complete, and a set of recommended actions. </p>
<p>The output would be both the questions and the answers</p>



<a name="153937983"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153937983" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153937983">(Feb 15 2018 at 22:57)</a>:</h4>
<p>Yeah, I can see how that workflow and hook might be useful.</p>



<a name="153938003"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153938003" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153938003">(Feb 15 2018 at 23:54)</a>:</h4>
<p>So there'd be a new Questionnaire instance and a QuestionnaireResponse every time you answered a Question - and there'd be no "authoritative" Questionnaire - just a custom one the CDS system made up on the fly?</p>



<a name="153938008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153938008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153938008">(Feb 16 2018 at 00:10)</a>:</h4>
<p>don't know what you think that 'authoritative' means. I was thinking of adding questions on the fly, not making up new questionnaires all the time</p>



<a name="153938034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153938034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153938034">(Feb 16 2018 at 01:01)</a>:</h4>
<p>If there's a new question in the instance, that's a new Questionnaire.  In order to validate the QuestionnaireResponse (or have any idea how to render it to allow adjustment), you need to point to the Questionnaire it was created against.  If the Questionnaire is created on the fly, then you have a different Questionnaire instance for each QuestionnaireResponse.</p>



<a name="153938036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153938036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Malcolm Pradhan <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153938036">(Feb 16 2018 at 01:17)</a>:</h4>
<p>This sounds like Questionnaire is being used to implement a chatbot. I'm not sure how dialog-based systems are regarded wrt medical record. I guess the current model comes from the traditional hospital form that went through an approval process to be included as part of the medical record, so there is a governance process around the questionnaire and its use.</p>



<a name="153938039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153938039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153938039">(Feb 16 2018 at 01:22)</a>:</h4>
<p>"If there's a new question in the instance, that's a new Questionnaire".. because....?</p>



<a name="153938040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153938040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153938040">(Feb 16 2018 at 01:23)</a>:</h4>
<p>"you have a different Questionnaire instance for each QuestionnaireResponse" - yes</p>



<a name="153938058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153938058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153938058">(Feb 16 2018 at 02:36)</a>:</h4>
<p>At minimum it's a new Questionnaire version - and the QuestionnaireResponse would have to point to the specific version</p>



<a name="153938059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153938059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153938059">(Feb 16 2018 at 02:36)</a>:</h4>
<p>If you have a different Questionnaire instances for each QuestionnaireResponse, how can you know that the data from multiple QuestionnaireResponses are comparable?</p>



<a name="153938063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153938063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153938063">(Feb 16 2018 at 03:07)</a>:</h4>
<p>by the item.definition, if at all</p>



<a name="153938065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153938065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153938065">(Feb 16 2018 at 03:12)</a>:</h4>
<p>That sort of defeats the purpose of using a Questionnaire, I think?</p>



<a name="153938066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153938066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153938066">(Feb 16 2018 at 03:14)</a>:</h4>
<p>depends what your purpose is</p>



<a name="153938074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153938074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153938074">(Feb 16 2018 at 03:59)</a>:</h4>
<p>What would you do with the answers to a completely custom questionnaire?</p>



<a name="153938076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153938076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153938076">(Feb 16 2018 at 04:12)</a>:</h4>
<p>store them, display them, use item.definition</p>



<a name="153938213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153938213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153938213">(Feb 16 2018 at 14:00)</a>:</h4>
<p>I'm a little late to the party, and probably saying something everyone already knows, but I will call out that the cqif-Questionnaire defined in Clinical Reasoning allows for callouts to CQL logic to determine if a question should be asked or not.  This already provides a lot more flexibility than core Questionnaire since CQL can support arbitrary algorithms (w/ some limitations, of course -- it's not C).  That said, it doesn't really support a potential <em>meandering path</em> of questions in a dynamically defined order.</p>



<a name="153938214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153938214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153938214">(Feb 16 2018 at 14:00)</a>:</h4>
<p><a href="http://hl7.org/fhir/STU3/cqif/cqif-questionnaire-definitions.html#cqif-questionnaire.Questionnaire.item.extension:condition" target="_blank" title="http://hl7.org/fhir/STU3/cqif/cqif-questionnaire-definitions.html#cqif-questionnaire.Questionnaire.item.extension:condition">http://hl7.org/fhir/STU3/cqif/cqif-questionnaire-definitions.html#cqif-questionnaire.Questionnaire.item.extension:condition</a></p>



<a name="153938268"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Question%20Answered/near/153938268" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Question.20Answered.html#153938268">(Feb 16 2018 at 19:55)</a>:</h4>
<p>yes, for those doing CQL, this is useful, and a little step along the path, but it's not a workable replacement for a cds-hook for several reasons</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
