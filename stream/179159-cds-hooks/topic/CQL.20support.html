---
layout: page
title: "FHIR Chat  · CQL support · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/CQL.20support.html">CQL support</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="175402540"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/CQL%20support/near/175402540" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmed Mohamed <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/CQL.20support.html#175402540">(Sep 11 2019 at 05:29)</a>:</h4>
<p>Hi,<br>
I am working now on building a cds service, the service will have one hook only (order-select) with some custom logic for the CDS, yet I want it to be able to handle CQL in the future.<br>
I am choosing between Javascript and Golang. but I couldn't find libraries that parse CQL for both, any idea if there are already existing ones?</p>



<a name="175426297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/CQL%20support/near/175426297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/CQL.20support.html#175426297">(Sep 11 2019 at 12:35)</a>:</h4>
<p>I know there's FHIRPath for JavaScript (which is a large chunk of CQL).</p>



<a name="175433269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/CQL%20support/near/175433269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/CQL.20support.html#175433269">(Sep 11 2019 at 13:48)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="215438">@Ahmed Mohamed</span> -- we built a CQL execution framework using coffeescript, which compiles to JavaScript.  It's available on NPM and the GitHub repo is here: <a href="https://github.com/cqframework/cql-execution" target="_blank" title="https://github.com/cqframework/cql-execution">https://github.com/cqframework/cql-execution</a></p>
<p>That repo is just the logic portion of CQL, so you'd also want our cql-exec-fhir patient source implementation (<a href="https://github.com/cqframework/cql-exec-fhir" target="_blank" title="https://github.com/cqframework/cql-exec-fhir">here</a>) to work with a FHIR data model.  Last you need a way to resolve value sets -- there's a basic in-memory code service example in the main repo, but there is one that works with VSAC <a href="https://github.com/cqframework/cql-exec-vsac" target="_blank" title="https://github.com/cqframework/cql-exec-vsac">here</a>.</p>
<p>Probably the easiest way to see how they all work together is by looking at our <a href="https://github.com/cqframework/cql-exec-examples" target="_blank" title="https://github.com/cqframework/cql-exec-examples">cql-exec-examples</a> project.</p>



<a name="175433603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/CQL%20support/near/175433603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/CQL.20support.html#175433603">(Sep 11 2019 at 13:52)</a>:</h4>
<p>There are some limitations.  For example, it requires you to pass in all the FHIR data for the patient as a bundle.  It does not make dynamic queries to FHIR itself.</p>



<a name="175434673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/CQL%20support/near/175434673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/CQL.20support.html#175434673">(Sep 11 2019 at 14:01)</a>:</h4>
<p>Last, I'd point you to the CQL Services project that was developed as part of AHRQ's CDS Connect project.  It provides a mechanism for exposing CQL logic through a CDS Hooks interface (and leverages the cql-execution framework above).  It has a similar limitation, however, in that it only supports data passed in through <code>prefetch</code>; it does not support dynamic query of the FHIR server.</p>



<a name="175454048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/CQL%20support/near/175454048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/CQL.20support.html#175454048">(Sep 11 2019 at 17:11)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="215438">@Ahmed Mohamed</span> , there's also a Java-based implementation, containing many of the same components that Chris identified above, but Java versions. There's a <a href="https://github.com/cqframework/clinical_quality_language/wiki/Community-Projects" target="_blank" title="https://github.com/cqframework/clinical_quality_language/wiki/Community-Projects">community projects</a> page that lists known open source projects.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
