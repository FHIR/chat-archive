---
layout: page
title: "FHIR Chat  · Challenge with &quot;no more than one&quot; suggestion · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Challenge.20with.20.22no.20more.20than.20one.22.20suggestion.html">Challenge with &quot;no more than one&quot; suggestion</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153984025"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Challenge%20with%20%22no%20more%20than%20one%22%20suggestion/near/153984025" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Challenge.20with.20.22no.20more.20than.20one.22.20suggestion.html#153984025">(Aug 09 2018 at 05:19)</a>:</h4>
<p>The spec says (about suggestions): <code> If used, the user MUST BE allowed to choose no more than one suggestion.</code></p>
<p>That's a problem in at least a couple of ways:<br>
1. Some hooks trigger on a collection of resources - e.g. order-review.  If there are changes to propose for more than one of the orders, how is that done?  It's possible some changes could propose deltas to multiple orders to be selected as a group, but in other cases you might want to allow the provider to make certain changes/additions and not make other ones.<br>
2. Sometimes the recommendation isn't to change the resource that triggered the hook, but to add something else to accompany it.  And there might be both changes and accompanyments or multiple accompanyments.  There needs to be a way to do that</p>
<p>I absolutely understand the need to say "of this set of choices, pick 1", but there will also be situations where you can reasonably pick multiple things - sometimes those things will be interdependent (must do them all or none) and sometimes they'll be independent.</p>



<a name="153984026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Challenge%20with%20%22no%20more%20than%20one%22%20suggestion/near/153984026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Challenge.20with.20.22no.20more.20than.20one.22.20suggestion.html#153984026">(Aug 09 2018 at 05:23)</a>:</h4>
<p>My recommendation would be to have a nested structure of suggestion contains 1..* alternatives and allow alternative to support transaction.  Suggestions would be independent.  Alternatives would be "pick at most 1".</p>



<a name="153984055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Challenge%20with%20%22no%20more%20than%20one%22%20suggestion/near/153984055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Challenge.20with.20.22no.20more.20than.20one.22.20suggestion.html#153984055">(Aug 09 2018 at 08:47)</a>:</h4>
<p>What's the correct way to propose a change to one of the existing hooks?  I'd like order-review to include support for DeviceRequest and SupplyRequest as well, but those aren't listed.  Do I raise a github issue?  Submit a pull request?  Submit a proposal for the existing ones on the "proposed hooks" project the same as all the others and incidentally add the new stuff I want?</p>



<a name="153984233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Challenge%20with%20%22no%20more%20than%20one%22%20suggestion/near/153984233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Challenge.20with.20.22no.20more.20than.20one.22.20suggestion.html#153984233">(Aug 09 2018 at 15:29)</a>:</h4>
<p>Lloyd,<br>
Re: <code>no more than one suggestion</code><br>
Do you understand the card-&gt;suggestion-&gt;action hierarchy? A service can return multiple cards. Each card can contain multiple suggestions which are XOR'd. Each suggestion can contain multiple actions, which are AND'd.</p>



<a name="153984235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Challenge%20with%20%22no%20more%20than%20one%22%20suggestion/near/153984235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Challenge.20with.20.22no.20more.20than.20one.22.20suggestion.html#153984235">(Aug 09 2018 at 15:32)</a>:</h4>
<blockquote>
<p>I'd like order-review to include support for DeviceRequest and SupplyRequest as well, but those aren't listed. </p>
</blockquote>
<p>This seems pretty reasonable. I'm sure that I missed stuff when I wrote up this list of possible order-type resources. In practive, DeviceRequest and SupplyRequest aren't widely implemented yet, so we haven't heard this request yet. </p>
<p>Will you create a gh issue to add these two resources to the list of possible STU3 resources on the order-review hook page? Are there additional DSTU2 resources that should also be added?</p>



<a name="153984236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Challenge%20with%20%22no%20more%20than%20one%22%20suggestion/near/153984236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Challenge.20with.20.22no.20more.20than.20one.22.20suggestion.html#153984236">(Aug 09 2018 at 15:40)</a>:</h4>
<p>Lloyd, would you mind creating an additional gh issue to update the med-prescribe and order-review hooks to specify their R4 resources (once those resources are final). Even if we defer the issue, it would be nice to have the issue logged.</p>



<a name="153984238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Challenge%20with%20%22no%20more%20than%20one%22%20suggestion/near/153984238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Challenge.20with.20.22no.20more.20than.20one.22.20suggestion.html#153984238">(Aug 09 2018 at 15:52)</a>:</h4>
<p>Doh!.  Yup, that makes sense.  (re card-&gt;suggestion-action)</p>
<p>I'll write up the proposal for the STU2/STU3/R4 resources</p>



<a name="153984240"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Challenge%20with%20%22no%20more%20than%20one%22%20suggestion/near/153984240" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Challenge.20with.20.22no.20more.20than.20one.22.20suggestion.html#153984240">(Aug 09 2018 at 15:56)</a>:</h4>
<p>I still think we're going to need Transaction and that multiple actions within a suggestion is not sufficient.  That's because Transaction will give us access to th conditional headers and will allow linkage across resources.  If I want to create a Task that says "please complete Questionnaire X", the Questionnaire will be a conditional create based on canonical URL and version and the Task will be a create that contains a reference to the Questionnaire.  I don't think I can do that using the 'action' framework.  (Though if we added support for conditional creates/updates to Action and expressed rules for identifier references across actions, that might be sufficient)</p>



<a name="153984242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Challenge%20with%20%22no%20more%20than%20one%22%20suggestion/near/153984242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Challenge.20with.20.22no.20more.20than.20one.22.20suggestion.html#153984242">(Aug 09 2018 at 15:57)</a>:</h4>
<p>that sounds really complicated.</p>
<p>Task -&gt; Questionnaire needs to be tested and implemented ...</p>



<a name="153984272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Challenge%20with%20%22no%20more%20than%20one%22%20suggestion/near/153984272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Challenge.20with.20.22no.20more.20than.20one.22.20suggestion.html#153984272">(Aug 09 2018 at 16:15)</a>:</h4>
<p>Absolutely.  So is your preference extension for purposes of connectathon and then see about pushing it into core?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
