---
layout: page
title: "FHIR Chat  · notifying the EHR when a SMART link is done · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html">notifying the EHR when a SMART link is done</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153967666"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967666" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967666">(Jun 07 2018 at 04:12)</a>:</h4>
<p><a href="#narrow/stream/74-cds-hooks.2Fgithub/subject/notifying.20the.20EHR.20when.20a.20SMART.20link.20app.20is.20done/near/157103" title="#narrow/stream/74-cds-hooks.2Fgithub/subject/notifying.20the.20EHR.20when.20a.20SMART.20link.20app.20is.20done/near/157103">https://chat.fhir.org/#narrow/stream/74-cds-hooks.2Fgithub/subject/notifying.20the.20EHR.20when.20a.20SMART.20link.20app.20is.20done/near/157103</a></p>



<a name="153967667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967667">(Jun 07 2018 at 04:13)</a>:</h4>
<p>Didn't mean to start that one in the github channel... oops.</p>



<a name="153967680"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967680" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967680">(Jun 07 2018 at 04:17)</a>:</h4>
<p><a href="#narrow/stream/74-cds-hooks.2Fgithub/subject/notifying.20the.20EHR.20when.20a.20SMART.20link.20app.20is.20done/near/157109" title="#narrow/stream/74-cds-hooks.2Fgithub/subject/notifying.20the.20EHR.20when.20a.20SMART.20link.20app.20is.20done/near/157109">https://chat.fhir.org/#narrow/stream/74-cds-hooks.2Fgithub/subject/notifying.20the.20EHR.20when.20a.20SMART.20link.20app.20is.20done/near/157109</a></p>



<a name="153967688"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967688" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967688">(Jun 07 2018 at 04:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191864">@Isaac Vetter</span>  Yeah, that's pretty much what I need.</p>



<a name="153967690"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967690" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967690">(Jun 07 2018 at 04:32)</a>:</h4>
<p>Reposting here:</p>
<blockquote>
<p><span class="user-mention" data-user-id="191355">@Kevin Shekleton</span> <span class="user-mention" data-user-id="191864">@Isaac Vetter</span> Here's a scenario I'm trying to work through.  A user clicks on a link in a cds-hooks card that launches a SMART app in a separate window.  Once the user completes the workflow in the new window I would want to 1) close the window, and 2) cause the original page that launched the workflow to update so that if there are new cards to display, they will be visible.  Is that the kind of workflow you would expect to occur in your respective EHRs, and if so, how can we implement something like that in the sandbox?</p>
</blockquote>
<hr>
<blockquote>
<p>Hey <span class="user-mention" data-user-id="193229">@Kevin Olbrich</span> !</p>
<p>If you can, it would make sense to move this conversation from cds hook/github, to the cds hooks stream. </p>
<p>Except for the need for the app to be in an external window, you have described the "decisions" workflow. Check out this <a href="https://github.com/cds-hooks/docs/commit/447cd8778f065b855f19fd3a1b02a27db895af62?short_path=1a523bd#diff-1a523bd9fa0dbf998008b37579210e12" target="_blank" title="https://github.com/cds-hooks/docs/commit/447cd8778f065b855f19fd3a1b02a27db895af62?short_path=1a523bd#diff-1a523bd9fa0dbf998008b37579210e12">older version of the spec</a>. We took out this pretty awesome feature because very few people had implemented it and it wasn't obvious that the all the technical bits were right.</p>
<p>Note that SMART really tends to assume that the app is running in an embedded window/iframe. How would you expect the EHR to know that the workflow in the external window is complete?</p>
</blockquote>



<a name="153967691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967691">(Jun 07 2018 at 04:32)</a>:</h4>
<p>What I need doesn't necessarily need to be a completely different window, it could be a popup or something similar.  Perhaps the SMART window could use the <code>postMessage</code> API to tell the EHR that it was done and give it the details of the completed workflow.</p>



<a name="153967692"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967692" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967692">(Jun 07 2018 at 04:34)</a>:</h4>
<p>Kevin, yeah, postMessage is exactly what we've talked about. Should enabling this communication in a standards-based way be part of CDS Hooks or SMART?</p>



<a name="153967693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967693">(Jun 07 2018 at 04:34)</a>:</h4>
<p>yes</p>



<a name="153967694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967694">(Jun 07 2018 at 04:36)</a>:</h4>
<p>I guess you could make the argument that once you have started a SMART app, then the rest of the behavior is up to SMART.  It may not really be specific to cds-hooks at that point.</p>



<a name="153967695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967695">(Jun 07 2018 at 04:38)</a>:</h4>
<p>So, what would we want SMART to enable?</p>
<ul>
<li>window-close</li>
<li>ehr-navigate?</li>
<li>fhir query?</li>
</ul>
<p>Those are the outstanding questions in my mind.</p>



<a name="153967696"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967696" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967696">(Jun 07 2018 at 04:40)</a>:</h4>
<p>The things I know I would need would be</p>
<ul>
<li>window close</li>
<li>place an order for the drugs the CDS service suggested</li>
<li>refresh the patient-view</li>
</ul>



<a name="153967697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967697">(Jun 07 2018 at 04:42)</a>:</h4>
<p>and "place an order" puts an unsigned order in the clinician's list of orders to sign?<br>
and "refresh the patient-view" is a re-query for CDS Hooks cards?</p>



<a name="153967698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967698">(Jun 07 2018 at 04:44)</a>:</h4>
<p>In my system, "place an order" definitely makes sense. It seems like "refresh the patient-view" does as well, but we haven't started looking at that yet.</p>



<a name="153967699"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967699" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967699">(Jun 07 2018 at 04:44)</a>:</h4>
<p>I could probably get away with just the 'window close' and 'refresh' for now.  The workflow would look more like <br>
1. show a card inviting the user to launch a SMART app<br>
2. user interacts with the app and makes a decision, the app saves some state about the decisision<br>
3. the window closes<br>
4. the patient-view refreshes and the cds-hook app now shows a suggestion card that might include something like 'order drug xyz' based on the patient and saved state.</p>



<a name="153967701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967701">(Jun 07 2018 at 04:53)</a>:</h4>
<p>doesn't this overlap with FHIRCast? I'm really suspicious of something described in such EHR centric terms here</p>



<a name="153967703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967703">(Jun 07 2018 at 04:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  FHIRcast did cross my mind too.  I just haven't dug into it enough to know if it would solve the problems we have.</p>



<a name="153967705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967705">(Jun 07 2018 at 05:05)</a>:</h4>
<p>FHIRcast is context synchronization. Suggesting an order is such a critical piece of CDS Hooks that it seems that it should be native. </p>
<p>The whole "external browser" thing really does suggest FHIRcast to me, too.</p>



<a name="153967706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967706">(Jun 07 2018 at 05:06)</a>:</h4>
<p>what's the difference between 'suggesting an order' (a medication order?) and 'suggesting a system action'?</p>



<a name="153967707"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967707" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967707">(Jun 07 2018 at 05:07)</a>:</h4>
<p>that's a great question. Currently, I know how to represent an order in FHIR, I don't know how to represent a "system action" in FHIR.</p>



<a name="153967708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967708">(Jun 07 2018 at 05:08)</a>:</h4>
<p>what kind of order? a medication request? a service request? a task?</p>



<a name="153967709"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967709" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967709">(Jun 07 2018 at 05:08)</a>:</h4>
<p>also, the nature of "suggest" means that in CDS Hooks, a user click is required to activate the order; whereas in FHIRcast, the "system action" should be taken automatically</p>



<a name="153967711"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967711" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967711">(Jun 07 2018 at 05:11)</a>:</h4>
<p>umm are these different? the FHIRcast system action would be 'propose an action'</p>



<a name="153967712"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967712" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967712">(Jun 07 2018 at 05:13)</a>:</h4>
<p>My preference would be for the end user to push a button in our SMART app and then get dropped into the order entry system with the proper order pre-populated.  That seems more in line with the FHIRcast approach.  I would rather not have the user 'select' some course of treatment and then have to take a second step to actually make it happen.  Especially when that second step probably has a third and fourth step embedded in it.</p>



<a name="153967713"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967713" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967713">(Jun 07 2018 at 05:13)</a>:</h4>
<p>It's not hugely different at this point and even just getting the page to refresh and show a suggestion card that would place the order would be sufficient and pretty useful.</p>



<a name="153967714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967714">(Jun 07 2018 at 05:20)</a>:</h4>
<p>Certainly, cds is a subset of context synchronization. CDS Hooks has been successful by cranking down the scope neccessary to implement. Grahame, definitely you're right that we could represent an activity change request in FHIR with something like task. </p>
<p>There are important distinctions in the primary use-cases. For these fancier (but obviously desirable workflows), the similarities start to reveal our lack of foresight. </p>
<p>Using something like postMessage for a communication channel would limit the app to being on the same machine as the clinical system it was communicating with.</p>



<a name="153967715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967715">(Jun 07 2018 at 05:21)</a>:</h4>
<p>System action might be representable with Task</p>



<a name="153967716"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967716" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967716">(Jun 07 2018 at 05:21)</a>:</h4>
<p>FHIRcast seems like it would avoid a whole bunch of browser bugs and CORS issues.</p>



<a name="153967717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967717">(Jun 07 2018 at 05:22)</a>:</h4>
<p>Kevin, any feedback on websockets ? We really need some implementer feedback on this.</p>



<a name="153967718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967718">(Jun 07 2018 at 05:22)</a>:</h4>
<p><a href="https://github.com/fhircast/docs/issues/33" target="_blank" title="https://github.com/fhircast/docs/issues/33">https://github.com/fhircast/docs/issues/33</a></p>



<a name="153967719"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967719" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967719">(Jun 07 2018 at 05:27)</a>:</h4>
<p>Interesting.</p>



<a name="153967720"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967720" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967720">(Jun 07 2018 at 05:27)</a>:</h4>
<p>web sockets do seem interesting</p>



<a name="153967721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967721">(Jun 07 2018 at 05:27)</a>:</h4>
<p>BTW,  who would host the `hub? The EHR or the CDS service?</p>



<a name="153967722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153967722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153967722">(Jun 07 2018 at 05:29)</a>:</h4>
<p>The system driving the workflow hosts the hub, so, perhaps the EHR.</p>



<a name="153968753"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153968753" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153968753">(Jun 12 2018 at 19:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191355">@Kevin Shekleton</span> did you have any thoughts on how to tell the EHR that a SMART app launched from a cds-hooks card had completed it's interaction, and what should happen when it does?</p>



<a name="153968758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153968758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153968758">(Jun 12 2018 at 19:34)</a>:</h4>
<p>We need to revisit Decisions in CDS Hooks ;-)</p>



<a name="153968761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153968761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153968761">(Jun 12 2018 at 19:43)</a>:</h4>
<p>You may be interested in <a href="https://github.com/cds-hooks/docs/wiki/Decision-Proposal" target="_blank" title="https://github.com/cds-hooks/docs/wiki/Decision-Proposal">taking a look this</a>. @<strong>Alexander Tatiyants</strong>, myself, and a few others noodled on this a couple of months ago while brainstorming some use case. Alex did a great write-up of our conversations.</p>



<a name="153968772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153968772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153968772">(Jun 12 2018 at 20:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191355">@Kevin Shekleton</span> thanks!  That's a pretty thorough write-up.  Frankly, I'd be happy for now if the EHR just refreshed the current screen when a SMART app closed.  I can render a card with suggestions for the next step in the workflow that way at least.  It's not ideal, but sounds like it might be something the various EHR vendors could implement sooner rather than later.</p>



<a name="153974925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153974925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153974925">(Jul 12 2018 at 14:05)</a>:</h4>
<p>I would love to see some work around this at the next connectathon.   I thin <span class="user-mention" data-user-id="191864">@Isaac Vetter</span> had an example that could be used for this.</p>



<a name="153975358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153975358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153975358">(Jul 16 2018 at 03:28)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="193229">@Kevin Olbrich</span> , our current scenario(s) for the Sept connectathon is just implementing the 1.0 spec. I do think that we should be pushing towards new features (ex: Radiology GAO, decisions, analytics?). Do you agree that the (redacted from spec) decisions is a reasonable way to implement what you need?</p>



<a name="153975601"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/notifying%20the%20EHR%20when%20a%20SMART%20link%20is%20done/near/153975601" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/notifying.20the.20EHR.20when.20a.20SMART.20link.20is.20done.html#153975601">(Jul 16 2018 at 22:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191864">@Isaac Vetter</span>  if this... <a href="https://github.com/cds-hooks/docs/wiki/Decision-Proposal#1-user-decision-fulfillment" target="_blank" title="https://github.com/cds-hooks/docs/wiki/Decision-Proposal#1-user-decision-fulfillment">https://github.com/cds-hooks/docs/wiki/Decision-Proposal#1-user-decision-fulfillment</a> is what you were thinking of, then yes.  That seems like a reasonable way to implement.  I am a bit concerned about the reliance on javascript to implement this, but the general workflow seems appropriate.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
