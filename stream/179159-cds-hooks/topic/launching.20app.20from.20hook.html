---
layout: page
title: "FHIR Chat  · launching app from hook · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html">launching app from hook</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153934669"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/153934669" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johnny Bender <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#153934669">(Feb 01 2018 at 16:47)</a>:</h4>
<p>Hello! Will a CDS Hook ever be able to launch a SMART app directly from a hook (medication-prescribe)? The only use case I've seen is a link to a SMART on FHIR app. Thank you!</p>



<a name="153934685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/153934685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#153934685">(Feb 01 2018 at 17:18)</a>:</h4>
<p>What would you expect to happen when more than one vendor tried to immediately launch a SMART app for the same hook?</p>



<a name="153934696"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/153934696" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johnny Bender <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#153934696">(Feb 01 2018 at 17:33)</a>:</h4>
<p>I would expect all the SMART apps to open simultaneously. I suppose that would cause a bit of a workflow interruption. We're building an opioid addiction risk stratification tool  that requires supplemental survey data. Would the recommended approach be to provide a SMART app link in a card and prompt the user, "Please provide additional data for the addiction risk stratification tool"?</p>



<a name="153934706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/153934706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#153934706">(Feb 01 2018 at 17:38)</a>:</h4>
<p>Hi @<strong>John Bender</strong>. Are you asking if when a card returns a link to the SMART app, the EHR automatically opens that SMART app (rather than requiring the user to click the link)?</p>



<a name="153934708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/153934708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#153934708">(Feb 01 2018 at 17:39)</a>:</h4>
<p>Probably, and I think I saw a mention that if you set the severity of the card to 'hard-stop' that would signal the EHR that they should not allow the workflow to proceed.  Perhaps we could modify that slightly for SMART apps so that the workflow can't proceed until the app is launched and returns.</p>



<a name="153934710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/153934710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#153934710">(Feb 01 2018 at 17:45)</a>:</h4>
<p>Ultimately, I think it is an organizational concern here. That is, the hospital should decide when/if they want to automatically open the link(s) from cards rather than the CDS Service determine this.</p>



<a name="153934712"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/153934712" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#153934712">(Feb 01 2018 at 17:47)</a>:</h4>
<p>We are probably going to need some consistent way to give the EHR hints about what needs to happen next and then they can build configurations in about how to handle them.</p>



<a name="153934730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/153934730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johnny Bender <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#153934730">(Feb 01 2018 at 18:32)</a>:</h4>
<p>Thanks Kevin S, yes that was the use case I was pursuing. Thanks for the advice, Kevin O, I'll check out the 'hard-stop' signal.</p>



<a name="153934745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/153934745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#153934745">(Feb 01 2018 at 19:25)</a>:</h4>
<p>The problem with <code>hard-stop</code> is that the intention is for critical CDS. If the SMART app is to be used in that scenario then this makes sense but all of the use cases I've heard are more about saving a user a click (which is a totally valid endeavor).</p>
<p>Also, <code>hard-stop</code> cards may have links which are just informational and the EHR would probably not want to auto-follow that link.</p>



<a name="211311499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/211311499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Meir Snyder <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#211311499">(Sep 25 2020 at 20:09)</a>:</h4>
<p>I'm trying to develop a CDS hook that can launch our SMART app within an EPIC EHR. We have the card showing as expected but the launch functionality seems to not be passing in the launch url, how would we do pass the ISS and launch url from the card?</p>



<a name="211312158"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/211312158" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#211312158">(Sep 25 2020 at 20:15)</a>:</h4>
<p>Hi Meir!  Can you share the card definition you're using, or at least confirm that you're setting the <code>type: smart</code> attribute?</p>



<a name="211313141"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/211313141" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Meir Snyder <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#211313141">(Sep 25 2020 at 20:22)</a>:</h4>
<p>Thanks Carl, we are using the type: smart as mentioned in the documentation, not sure if there's additional fields we need to add, here's the card definition we're using with some placeholder values </p>
<div class="codehilite"><pre><span></span><code>response_cards = {
        &quot;cards&quot;: [{
          &quot;summary&quot;: &quot;Summary text&quot;,
          &quot;indicator&quot;: &quot;warning&quot;,
          &quot;detail&quot;: &quot;&quot;,
          &quot;source&quot;: {
            &quot;label&quot;: &quot;Label Text&quot;,
            &quot;url&quot;: &quot;&quot;,
            &quot;icon&quot;: &quot;&quot;,
          },
          &quot;links&quot;: [
            {
              &quot;label&quot;: &quot;Label_Text&quot;,

              &quot;url&quot;: &quot;appUrl/launch?ClientID=123foo&quot;,
              &quot;type&quot;: &quot;smart&quot;,
              &quot;appContext&quot;: &quot;{\&quot;calcID\&quot;:608}&quot;
          },
          ]
        }]
      }
</code></pre></div>



<a name="211314259"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/211314259" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#211314259">(Sep 25 2020 at 20:30)</a>:</h4>
<p>OK, and just checking - which scopes are you requesting in your launch endpoint when you invoke <code>authorize</code>?</p>



<a name="211314949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/211314949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonah Wilkof <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#211314949">(Sep 25 2020 at 20:36)</a>:</h4>
<p>Hi Carl! Chiming in from Meir's team: if I understand your question correctly, I believe the scope would be: "patient/FamilyMemberHistory.read patient/MedicationStatement.read patient/Encounter.read patient/Patient.read patient/Observation.read patient/Condition.read launch online_access openid profile"</p>
<p>Just to add a little clarification: it seems as though the parameters required for the EHR launch sequence ("iss" and "launch" -- <a href="http://hl7.org/fhir/smart-app-launch/index.html">http://hl7.org/fhir/smart-app-launch/index.html</a>) are not being appended by Epic when the SMART app is launched from the CDS Card link in Storyboard. I believe we can grab the "iss", but where would the launch parameter ("opaque identifier for this specific launch") be generated in this scenario?</p>



<a name="211536269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/211536269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#211536269">(Sep 28 2020 at 19:10)</a>:</h4>
<p>I'm not sure.  Nothing jumps out at me as wrong, but I'm not familiar with the Epic particulars.  <span class="user-mention" data-user-id="191864">@Isaac Vetter</span> - any insights here?</p>



<a name="211562415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/211562415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#211562415">(Sep 28 2020 at 23:13)</a>:</h4>
<p>Hey Guys, if you're in App Orchard, your App Orchard TS are best able to help. The client Id of the app returned on a card must be in an allowlist in some epic configuration. That would be something for the health system to check.</p>



<a name="211624066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/launching%20app%20from%20hook/near/211624066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonah Wilkof <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/launching.20app.20from.20hook.html#211624066">(Sep 29 2020 at 13:56)</a>:</h4>
<p>Thanks for the suggestion Isaac! We'll pursue that path next.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
