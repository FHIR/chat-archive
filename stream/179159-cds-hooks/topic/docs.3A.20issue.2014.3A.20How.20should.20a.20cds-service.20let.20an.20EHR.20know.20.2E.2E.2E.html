---
layout: page
title: "FHIR Chat  · docs: issue 14: How should a cds-service let an EHR know ... · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html">docs: issue 14: How should a cds-service let an EHR know ...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153863161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863161">(Dec 12 2016 at 20:52)</a>:</h4>
<p>isaacvetter opened <a href="https://github.com/cds-hooks/docs/issues/14" target="_blank" title="https://github.com/cds-hooks/docs/issues/14">issue 14</a></p>
<blockquote>
<p>How should a cds-service let an EHR know about errors? </p>
<p>Following RESTful best practices, HTTP error statuses returned by a cds-service to an EHR when appropriate:  <br>
- 403 Forbidden for authnz failures<br>
- 503 Method not Allowed for incorrect HTTP method</p>
<p>For business-logic type errors, it might make sense for the service to return a 500 containing a FHIR <a href="https://www.hl7.org/fhir/operationoutcome.html" target="_blank" title="https://www.hl7.org/fhir/operationoutcome.html">OperationOutcome </a>with values from the FHIR <a href="https://www.hl7.org/fhir/valueset-issue-type.html" target="_blank" title="https://www.hl7.org/fhir/valueset-issue-type.html">IssueType valueset</a>, but further constrained.</p>
</blockquote>



<a name="153863771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Taylor <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863771">(Dec 16 2016 at 19:19)</a>:</h4>
<p>Sorry but Zulip didn't take my post before. Is there any specification / discussion on returning feedback from CARDs back to CDS Service? An example would be confirmation of allowing a patient to be added to a study where the CDS Service manages the study enrollement.</p>



<a name="153863820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863820">(Dec 17 2016 at 03:48)</a>:</h4>
<p>David - We defined an <a href="http://cds-hooks.org/#analytics" target="_blank" title="http://cds-hooks.org/#analytics">analytics endpoint</a> which is similar to what you're asking (the EHR providing feedback back to the CDS service on interactions with the card). However, in the example you cited, where is the user being added to a study? Is the EHR adding the user to the study or is the user interacting with a SMART app to do this?</p>



<a name="153863821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Taylor <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863821">(Dec 17 2016 at 03:49)</a>:</h4>
<p>Neither -  the CDS Servce is what adds a patient in this case to a study - manged outside the EHR.</p>



<a name="153863822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863822">(Dec 17 2016 at 03:50)</a>:</h4>
<p>So when the CDS Service triggers the creation of a card, it automatically adds the patient to a study?</p>



<a name="153863823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Taylor <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863823">(Dec 17 2016 at 03:57)</a>:</h4>
<p>Nope, it first needs acceptance from the Provider. An example: Provider orders medication, CDS determines that qualifies a Patient, Provider is prompted from the alert (card) to confirm and then I need that confirmation back to add them to the study</p>



<a name="153863824"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863824" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863824">(Dec 17 2016 at 03:57)</a>:</h4>
<p>Ah</p>



<a name="153863825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Taylor <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863825">(Dec 17 2016 at 03:58)</a>:</h4>
<p>in this case the CDS system is outside of the EHR control - invoked by the EHR but managed by seperate groups / organizations</p>



<a name="153863826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863826">(Dec 17 2016 at 03:58)</a>:</h4>
<p>Sure</p>



<a name="153863827"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863827" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863827">(Dec 17 2016 at 03:59)</a>:</h4>
<p>CDS cards are JSON so they don't contain execute logic/arbitrary code by the CDS service. This prevents the type of interaction that you're asking for.</p>



<a name="153863828"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863828" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863828">(Dec 17 2016 at 04:00)</a>:</h4>
<p>Today, all state changes from the card itself are via 'suggestions' which are in the form of FHIR resources (like adding a new medication or removing an medication).</p>



<a name="153863829"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863829" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Taylor <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863829">(Dec 17 2016 at 04:01)</a>:</h4>
<p>Right - that is why this is a challenge for the type of CDS interactions we have had in the past and for this to meet our needs</p>



<a name="153863830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863830">(Dec 17 2016 at 04:02)</a>:</h4>
<p>A possible way to satisfy your use case is for the CDS card to return a link that says something like "Click here to enroll the patient in this study". This link would be handled by the CDS service and would serve as your acceptance/confirmation</p>



<a name="153863831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Taylor <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863831">(Dec 17 2016 at 04:02)</a>:</h4>
<p>This assumes a very tight coupling with the EHR and a very limited role for the CDS system, which might be fine for most users perspectives but for my needs I need more flexiblity - maybe it needs to be more of a drive to a SMART app that is more interactive</p>



<a name="153863832"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863832" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863832">(Dec 17 2016 at 04:03)</a>:</h4>
<p>Yes, our intention is to serve up SMART apps from cards where more interaction or sophisticated logic is desired.</p>



<a name="153863833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Taylor <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863833">(Dec 17 2016 at 04:03)</a>:</h4>
<p>so does the link need to be to a smart service or can it be to a general restful service?</p>



<a name="153863834"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863834" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863834">(Dec 17 2016 at 04:04)</a>:</h4>
<p>The link doesn't need to be a SMART app -- it could be a generated link with some unique identifier that indicates to you the patient/provider in context and the study they are being enrolled in</p>



<a name="153863835"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863835" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863835">(Dec 17 2016 at 04:05)</a>:</h4>
<p>For example, when you register for a new account on a website and get an email with a confirmation link to confirm your email address (which completes your account creation). This link is generated with some UUID that upon doing a GET to that link (eg, clicking on it), it confirms some state.</p>



<a name="153863837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Taylor <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863837">(Dec 17 2016 at 04:09)</a>:</h4>
<p>that is great news - sorry I haven't had a lot of time yet looking this over so thanks for clarifying that. So the response card would be a Link with instructions to click the link for accepting? That would work - thank you for clarifying</p>



<a name="153863838"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863838" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863838">(Dec 17 2016 at 04:09)</a>:</h4>
<p>No problem, I'm happy to help!</p>



<a name="153863839"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863839" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863839">(Dec 17 2016 at 04:10)</a>:</h4>
<p>After you think through your scenario more with this possible solution, let me know if this will indeed work</p>



<a name="153863840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Taylor <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863840">(Dec 17 2016 at 04:11)</a>:</h4>
<p>Will do - btw, swagger is a great choice for documenting your API. </p>



<a name="153863841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Taylor <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863841">(Dec 17 2016 at 04:11)</a>:</h4>
<p>thanks for helping me so late as well</p>



<a name="153863842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863842">(Dec 17 2016 at 04:12)</a>:</h4>
<p>Thanks! I think you're one of a couple people I've heard actually use the Swagger API. Glad to hear it's getting some use</p>



<a name="153863863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863863">(Dec 17 2016 at 06:11)</a>:</h4>
<p>Swagger got plenty of endorsement from users at DevDays in Amsterdam</p>



<a name="153863866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153863866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153863866">(Dec 17 2016 at 09:59)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/docs/issues/14#issuecomment-267754318" target="_blank" title="https://github.com/cds-hooks/docs/issues/14#issuecomment-267754318">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/14" target="_blank" title="https://github.com/cds-hooks/docs/issues/14">issue 14</a></p>
<blockquote>
<p><span class="user-mention" data-user-email="isaacvetter@gmail.com">@Isaac Vetter</span> - Are there particular scenarios or use cases that prompted you to raise this question?</p>
<p>I would imagine the CDS service should return standard HTTP error codes when appropriate. I hadn't thought of the need to explicitly call this our in our spec for CDS services.</p>
<p>Regarding the 'business-logic' errors, what would the EHR do with these errors? This question likely goes back towards the scenarios/use cases that you are thinking of.</p>
<p>Related to this discussion, an outstanding/unresolved question I've had is what expectations should be placed on the EHR to indicate CDS service invocation failures _or_ timeouts? This question can be framed both around error and SLA expectations. I don't know that we need strong requirements around this but instead could provide acknowledge and perhaps guidance on how this can be handled.</p>
</blockquote>



<a name="153864544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153864544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153864544">(Dec 21 2016 at 09:14)</a>:</h4>
<p>Just want to add that it would be relatively trivial to build a simple SMART app around the “click link to enroll” use case. This would be a SMART app that, on button click, talks to <span class="user-mention" data-user-id="192651">@David Taylor</span> 's backend via whatever means necessary and would display the result of enrollment.</p>



<a name="153867089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153867089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153867089">(Jan 14 2017 at 22:47)</a>:</h4>
<p><span class="user-mention" data-user-id="192651">@David Taylor</span> , <span class="user-mention" data-user-id="191339">@Pascal Pfiffner</span> , <span class="user-mention" data-user-id="191355">@Kevin Shekleton</span>  -- what about the cds-service returning a (currently very draft) ResearchSubject FHIR object? </p>



<a name="153867090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153867090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Taylor <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153867090">(Jan 14 2017 at 22:49)</a>:</h4>
<p>Honestly I've been dealing with recursive java marshaling issues this afternoon with both dstu2 and 3 - StringType derives from Elemement which has a StringType id field</p>



<a name="153867093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153867093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Taylor <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153867093">(Jan 14 2017 at 22:51)</a>:</h4>
<p>I'm stuck with marshaling issues - both dstu2 and 3 - anyone able to use JAXB wth HapiFhir at all or know how to replace spring marshlaing with Stax (which looks like the only way forward) Defaults to Jackson which solves everything with annotations only. Example: dtsu3: StringType -&gt; ....Element which has StringType id</p>



<a name="153867105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153867105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153867105">(Jan 14 2017 at 23:13)</a>:</h4>
<p>olbrich <a href="https://github.com/cds-hooks/docs/issues/14#issuecomment-272660455" target="_blank" title="https://github.com/cds-hooks/docs/issues/14#issuecomment-272660455">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/14" target="_blank" title="https://github.com/cds-hooks/docs/issues/14">issue 14</a></p>
<blockquote>
<p>@kpshek I think there should also be explicit thought about what happens when a CDS service is offline, down for maintenance, or otherwise unavailable.  Some sort of graceful degradation would be ideal.</p>
</blockquote>



<a name="153867116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153867116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153867116">(Jan 14 2017 at 23:28)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/docs/issues/14#issuecomment-272661277" target="_blank" title="https://github.com/cds-hooks/docs/issues/14#issuecomment-272661277">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/14" target="_blank" title="https://github.com/cds-hooks/docs/issues/14">issue 14</a></p>
<blockquote>
<p>@olbrich - I think we can use RESTful conventions of standard HTTP error code for this particular use case. For instance, in the case of a CDS service down for maintenance, I think the CDS service can simply return a <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html" target="_blank" title="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html">503 status</a>:</p>
<blockquote>
<p>The server is currently unable to handle the request due to a temporary overloading or maintenance of the server.</p>
</blockquote>
<p>I call this out because I don't think it's necessary to add any additional fields to the response of the CDS service.</p>
<p>The next (and more important question) is how should the EHR handle this scenario when it occurs? This is where I'm unsure if this is something we can handle in the spec. Instead, I'm thinking we should perhaps create an implementation or best practices guide that calls out these scenarios to raise visibility and provide examples of how they should be dealt with. The reason why I'm thinking this is because the nature of the CDS service and it's importance to the organization's workflow/business will determine how the EHR should handle failures such as this.</p>
</blockquote>



<a name="153867199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153867199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Taylor <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153867199">(Jan 15 2017 at 15:32)</a>:</h4>
<p>Btw, I've channeled my frustration into some CDS Hooks parsers extending from Jame's Stax based parsers. If anyone is interested, I'll share them up on github later in the week. They will need to be overridded to handle specific Prefetch, Create, Delete objects if other than array's of Fhir IBaseResource objects.</p>



<a name="153867201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%3A%20issue%2014%3A%20How%20should%20a%20cds-service%20let%20an%20EHR%20know%20.../near/153867201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.3A.20issue.2014.3A.20How.20should.20a.20cds-service.20let.20an.20EHR.20know.20.2E.2E.2E.html#153867201">(Jan 15 2017 at 15:32)</a>:</h4>
<p>Thanks, David!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
