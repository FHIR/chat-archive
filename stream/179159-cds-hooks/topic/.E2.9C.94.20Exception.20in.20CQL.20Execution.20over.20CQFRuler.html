---
layout: page
title: "FHIR Chat  · ✔ Exception in CQL Execution over CQFRuler · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/.E2.9C.94.20Exception.20in.20CQL.20Execution.20over.20CQFRuler.html">✔ Exception in CQL Execution over CQFRuler</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="272414110"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/%E2%9C%94%20Exception%20in%20CQL%20Execution%20over%20CQFRuler/near/272414110" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abdelali Boussadi <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/.E2.9C.94.20Exception.20in.20CQL.20Execution.20over.20CQFRuler.html#272414110">(Feb 18 2022 at 15:19)</a>:</h4>
<p>Hi all, </p>
<p>I followed this walkthrough: <a href="https://github.com/cqframework/content-ig-walkthrough">https://github.com/cqframework/content-ig-walkthrough</a> <strong>for my own CQL Library.</strong> </p>
<p>On Atom, the CQL code is running correctly, I also tested it on this sandbox: <a href="https://cql-runner.dataphoria.org/">https://cql-runner.dataphoria.org/</a>  and everything want good. <br>
However, when I try to test my CDS Service using the CDS Hooks sandbox I don’t have any result displayed. </p>
<p>So I tried to display the response from the CQFRuler for this http request using Postman and i got this message (see below), it seems that the CQFRuler is trying to transalte the CQL code even if the FHIR Library already contains the code translated to ELM, I'm a little bit lost ! many thanks for your help.</p>
<p>**ERROR: Exception in CQL Execution.<br>
Unable translate library epidyolex02pharmacist<br>
org.opencds.cqf.cql.engine.exception.CqlException: Unable translate library epidyolex02pharmacist<br>
    at org.opencds.cqf.cql.evaluator.engine.execution.TranslatingLibraryLoader.translate(TranslatingLibraryLoader.java:147)<br>
    at org.opencds.cqf.cql.evaluator.engine.execution.TranslatingLibraryLoader.load(TranslatingLibraryLoader.java:88)<br>
    at org.opencds.cqf.cql.evaluator.engine.execution.CacheAwareLibraryLoaderDecorator.load(CacheAwareLibraryLoaderDecorator.java:49)<br>
    at ca.uhn.fhir.cql.r4.helper.LibraryHelper.resolveLibraryById(LibraryHelper.java:203)<br>
    at ca.uhn.fhir.cql.r4.helper.LibraryHelper.resolvePrimaryLibrary(LibraryHelper.java:227)<br>
    at org.opencds.cqf.r4.servlet.CdsHooksServlet.doPost(CdsHooksServlet.java:184)<br>
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)<br>
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)<br>
    at org.eclipse.jetty.servlet.ServletHolder$NotAsync.service(ServletHolder.java:1459)<br>
    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)<br>
    at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1631)<br>
    at org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:228)<br>
    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)<br>
    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)<br>
    at org.eclipse.jetty.servlets.CrossOriginFilter.handle(CrossOriginFilter.java:319)<br>
    at org.eclipse.jetty.servlets.CrossOriginFilter.doFilter(CrossOriginFilter.java:273)<br>
    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:201)<br>
    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)<br>
    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:548)<br>
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)<br>
    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600)<br>
    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)<br>
    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)<br>
    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)<br>
    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)<br>
    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1434)<br>
    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)<br>
    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)<br>
    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)<br>
    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)<br>
    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1349)<br>
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)<br>
    at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:234)<br>
    at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)<br>
    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)<br>
    at org.eclipse.jetty.server.Server.handle(Server.java:516)<br>
    at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:400)<br>
    at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:645)<br>
    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:392)<br>
    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)<br>
    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)<br>
    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)<br>
    at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)<br>
    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)<br>
    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)<br>
    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)<br>
    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131)<br>
    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409)<br>
    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)<br>
    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)<br>
    at java.base/java.lang.Thread.run(Unknown Source)**</p>



<a name="272416380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/%E2%9C%94%20Exception%20in%20CQL%20Execution%20over%20CQFRuler/near/272416380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/.E2.9C.94.20Exception.20in.20CQL.20Execution.20over.20CQFRuler.html#272416380">(Feb 18 2022 at 15:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="424053">Abdelali Boussadi</span> has marked this topic as resolved.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
