---
layout: page
title: "FHIR Chat  · Sandbox · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html">Sandbox</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153953883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153953883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153953883">(Apr 24 2018 at 11:37)</a>:</h4>
<p>What are the plans for the cds-hooks sandbox wrt the upcoming connectathon in May?  I'd like to get some of our applications compatible with it so others can collaborate, but the 1.0 version of the sandbox seems to be a bit out of date (at least in the JWT handling).  It looks like there is a version 2.0 of the sandbox under development with more current JWT handling, but I don't know if it has been deployed anywhere.</p>



<a name="153953930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153953930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153953930">(Apr 24 2018 at 18:13)</a>:</h4>
<p>The 2.0 version of the Sandbox is at <a href="https://cds-hooks.github.io/sandbox-2.0/" target="_blank" title="https://cds-hooks.github.io/sandbox-2.0/">https://cds-hooks.github.io/sandbox-2.0/</a>. <span class="user-mention" data-user-id="192599">@Zach Plata</span> &amp; I are working to get it ready in time for the Connectathon so that it is up to date with the latest spec.</p>



<a name="153953931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153953931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153953931">(Apr 24 2018 at 18:13)</a>:</h4>
<p>Awesome!  Thanks <span class="user-mention" data-user-id="191355">@Kevin Shekleton</span>  and <span class="user-mention" data-user-id="192599">@Zach Plata</span></p>



<a name="153954223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153954223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Carlson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153954223">(Apr 25 2018 at 00:01)</a>:</h4>
<p><span class="user-mention" data-user-id="191355">@Kevin Shekleton</span> I tried a quick test of the 2.0 sandbox, in prep for the connectathon.  It appears that this sandbox supports only https, not http.  This requires any participating CDS hook services to also support https.  This may be a requirement for CDS Hooks 1.0 security?  If so, would be good to communicate this requirement ahead of the connectathon.  I'll need to get https enabled on my server for CDS services...</p>



<a name="153954346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153954346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153954346">(Apr 25 2018 at 21:29)</a>:</h4>
<p><span class="user-mention" data-user-id="197476">@Dave Carlson</span> - It supports HTTP too. The deployment link I posted was just the default Github Pages URL which is what you get by default. Once we swap the old Sandbox with the 2.0 version, both HTTP and HTTPS will be available.</p>



<a name="153954347"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153954347" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153954347">(Apr 25 2018 at 21:30)</a>:</h4>
<p>As an aside, you can always tell your browser to allow mixed mode connections; in other words, allow your browser to make an HTTP call from an HTTP website. This is a security risk but since the HTTP connection is to your CDS Service, it isn't a concern</p>



<a name="153954365"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153954365" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Carlson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153954365">(Apr 25 2018 at 21:54)</a>:</h4>
<p>Thanks, Kevin.  I found the Chrome setting to allow mixed mode content, so it's working now.</p>



<a name="153956987"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153956987" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Cain <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153956987">(May 08 2018 at 17:31)</a>:</h4>
<p>Is the Sandbox 2.0 going to support editing the cds-service configurations, as the previous version did?</p>



<a name="153957039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153957039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zach Plata <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153957039">(May 08 2018 at 20:10)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="193245">@Jim Cain</span> , are you referring to editing the CDS Service "definitions" that come back from the discovery endpoints?</p>



<a name="153957042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153957042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Cain <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153957042">(May 08 2018 at 20:11)</a>:</h4>
<p><span class="user-mention" data-user-id="192599">@Zach Plata</span> Yes, in the "Configure CDS Services" window.</p>



<a name="153957045"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153957045" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zach Plata <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153957045">(May 08 2018 at 20:16)</a>:</h4>
<p>This piece of functionality wasn't originally planned due to the main part of this modal just being able to delete / toggle individual services. However it is possible to add this back. Mind logging a Github issue for it? <a href="https://github.com/cds-hooks/sandbox-2.0/issues" target="_blank" title="https://github.com/cds-hooks/sandbox-2.0/issues">https://github.com/cds-hooks/sandbox-2.0/issues</a></p>
<p>Out of curiosity, which part(s) of the service definition did you find most useful in editing from the old Sandbox?</p>



<a name="153957050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153957050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Cain <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153957050">(May 08 2018 at 20:23)</a>:</h4>
<p>Actually I hadn't previously used the old Sandbox. We were discussing the absence of the "sub" attribute in the new sandbox and thought that adding something to the request body might be a useful workaround. Then we realized we couldn't edit the service def in the new sandbox.</p>



<a name="153957052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153957052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Cain <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153957052">(May 08 2018 at 20:25)</a>:</h4>
<p>It would be easier to just add a hard-coded "sub" to the JWT payload instead of enabling the editing of the service defs.</p>



<a name="153957054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153957054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zach Plata <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153957054">(May 08 2018 at 20:30)</a>:</h4>
<p>Ah, like the <code>sub</code> field in the JWT for a service request. This isn't exposed (in either Sandbox). The editing feature from the old Sandbox was just a way to edit the "metadata" that comes back from pinging the service discovery endpoint. You're probably looking for a way to edit the JWT that gets sent in requests. We could look at adding an option in the Sandbox to view the JWT header and payload and edit the fields there to be sent in future service requests? <span class="user-mention" data-user-id="191355">@Kevin Shekleton</span> thoughts on this?</p>



<a name="153957056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153957056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Cain <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153957056">(May 08 2018 at 20:31)</a>:</h4>
<p>Yes, I'm referring to <code>sub</code> in the JWT payload. The 1.0 spec says that it's required, but the new sandbox does not include it.</p>



<a name="153957057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153957057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Cain <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153957057">(May 08 2018 at 20:31)</a>:</h4>
<p>There is a thread on here about <code>sub</code>.</p>



<a name="153957059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153957059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153957059">(May 08 2018 at 20:38)</a>:</h4>
<p>I think an enhancement to inspect (and change!) the JWT makes sense. I can see how someone would want to change the JWT to set bad values to ensure that their CDS Service rejects requests with bad JWTs. Inspection of the JWT would be convenient (rather than copying/pasting the value to <a href="http://jwt.io" target="_blank" title="http://jwt.io">jwt.io</a>)</p>



<a name="153957060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153957060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153957060">(May 08 2018 at 20:45)</a>:</h4>
<p>Issue logged around this JWT enhancement in the Sandbox: <a href="https://github.com/cds-hooks/sandbox-2.0/issues/32" target="_blank" title="https://github.com/cds-hooks/sandbox-2.0/issues/32">https://github.com/cds-hooks/sandbox-2.0/issues/32</a></p>



<a name="153957061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153957061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153957061">(May 08 2018 at 20:47)</a>:</h4>
<p>Regarding the <code>sub</code> field, I had <span class="user-mention" data-user-id="192599">@Zach Plata</span> hold off on it (see <a href="https://github.com/cds-hooks/sandbox-2.0/issues/20#issuecomment-384654352" target="_blank" title="https://github.com/cds-hooks/sandbox-2.0/issues/20#issuecomment-384654352">https://github.com/cds-hooks/sandbox-2.0/issues/20#issuecomment-384654352</a>) but we'll add it in quick and remove it later if we decide to remove it from the spec during this ballot resolution process</p>



<a name="153957062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153957062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Cain <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153957062">(May 08 2018 at 20:48)</a>:</h4>
<p>That would be great. Thanks <span class="user-mention" data-user-id="191355">@Kevin Shekleton</span></p>



<a name="153957063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153957063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153957063">(May 08 2018 at 20:51)</a>:</h4>
<p><code>sub</code> field issue: <a href="https://github.com/cds-hooks/sandbox-2.0/issues/33" target="_blank" title="https://github.com/cds-hooks/sandbox-2.0/issues/33">https://github.com/cds-hooks/sandbox-2.0/issues/33</a></p>



<a name="153957065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153957065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153957065">(May 08 2018 at 21:26)</a>:</h4>
<p><span class="user-mention" data-user-id="193245">@Jim Cain</span> - The <code>sub</code> field is being populated now (thanks <span class="user-mention" data-user-id="192599">@Zach Plata</span>!): <a href="https://github.com/cds-hooks/sandbox-2.0/pull/34" target="_blank" title="https://github.com/cds-hooks/sandbox-2.0/pull/34">https://github.com/cds-hooks/sandbox-2.0/pull/34</a></p>



<a name="153957066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/153957066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Cain <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#153957066">(May 08 2018 at 21:33)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191355">@Kevin Shekleton</span> and <span class="user-mention" data-user-id="192599">@Zach Plata</span> for the quick turnaround!</p>



<a name="171982904"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/171982904" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#171982904">(Jul 29 2019 at 20:59)</a>:</h4>
<p>Currently <a href="https://sandbox.cds-hooks.org/" target="_blank" title="https://sandbox.cds-hooks.org/">https://sandbox.cds-hooks.org/</a> is not working for me on the "Rx View" tab</p>
<div class="codehilite"><pre><span></span>app.bundle.js:28 Uncaught (in promise) TypeError: Cannot read property &#39;prescriptionDates&#39; of undefined
    at t.createFhirResource (app.bundle.js:28)
    at Object.generateContext (app.bundle.js:95)
</pre></div>


<p>I'm guessing this relates to <a href="https://github.com/cds-hooks/sandbox/pull/98" target="_blank" title="https://github.com/cds-hooks/sandbox/pull/98">https://github.com/cds-hooks/sandbox/pull/98</a> -- <span class="user-mention" data-user-id="194178">@Jonathan Percival</span>  <span class="user-mention" data-user-id="228204">@Jonathan Percival</span> are you seeing the same?</p>



<a name="172040057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/172040057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeremie Osaghae-Nosa <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#172040057">(Jul 30 2019 at 14:01)</a>:</h4>
<p>I'm getting the same issue <span class="user-mention" data-user-id="191315">@Josh Mandel</span></p>



<a name="172042683"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/172042683" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#172042683">(Jul 30 2019 at 14:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> </p>
<p>Looks like the merge of the pama branch wasn't correct. Here's the fix:</p>
<p><a href="https://github.com/cds-hooks/sandbox/pull/106" target="_blank" title="https://github.com/cds-hooks/sandbox/pull/106">https://github.com/cds-hooks/sandbox/pull/106</a></p>



<a name="172052605"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/172052605" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeremie Osaghae-Nosa <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#172052605">(Jul 30 2019 at 16:19)</a>:</h4>
<p>Trying to install the cds sandbox local and getting lots of requiring peer dependencies. However, even when those are installed it is still failing. Wondering if anyone had any similar issues.</p>



<a name="172086433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/172086433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#172086433">(Jul 30 2019 at 23:51)</a>:</h4>
<p>Can you share an error log?</p>



<a name="172086527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/172086527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#172086527">(Jul 30 2019 at 23:53)</a>:</h4>
<p>Thanks for tracking this down <span class="user-mention" data-user-id="228204">@Jonathan Percival</span> !</p>



<a name="185129693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Sandbox/near/185129693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christopher Stehno <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Sandbox.html#185129693">(Jan 08 2020 at 16:26)</a>:</h4>
<p>Lesson learned at CMS Connectathon, if you're getting an error:<br>
<code>Access to XMLHttpRequest at '&lt;your server name&gt;' from origin 'https://sandbox.cds-hooks.org' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: Redirect is not allowed for a preflight request.</code></p>
<p>add the following HTTP headers on the responses:<br>
<code>Access-Control-Allow-Methods: GET, POST, OPTIONS
Access-Control-Allow-Origin: *
Access-Control-Allow-Headers: Origin, Content-Type, X-Auth-Token, Authorization</code></p>
<p>If you're not able to modify those headers in your code, you can also workaround the issue by launching Chrome with the following option:<br>
<code>"C:\Program Files (x86)\Google\Chrome\Application\chrome.exe" --disable-web-security --user-data-dir=$HOME\chrome</code></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
