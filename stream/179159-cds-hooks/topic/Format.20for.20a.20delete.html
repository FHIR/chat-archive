---
layout: page
title: "FHIR Chat  · Format for a delete · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Format.20for.20a.20delete.html">Format for a delete</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153985595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Format%20for%20a%20delete/near/153985595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Format.20for.20a.20delete.html#153985595">(Aug 12 2018 at 23:08)</a>:</h4>
<p>What does a "delete" action look like?  There are no examples in the spec.  "resource" is noted as being of type <code>object</code>, so it's not clear if I should say this: <code>"resource" : "someId"</code> or this <code>"resource":{"id": "someId"}</code></p>



<a name="153986094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Format%20for%20a%20delete/near/153986094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Format.20for.20a.20delete.html#153986094">(Aug 14 2018 at 02:21)</a>:</h4>
<p>bump</p>



<a name="153986142"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Format%20for%20a%20delete/near/153986142" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Format.20for.20a.20delete.html#153986142">(Aug 14 2018 at 02:58)</a>:</h4>
<p>For my system, at least, I'd prefer:<br>
`"resource": {"resourceType": "MedicationRequest", "id": "someId" }</p>
<p>Mind creating another gh issue? At the least, we could include this in the examples. It'd be good to get other's feedback as well.</p>



<a name="153986157"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Format%20for%20a%20delete/near/153986157" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Format.20for.20a.20delete.html#153986157">(Aug 14 2018 at 03:06)</a>:</h4>
<p>Done</p>



<a name="222898652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Format%20for%20a%20delete/near/222898652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dennis Patterson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Format.20for.20a.20delete.html#222898652">(Jan 15 2021 at 18:04)</a>:</h4>
<p>Bumping this since it came up again today.  Lloyd had logged <a href="https://github.com/cds-hooks/docs/issues/400">https://github.com/cds-hooks/docs/issues/400</a> around how suggested deletes are represented.  The short version is that the spec defines suggestion.action.resource as a json object, but the field description and example show that for deletes, resource is a FHIR relative reference (string).  <a href="https://cds-hooks.org/specification/current/#action">https://cds-hooks.org/specification/current/#action</a></p>



<a name="222898904"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Format%20for%20a%20delete/near/222898904" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dennis Patterson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Format.20for.20a.20delete.html#222898904">(Jan 15 2021 at 18:06)</a>:</h4>
<p>Couple approaches being discussed on the issue + an open pull request.  Either we make a breaking change to the spec to represent resources consistently as an object (bare resource with resourceType and id fields on a delete), or swizzle some of the data models to more explicitly flex by type, somewhat analogous to FHIR resource definitions flexing by resourceType.  Again, refer to the issue and PR for details.  Please weigh in with thoughts!</p>



<a name="222925566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Format%20for%20a%20delete/near/222925566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Format.20for.20a.20delete.html#222925566">(Jan 15 2021 at 21:08)</a>:</h4>
<p>To consider a breaking change, we should understand how many people it would impact. If you're using a resource delete in a suggestion (or systemAction) right now, will you please weigh in and, if comfortable, share your opinion and use-case?</p>



<a name="222928682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Format%20for%20a%20delete/near/222928682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Varghese <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Format.20for.20a.20delete.html#222928682">(Jan 15 2021 at 21:35)</a>:</h4>
<p>Just want to note here that I got MedicationRequest.delete to work against <span class="user-mention" data-user-id="194813">@Steve Millard</span>'s endpoint using the method Steve was already using, and which I've written up in the PR. <br>
<a href="/user_uploads/10155/N2K6qiwcd9E71C0CmBqOENcP/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/N2K6qiwcd9E71C0CmBqOENcP/image.png" title="image.png"><img src="/user_uploads/10155/N2K6qiwcd9E71C0CmBqOENcP/image.png"></a></div>



<a name="222998769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Format%20for%20a%20delete/near/222998769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Varghese <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Format.20for.20a.20delete.html#222998769">(Jan 16 2021 at 18:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191358">@Dennis Patterson</span> , I updated my comment on GitHub issue <a href="https://github.com/cds-hooks/docs/issues/400">https://github.com/cds-hooks/docs/issues/400</a> to say<br>
<a href="/user_uploads/10155/Es0-br7kqV-hh4wnVrJ4u0PV/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/Es0-br7kqV-hh4wnVrJ4u0PV/image.png" title="image.png"><img src="/user_uploads/10155/Es0-br7kqV-hh4wnVrJ4u0PV/image.png"></a></div><p>I think this is really the problem with the existing model. Resource is an Object per CDS Hooks because CDS Hooks belligerently refuses to explicitly reference FHIR Types. But in reality, resource is a FHIR Object in any typed implementation. </p>
<p>So having resource be object or string requires FHIR Objects to have a place for "string" type in it's inheritance model, which IMO is bad programming practice. So I'm going to request that we don't go that route.</p>
<p>Also, in implementations where they rely on a library to bring in FHIR resources, they may not even have the ability to make such changes..</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
