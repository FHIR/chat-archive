---
layout: page
title: "FHIR Chat  · Trusting EHR Server · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Trusting.20EHR.20Server.html">Trusting EHR Server</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153922780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Trusting%20EHR%20Server/near/153922780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manny Ramirez <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Trusting.20EHR.20Server.html#153922780">(Dec 04 2017 at 15:00)</a>:</h4>
<p>Hi,<br>
I am looking for some guidance on how to figure out who the EHR(or hospital/clinic location) that is calling my CDS Service is.  I see the JWT that is being sent on each request, and I am able to decode it, but what piece(s) of data should I look at to determine the identity of the EHR system?  I was thinking that it may be the “iss” value that I need to focus on but two different docs say two slightly different things. At <a href="https://cds-hooks.github.io/docs-hl7-ballot/#trusting-ehrs" target="_blank" title="https://cds-hooks.github.io/docs-hl7-ballot/#trusting-ehrs">https://cds-hooks.github.io/docs-hl7-ballot/#trusting-ehrs</a> I see that the iss value should be “The base URL of the EHR’s FHIR server. This must be the same URL as the fhirServer field in a CDS Service request.”  And at <a href="http://cds-hooks.org/specification/1.0/#trusting-ehrs" target="_blank" title="http://cds-hooks.org/specification/1.0/#trusting-ehrs">http://cds-hooks.org/specification/1.0/#trusting-ehrs</a> I see that iss should be “The URL of the issuer of this JWT.”  So which one is it or are they the same thing just worded differently? How can I be sure that the issuer and the EHR are the same server?</p>
<p>Thank you</p>



<a name="153922815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Trusting%20EHR%20Server/near/153922815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Trusting.20EHR.20Server.html#153922815">(Dec 04 2017 at 18:10)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="194799">@Manny Ramirez</span>. Don't look at <a href="https://cds-hooks.github.io/docs-hl7-ballot" target="_blank" title="https://cds-hooks.github.io/docs-hl7-ballot">https://cds-hooks.github.io/docs-hl7-ballot</a> -- that is an old version of the spec that was used for an informal HL7 ballot back in September 2017. The latest spec is at <a href="http://cds-hooks.org/specification/1.0" target="_blank" title="http://cds-hooks.org/specification/1.0">http://cds-hooks.org/specification/1.0</a> (which you found). The differences you found are the changes we made based upon implementer feedback at the September 2017 Connectathon.</p>
<p>When determining who/how to trust the EHR, you should work with the EHR vendor and learn:<br>
1. The <code>iss</code> value they will be sending in the JWT<br>
2. The location of their public key (we will be standarizing this in <a href="https://github.com/cds-hooks/docs/issues/87" target="_blank" title="https://github.com/cds-hooks/docs/issues/87">#87</a>)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
