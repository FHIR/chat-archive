---
layout: page
title: "FHIR Chat  · docs / Issue #37 Use Parameters as the data type for the ... · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.2337.20Use.20Parameters.20as.20the.20data.20type.20for.20the.20.2E.2E.2E.html">docs / Issue #37 Use Parameters as the data type for the ...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153887322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%2337%20Use%20Parameters%20as%20the%20data%20type%20for%20the%20.../near/153887322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.2337.20Use.20Parameters.20as.20the.20data.20type.20for.20the.20.2E.2E.2E.html#153887322">(May 05 2017 at 18:50)</a>:</h4>
<p>kpshek labeled <a href="https://github.com/cds-hooks/docs/issues/37" target="_blank" title="https://github.com/cds-hooks/docs/issues/37">Issue #37</a></p>



<a name="153887323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%2337%20Use%20Parameters%20as%20the%20data%20type%20for%20the%20.../near/153887323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.2337.20Use.20Parameters.20as.20the.20data.20type.20for.20the.20.2E.2E.2E.html#153887323">(May 05 2017 at 18:51)</a>:</h4>
<p>euvitudo <a href="https://github.com/cds-hooks/docs/issues/37#issuecomment-299546666" target="_blank" title="https://github.com/cds-hooks/docs/issues/37#issuecomment-299546666">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/37" target="_blank" title="https://github.com/cds-hooks/docs/issues/37">Issue #37</a></p>
<blockquote>
<p>Thanks.  I look forward to the write-up.</p>
</blockquote>



<a name="153887324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%2337%20Use%20Parameters%20as%20the%20data%20type%20for%20the%20.../near/153887324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.2337.20Use.20Parameters.20as.20the.20data.20type.20for.20the.20.2E.2E.2E.html#153887324">(May 05 2017 at 18:52)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/docs/issues/37#issuecomment-299546937" target="_blank" title="https://github.com/cds-hooks/docs/issues/37#issuecomment-299546937">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/37" target="_blank" title="https://github.com/cds-hooks/docs/issues/37">Issue #37</a></p>
<blockquote>
<p>For reference, here are a few Google Group posts on the design changes from last year:</p>
<ul>
<li><a href="https://groups.google.com/d/msg/cds-hooks/frHmx2VCvIE/TEWxUXLzEwAJ" target="_blank" title="https://groups.google.com/d/msg/cds-hooks/frHmx2VCvIE/TEWxUXLzEwAJ">https://groups.google.com/d/msg/cds-hooks/frHmx2VCvIE/TEWxUXLzEwAJ</a></li>
<li><a href="https://groups.google.com/d/msg/cds-hooks/CpTDT35cVu0/OU_LnD_aBwAJ" target="_blank" title="https://groups.google.com/d/msg/cds-hooks/CpTDT35cVu0/OU_LnD_aBwAJ">https://groups.google.com/d/msg/cds-hooks/CpTDT35cVu0/OU_LnD_aBwAJ</a></li>
</ul>
</blockquote>



<a name="153887337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%2337%20Use%20Parameters%20as%20the%20data%20type%20for%20the%20.../near/153887337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.2337.20Use.20Parameters.20as.20the.20data.20type.20for.20the.20.2E.2E.2E.html#153887337">(May 05 2017 at 19:01)</a>:</h4>
<p>euvitudo <a href="https://github.com/cds-hooks/docs/issues/37#issuecomment-299549088" target="_blank" title="https://github.com/cds-hooks/docs/issues/37#issuecomment-299549088">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/37" target="_blank" title="https://github.com/cds-hooks/docs/issues/37">Issue #37</a></p>
<blockquote>
<p>For clarification, I am in no way advocating the use of Parameters for the CDS Hooks data model--just the prefetch element.</p>
</blockquote>



<a name="153887741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%2337%20Use%20Parameters%20as%20the%20data%20type%20for%20the%20.../near/153887741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.2337.20Use.20Parameters.20as.20the.20data.20type.20for.20the.20.2E.2E.2E.html#153887741">(May 07 2017 at 00:35)</a>:</h4>
<p>euvitudo <a href="https://github.com/cds-hooks/docs/issues/37#issuecomment-299674526" target="_blank" title="https://github.com/cds-hooks/docs/issues/37#issuecomment-299674526">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/37" target="_blank" title="https://github.com/cds-hooks/docs/issues/37">Issue #37</a></p>
<blockquote>
<p>Below is a use case to consider in this context:</p>
<p>This gist (<a href="https://gist.github.com/euvitudo/8080a3965b1f4e8abaea7bfb49365f05" target="_blank" title="https://gist.github.com/euvitudo/8080a3965b1f4e8abaea7bfb49365f05">fhir.cygni.cc.500.json</a>) is a call to the the service on <a href="http://fhir.cygni.cc" target="_blank" title="http://fhir.cygni.cc">fhir.cygni.cc</a> that has been failing--returning a 500--to the caller.  It's caused by the resource turning out to be null (I believe we catch the HAPI-FHIR parse exception and this yields a null resource--arguably a bug in our code that may need to more properly addressed--or at minimum-level effort, an error indicating the issue instead of a sending back the raw 500).</p>
<p>However, if the calling code has created an OperationOutcome instead of putting the raw HTML into the <code>resource</code>, this could have been more easily handled.</p>
</blockquote>



<a name="153887852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%2337%20Use%20Parameters%20as%20the%20data%20type%20for%20the%20.../near/153887852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.2337.20Use.20Parameters.20as.20the.20data.20type.20for.20the.20.2E.2E.2E.html#153887852">(May 07 2017 at 08:42)</a>:</h4>
<p>jmandel <a href="https://github.com/cds-hooks/docs/issues/37#issuecomment-299690899" target="_blank" title="https://github.com/cds-hooks/docs/issues/37#issuecomment-299690899">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/37" target="_blank" title="https://github.com/cds-hooks/docs/issues/37">Issue #37</a></p>
<blockquote>
<p>Ah -- so obviously we want to be clear that "resource" is only for FHIR resources. We wouldn't expect to see an EHR populate a prefetch resource body with an HTML document showing an error page :-) <code>"resource": null</code> might be the right thing there.</p>
</blockquote>



<a name="153887862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%2337%20Use%20Parameters%20as%20the%20data%20type%20for%20the%20.../near/153887862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.2337.20Use.20Parameters.20as.20the.20data.20type.20for.20the.20.2E.2E.2E.html#153887862">(May 07 2017 at 08:48)</a>:</h4>
<p>euvitudo <a href="https://github.com/cds-hooks/docs/issues/37#issuecomment-299691135" target="_blank" title="https://github.com/cds-hooks/docs/issues/37#issuecomment-299691135">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/37" target="_blank" title="https://github.com/cds-hooks/docs/issues/37">Issue #37</a></p>
<blockquote>
<p>Interesting.  So instead of providing information as to why the response.status is 404 (as can be provided in an OperationOutcome) you'd rather have a null resource?  The CDS Service would then need to either re-request the data from the FHIR server (getting the OperationOutcome itself) or simply ignore the null and give an unexpected result (e.g., no result).</p>
</blockquote>



<a name="153887864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%2337%20Use%20Parameters%20as%20the%20data%20type%20for%20the%20.../near/153887864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.2337.20Use.20Parameters.20as.20the.20data.20type.20for.20the.20.2E.2E.2E.html#153887864">(May 07 2017 at 08:52)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/docs/issues/37#issuecomment-299691306" target="_blank" title="https://github.com/cds-hooks/docs/issues/37#issuecomment-299691306">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/37" target="_blank" title="https://github.com/cds-hooks/docs/issues/37">Issue #37</a></p>
<blockquote>
<p>We certainly should document the expected behavior for this edge case identified in the <a href="https://gist.github.com/euvitudo/8080a3965b1f4e8abaea7bfb49365f05" target="_blank" title="https://gist.github.com/euvitudo/8080a3965b1f4e8abaea7bfb49365f05">aforementioned gist</a>..</p>
<p><code>"resource": null</code> is one way. Another would be for the EHR to not include that particular prefetch key/value at all. In the case of the gist, that means the prefetch object would not contain the <code>medicationOrders</code> and <code>patient</code> keys at all.</p>
</blockquote>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
