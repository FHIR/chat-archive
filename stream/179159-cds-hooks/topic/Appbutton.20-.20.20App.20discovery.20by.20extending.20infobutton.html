---
layout: page
title: "FHIR Chat  · Appbutton -  App discovery by extending infobutton · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Appbutton.20-.20.20App.20discovery.20by.20extending.20infobutton.html">Appbutton -  App discovery by extending infobutton</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153996407"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Appbutton%20-%20%20App%20discovery%20by%20extending%20infobutton/near/153996407" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aziz Boxwala <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Appbutton.20-.20.20App.20discovery.20by.20extending.20infobutton.html#153996407">(Sep 12 2018 at 23:24)</a>:</h4>
<p><a href="/user_uploads/10155/tXkzcIZ8mH7qyGt-aW2zJq71/app-launch-hooks-proposal.pptx" target="_blank" title="app-launch-hooks-proposal.pptx">app-launch-hooks-proposal.pptx</a> </p>
<p>A few weeks I had initiated a conversation about using cds hooks to allow discovery of apps around data contexts (e.g., problem in the problem list). Based on feedback from the group, we look at infobuttons as an alternative approach.  I am attaching slides from today's CDS WG call where we discussed an approach to extending the infobutton spec.  The first part of the deck is the proposed approach. The latter slides capture the motivation and earlier discussions on alternative solutions.</p>
<p>We're looking for feedback from the group on the infobutton approach.  Since there weren't any representatives of infobutton clients, i.e., EHRs, we'd like to call them out, in particular, to share their feedback.</p>



<a name="153996480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Appbutton%20-%20%20App%20discovery%20by%20extending%20infobutton/near/153996480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Appbutton.20-.20.20App.20discovery.20by.20extending.20infobutton.html#153996480">(Sep 13 2018 at 03:18)</a>:</h4>
<p>Hey Aziz, </p>
<p>1) I'm still not certain that the problem you're addressing is widely applicable.<br>
2) Your current direction seems to make sense. </p>
<p>When the the infobutton response is a webpage, including a hypertext anchor, such as:</p>
<blockquote>
<p>&lt;a class="hl7.org:fhir-app" data-fhir-app-redirect="<a href="https://smartapp.com/diabetes/redirect.html" target="_blank" title="https://smartapp.com/diabetes/redirect.html">https://smartapp.com/diabetes/redirect.html</a>" href= =“https://smartapp.com/diabetes/launch.html”&gt;Diabetes app&lt;/a&gt;</p>
</blockquote>
<p>Are you expecting the Infobutton client to transform the hypertext reference into an EHR Launch url (i.e. add the iss and launch token GET parameters)? I'm not sure how a web-based EHR would be able to do that.</p>
<p>Isaac</p>



<a name="153996858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Appbutton%20-%20%20App%20discovery%20by%20extending%20infobutton/near/153996858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aziz Boxwala <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Appbutton.20-.20.20App.20discovery.20by.20extending.20infobutton.html#153996858">(Sep 13 2018 at 21:31)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191864">@Isaac Vetter</span> </p>
<p>Yes, we are expecting the infobutton client to transform the anchor tag into an EHR launch URL. A client could use Javascript to perform the transformation. Is your concern that the client would not know how to set these parameters for an unknown (i.e., unregistered in EHR) app?</p>
<p>I have two projects that have a need for such a solution. I can't be sure how widespread the need might be, but this seems like a small modification (in the grand scheme of all things HIT) and could have a positive impact on the use of apps. </p>
<p>Thanks Isaac.</p>
<p>--Aziz</p>



<a name="153996892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Appbutton%20-%20%20App%20discovery%20by%20extending%20infobutton/near/153996892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Appbutton.20-.20.20App.20discovery.20by.20extending.20infobutton.html#153996892">(Sep 14 2018 at 02:38)</a>:</h4>
<blockquote>
<p>Yes, we are expecting the infobutton client to transform the anchor tag into an EHR launch URL. A client could use Javascript to perform the transformation. </p>
</blockquote>
<p>Hey Aziz, </p>
<p>My primary concern is that a web-based infobutton client wouldn't have the technical ability to reach into an iframe and transform the url of a hypertext reference. Maybe I'm wrong. Prototyping will definitely expose this problem, if it exists.</p>
<p>Isaac</p>



<a name="153997208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Appbutton%20-%20%20App%20discovery%20by%20extending%20infobutton/near/153997208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Appbutton.20-.20.20App.20discovery.20by.20extending.20infobutton.html#153997208">(Sep 15 2018 at 22:48)</a>:</h4>
<p>Specifically cross site scripting would trigger and some browsers would deny it and view it as a security violation.<br>
We wouldn't do it for sure.</p>



<a name="153997282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Appbutton%20-%20%20App%20discovery%20by%20extending%20infobutton/near/153997282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aziz Boxwala <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Appbutton.20-.20.20App.20discovery.20by.20extending.20infobutton.html#153997282">(Sep 17 2018 at 05:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191864">@Isaac Vetter</span> : Iframe for what? The infobutton client is the one that contains the  hyperlink.</p>



<a name="153997942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Appbutton%20-%20%20App%20discovery%20by%20extending%20infobutton/near/153997942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Appbutton.20-.20.20App.20discovery.20by.20extending.20infobutton.html#153997942">(Sep 19 2018 at 05:16)</a>:</h4>
<p>Hey Aziz - maybe I'm missing the big picture, please let me know if you think so.</p>
<p>My understanding is that the infobutton response is parsed/displayed in a browser based client. In the case where that client is fully web based, the primary method for displaying the infobutton response is within an iframe of a larger web application. In this case, the larger web application will not have the ability to modify a hyper text reference to a SMART app, as returned from the Infobutton service, to append the launch/iss parameters.</p>
<p>Again, prototype testing will definitely expose this, if it's a problem. </p>
<p>Isaac</p>



<a name="153998291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Appbutton%20-%20%20App%20discovery%20by%20extending%20infobutton/near/153998291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aziz Boxwala <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Appbutton.20-.20.20App.20discovery.20by.20extending.20infobutton.html#153998291">(Sep 19 2018 at 17:42)</a>:</h4>
<p>Hi Isaac. That's right. I imagine the client could insert their own javascript in the html received from the infobutton within the iframe (just like they might apply their own css). Would that pose a security risk?</p>
<p>Do we still think infobutton is the approach we want to pursue? The alternative is to create a hook for "problem-list-review" ... and others in the future?</p>



<a name="153999692"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Appbutton%20-%20%20App%20discovery%20by%20extending%20infobutton/near/153999692" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Appbutton.20-.20.20App.20discovery.20by.20extending.20infobutton.html#153999692">(Sep 25 2018 at 03:43)</a>:</h4>
<p>Hey Aziz,</p>
<blockquote>
<p>the client could insert their own javascript in the html received from the infobutton within the iframe</p>
</blockquote>
<p>I'm pretty sure that this is specifically not allowed in most browsers, when the domain of the page hosting the iframe is different from the domain of the page contained within the iframe. </p>
<p>I personally think that adding additional hooks to CDS Hooks would be a far more desirable approach.<br>
1. Adding more hooks would enhance CDS Hooks.<br>
2. In some cases, _CDS clients_ already have non-standardized hooks available.<br>
3. InfoButton's awesome as a clinical knowledgebase integration method, CDS Hooks is a bit more generic, enabling the cds service to query FHIR dynamically. I think that you want this capability.</p>
<p>Isaac</p>



<a name="154000167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/Appbutton%20-%20%20App%20discovery%20by%20extending%20infobutton/near/154000167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aziz Boxwala <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/Appbutton.20-.20.20App.20discovery.20by.20extending.20infobutton.html#154000167">(Sep 27 2018 at 00:06)</a>:</h4>
<p>Isaac,</p>
<p>cds-hooks is the approach I too prefer.</p>
<p>When we initially proposed the project we considered both infobutton and cds-hooks requirements. The concern about infobutton operating in a non-PHI was identified then.  There were a different set of concerns around hooks - mostly usability if the user clicks resulted in no responses.  I believe that is less of a concern since there will be some apps that will cover a wide range of problems.</p>
<p>We can further develop a proposal for a hook around the problem review for WG discussion in October.</p>
<p>--Aziz</p>
<blockquote>
<p>Hey Aziz,</p>
<blockquote>
<p>the client could insert their own javascript in the html received from the infobutton within the iframe</p>
</blockquote>
<p>I'm pretty sure that this is specifically not allowed in most browsers, when the domain of the page hosting the iframe is different from the domain of the page contained within the iframe. </p>
<p>I personally think that adding additional hooks to CDS Hooks would be a far more desirable approach.<br>
1. Adding more hooks would enhance CDS Hooks.<br>
2. In some cases, _CDS clients_ already have non-standardized hooks available.<br>
3. InfoButton's awesome as a clinical knowledgebase integration method, CDS Hooks is a bit more generic, enabling the cds service to query FHIR dynamically. I think that you want this capability.</p>
<p>Isaac</p>
</blockquote>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
