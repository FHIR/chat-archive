---
layout: page
title: "FHIR Chat  · docs / Issue #33 What Markdown flavor and/or restrictions... · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.2333.20What.20Markdown.20flavor.20and.2For.20restrictions.2E.2E.2E.html">docs / Issue #33 What Markdown flavor and/or restrictions...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153887198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%2333%20What%20Markdown%20flavor%20and/or%20restrictions.../near/153887198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.2333.20What.20Markdown.20flavor.20and.2For.20restrictions.2E.2E.2E.html#153887198">(May 04 2017 at 20:57)</a>:</h4>
<p>kpshek opened <a href="https://github.com/cds-hooks/docs/issues/33" target="_blank" title="https://github.com/cds-hooks/docs/issues/33">Issue #33</a></p>
<blockquote>
<p>In discussion with @brynrhodes and <span class="user-mention" data-user-email="isaacvetter@gmail.com" data-user-id="558">@Isaac Vetter</span>, we had some questions that we should answer in the spec/documentation:</p>
<p><strong>Markdown Support</strong><br>
Is Markdown required or an optional feature that EHRs can support? If Markdown is optional, it would be nice for EHRs to advertise their support for it so that CDS Services can return cards accordingly.</p>
<p><strong>Markdown Flavor</strong><br>
What flavor of Markdown should CDS Hooks support? Eg, <a href="http://commonmark.org/" target="_blank" title="http://commonmark.org/">CommonMark</a>? <a href="https://github.github.com/gfm/" target="_blank" title="https://github.github.com/gfm/">Github Flavored Markdown</a>? etc.</p>
<p><strong>Risks with Embedded HTML in Markdown</strong><br>
Markdown allows for any embedded HTML. Should this be allowed? If so, we need to document how EHRs must mitigate against risks of cards that now contain executable code (JS) or conflicts with CSS classes/names.</p>
<p>Risks with embedded HTML is actually no different than risks posed by embedding SMART apps in an EHR. However, we should probably call out good practices (like usage of iframes).</p>
<p>A potential difference between integrating SMART apps and CDS cards into the EHR is the level of integration we expect with CDS cards. The intention is that since the majority of a CDS card is structured data rather than UX (or entirely if there is no embedded HTML), then the rendering of the card should be close or indistinguishable from the native EHR.</p>
<p>Another point of consideration is that allowing for embedded HTML in the Markdown starts to veer CDS cards in the direction of mini SMART apps.</p>
<p>And finally, another option could be allowing for embedded HTML but only a subset of HTML functionality/tags (a whitelist). This would offer CDS cards the ability to style themselves somewhat but perhaps disallow them from incorporating app-like functionality.</p>
<p>Thoughts &amp; discussions from the community is welcome!</p>
</blockquote>



<a name="153887199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%2333%20What%20Markdown%20flavor%20and/or%20restrictions.../near/153887199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.2333.20What.20Markdown.20flavor.20and.2For.20restrictions.2E.2E.2E.html#153887199">(May 04 2017 at 20:57)</a>:</h4>
<p>kpshek milestoned <a href="https://github.com/cds-hooks/docs/issues/33" target="_blank" title="https://github.com/cds-hooks/docs/issues/33">Issue #33</a></p>



<a name="153887204"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%2333%20What%20Markdown%20flavor%20and/or%20restrictions.../near/153887204" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.2333.20What.20Markdown.20flavor.20and.2For.20restrictions.2E.2E.2E.html#153887204">(May 04 2017 at 21:04)</a>:</h4>
<p>jmandel <a href="https://github.com/cds-hooks/docs/issues/33#issuecomment-299308708" target="_blank" title="https://github.com/cds-hooks/docs/issues/33#issuecomment-299308708">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/33" target="_blank" title="https://github.com/cds-hooks/docs/issues/33">Issue #33</a></p>
<blockquote>
<p>I think Markdown is optional, and we should do our best to "pick one". We need to be quite careful about embedded HTML, but I think we need a way to reference at last images (possibly with a restriction to only allow inline base64 data-url images, if we want to avoid calls out to an external server) and tables (I know Markdown enables tables without HTML, but it's kind of a pain IMO). </p>
<p>There's some relevant discussion at:<br>
<a href="https://www.hl7.org/fhir/narrative.html#2.4.0" target="_blank" title="https://www.hl7.org/fhir/narrative.html#2.4.0">https://www.hl7.org/fhir/narrative.html#2.4.0</a><br>
<a href="https://www.hl7.org/fhir/security.html#narrative" target="_blank" title="https://www.hl7.org/fhir/security.html#narrative">https://www.hl7.org/fhir/security.html#narrative</a></p>
</blockquote>



<a name="153887266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%2333%20What%20Markdown%20flavor%20and/or%20restrictions.../near/153887266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.2333.20What.20Markdown.20flavor.20and.2For.20restrictions.2E.2E.2E.html#153887266">(May 05 2017 at 10:21)</a>:</h4>
<p>robs16 <a href="https://github.com/cds-hooks/docs/issues/33#issuecomment-299431036" target="_blank" title="https://github.com/cds-hooks/docs/issues/33#issuecomment-299431036">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/33" target="_blank" title="https://github.com/cds-hooks/docs/issues/33">Issue #33</a></p>
<blockquote>
<p>I'm of the opinion that it should be a strict subset of markdown (we have implemented headings, numbered lists, unordered lists, and links). The EHR in most cases would do actual formatting and styling (after all you cannot assume this is displayed in a browser - and it is highly likely that there are space constraints), while what they need is the structure of the text and links. The alternative of plain text doesn't work well in practice. For real cards provided via hooks today, I have primary statements, secondary statements (long), and supporting evidence (citations with links), and a few other items. All of this is pushed into the detail as there is no better place for it.  An alternative might be to move it all to the smart app, but that would mean suggestions are of little use in a real CDS application. </p>
</blockquote>



<a name="153887284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%2333%20What%20Markdown%20flavor%20and/or%20restrictions.../near/153887284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.2333.20What.20Markdown.20flavor.20and.2For.20restrictions.2E.2E.2E.html#153887284">(May 05 2017 at 15:43)</a>:</h4>
<p>jmandel <a href="https://github.com/cds-hooks/docs/issues/33#issuecomment-299500362" target="_blank" title="https://github.com/cds-hooks/docs/issues/33#issuecomment-299500362">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/33" target="_blank" title="https://github.com/cds-hooks/docs/issues/33">Issue #33</a></p>
<blockquote>
<blockquote>
<p>For real cards provided via hooks today, I have primary statements, secondary statements (long), and supporting evidence (citations with links), and a few other items</p>
</blockquote>
<p>This is great feedback, thanks! </p>
</blockquote>



<a name="153887983"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/docs%20/%20Issue%20%2333%20What%20Markdown%20flavor%20and/or%20restrictions.../near/153887983" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/docs.20.2F.20Issue.20.2333.20What.20Markdown.20flavor.20and.2For.20restrictions.2E.2E.2E.html#153887983">(May 07 2017 at 10:47)</a>:</h4>
<p>seanmsmith23 <a href="https://github.com/cds-hooks/docs/issues/33#issuecomment-299697278" target="_blank" title="https://github.com/cds-hooks/docs/issues/33#issuecomment-299697278">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/33" target="_blank" title="https://github.com/cds-hooks/docs/issues/33">Issue #33</a></p>
<blockquote>
<p>As much as we'd love to use all of HTML as a CDS-service provider, I think it makes the most sense that cards have a standardized feel so that the provider becomes familiar/comfortable with what they are seeing and why (which I think everyone would benefit from).</p>
<p>I don't have strong feelings about exactly what flavor of Markdown to use. Just so long as we get more flexibility than plaintext.</p>
</blockquote>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
