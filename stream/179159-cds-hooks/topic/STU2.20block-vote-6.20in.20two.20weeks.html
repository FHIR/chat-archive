---
layout: page
title: "FHIR Chat  · STU2 block-vote-6 in two weeks · cds hooks"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/index.html">cds hooks</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/STU2.20block-vote-6.20in.20two.20weeks.html">STU2 block-vote-6 in two weeks</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="269482605"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/STU2%20block-vote-6%20in%20two%20weeks/near/269482605" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/STU2.20block-vote-6.20in.20two.20weeks.html#269482605">(Jan 26 2022 at 21:09)</a>:</h4>
<p><span aria-label="trumpet" class="emoji emoji-1f3ba" role="img" title="trumpet">:trumpet:</span> CDS Hooks STU2 <a href="https://jira.hl7.org/browse/FHIR-28644?filter=12820&amp;jql=project%20%3D%20FHIR%20AND%20Specification%20%3D%20%22CDS%20Hooks%20(FHIR)%20%5BFHIR-cds-hooks%5D%22%20and%20(grouping%3Dblock-vote-6%20or%20grouping%3DBlock-Vote-6%20)%20%20ORDER%20BY%20issue">Block-vote-6</a> will be held in two weeks!</p>



<a name="269483027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/STU2%20block-vote-6%20in%20two%20weeks/near/269483027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/STU2.20block-vote-6.20in.20two.20weeks.html#269483027">(Jan 26 2022 at 21:12)</a>:</h4>
<p>Nice overview of the 19 issues in this vote is here: <a href="https://confluence.hl7.org/display/CDS/2022-01-26+Meeting+Agenda">https://confluence.hl7.org/display/CDS/2022-01-26+Meeting+Agenda</a>.</p>



<a name="269483031"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/STU2%20block-vote-6%20in%20two%20weeks/near/269483031" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/STU2.20block-vote-6.20in.20two.20weeks.html#269483031">(Jan 26 2022 at 21:12)</a>:</h4>
<p>Commenters include: <span class="user-mention" data-user-id="194452">@Bas van den Heuvel</span> , <span class="user-mention" data-user-id="295049">@Celine A Lefebvre</span> , <span class="user-mention" data-user-id="193265">@Matt Varghese</span> , <span class="user-mention" data-user-id="191358">@Dennis Patterson</span> , <span class="user-mention" data-user-id="191315">@Josh Mandel</span> , <span class="user-mention" data-user-id="380192">@Kishan Patel</span> , <span class="user-mention" data-user-id="198982">@Gunjit Chhatwal</span>. </p>
<p>HL7 thanks you for your feedback.</p>



<a name="269483152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/STU2%20block-vote-6%20in%20two%20weeks/near/269483152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/STU2.20block-vote-6.20in.20two.20weeks.html#269483152">(Jan 26 2022 at 21:13)</a>:</h4>
<p>Anyone, for any reason, may request that one or more issues be withdrawn from this block vote for further, individual workgroup discussion.</p>



<a name="271293723"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/STU2%20block-vote-6%20in%20two%20weeks/near/271293723" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dennis Patterson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/STU2.20block-vote-6.20in.20two.20weeks.html#271293723">(Feb 09 2022 at 15:22)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-28663">https://jira.hl7.org/browse/FHIR-28663</a> (allow next page links on prefetch) - If it's prefetch, what is the point of a next page link?  I'm trying to avoid complexity in prefetch templates where a CDS Service now needs to specify whether to send the whole response or only the first page</p>



<a name="271293811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/STU2%20block-vote-6%20in%20two%20weeks/near/271293811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dennis Patterson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/STU2.20block-vote-6.20in.20two.20weeks.html#271293811">(Feb 09 2022 at 15:23)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-28694">https://jira.hl7.org/browse/FHIR-28694</a> (Client authentication should not be mandated) - How does a CDS Service now advertise whether their endpoint requires authentication?  Does we just want an allowance for a CDS Service to be able to ignore the header if they don't care?  Or do we really want the CDS Client behavior to flex?</p>



<a name="271293878"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/STU2%20block-vote-6%20in%20two%20weeks/near/271293878" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dennis Patterson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/STU2.20block-vote-6.20in.20two.20weeks.html#271293878">(Feb 09 2022 at 15:23)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-28761">https://jira.hl7.org/browse/FHIR-28761</a> (Add "patient" parameter as required by SMART App Launch spec) - Can we make addition of fhirAuthorization.patient a SHOULD instead of making this a breaking change?  The issue description isn't necessarily proposing rfc-style language, but does use "should" regarding the use of this field</p>



<a name="271294461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/STU2%20block-vote-6%20in%20two%20weeks/near/271294461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dennis Patterson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/STU2.20block-vote-6.20in.20two.20weeks.html#271294461">(Feb 09 2022 at 15:27)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-34274">https://jira.hl7.org/browse/FHIR-34274</a> (OO during prefetch) </p>
<ul>
<li>Will we break any existing CDS Services that assume template keys on a request mean that actual data is included?  With this change, they may not be expecting the target resource to be absent</li>
<li>Regarding supporting OO during prefetch, this resolution assumes implementation details about a CDS Client calling a FHIR Server.  It also still allows the absence of the prefetch template for other errors and the "MUST NOT" language conflicts with the inclusion of an OO.  Also, this OO should be in a Bundle, correct?  What's not clear to me is the difference between known and unknown errors.  Outside existing implementations, for what kinds of errors should the OO be included vs the prefetch key ommitted?<ul>
<li>I'm open to further wordsmithing, but here's a stab at including some additional language: "the CDS Client SHOULD send a Bundle with OperationOutcome(s) to communicate known errors prefetching the requested data to prevent the CDS Service from incurring an unneeded follow-up query but MUST omit the prefetch key if details cannot be provided.  CDS Services SHOULD check any prefetched data for the existence of OperationOutcomes."</li>
</ul>
</li>
</ul>



<a name="271302902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/STU2%20block-vote-6%20in%20two%20weeks/near/271302902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/STU2.20block-vote-6.20in.20two.20weeks.html#271302902">(Feb 09 2022 at 16:18)</a>:</h4>
<blockquote>
<p>Dennis Patterson: <a href="https://jira.hl7.org/browse/FHIR-28694">https://jira.hl7.org/browse/FHIR-28694</a> (Client authentication should not be mandated) - How does a CDS Service now advertise whether their endpoint requires authentication? Does we just want an allowance for a CDS Service to be able to ignore the header if they don't care? Or do we really want the CDS Client behavior to flex?</p>
</blockquote>
<p>Given this <a href="https://cds-hooks.org/specification/current/#trusting-cds-clients">language in the spec</a>:</p>
<blockquote>
<p>CDS Services SHOULD maintain an allowlist of the iss and jku fields to only the CDS Clients they trust</p>
</blockquote>
<p>It seems safe for CDS Services to ignore authn if they don't care about it. This may be worth stating explicitly, since it's reasonable behavior for many classes of CDS Services that never expose any sensitive information and are happy to respond to any client.</p>



<a name="271307821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179159-cds%20hooks/topic/STU2%20block-vote-6%20in%20two%20weeks/near/271307821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dennis Patterson <a href="https://fhir.github.io/chat-archive/stream/179159-cds-hooks/topic/STU2.20block-vote-6.20in.20two.20weeks.html#271307821">(Feb 09 2022 at 16:45)</a>:</h4>
<p>I'm fine with that... flipping the resolution to be more focused on the CDS Services' decision to do something with it vs requiring the CDS Client to start flexing whether to send it</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
