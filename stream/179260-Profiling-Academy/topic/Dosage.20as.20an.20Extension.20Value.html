---
layout: page
title: "FHIR Chat  · Dosage as an Extension Value · Profiling Academy"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179260-Profiling-Academy/index.html">Profiling Academy</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179260-Profiling-Academy/topic/Dosage.20as.20an.20Extension.20Value.html">Dosage as an Extension Value</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="191604131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179260-Profiling%20Academy/topic/Dosage%20as%20an%20Extension%20Value/near/191604131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Larry Shields <a href="https://fhir.github.io/chat-archive/stream/179260-Profiling-Academy/topic/Dosage.20as.20an.20Extension.20Value.html#191604131">(Mar 24 2020 at 12:51)</a>:</h4>
<p>I'm working on creating an extension for capturing some addition information for our Immunization records and the Dosage Data Type seems to fit the bill for the information we are trying to capture.  I'm seeing errors/warnings however when I attempt to set the datatype in the Extension to use the Type of Dosage when using the Forge application for STU3.   Is there a rule against using Dosage in extensions as the Value type?</p>



<a name="191710006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179260-Profiling%20Academy/topic/Dosage%20as%20an%20Extension%20Value/near/191710006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179260-Profiling-Academy/topic/Dosage.20as.20an.20Extension.20Value.html#191710006">(Mar 25 2020 at 08:03)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="200218">@Larry Shields</span>, I'm not sure on the specific question you're asking, but can you share what errors you're getting?</p>



<a name="191766586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179260-Profiling%20Academy/topic/Dosage%20as%20an%20Extension%20Value/near/191766586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Larry Shields <a href="https://fhir.github.io/chat-archive/stream/179260-Profiling-Academy/topic/Dosage.20as.20an.20Extension.20Value.html#191766586">(Mar 25 2020 at 15:46)</a>:</h4>
<p><span class="user-mention" data-user-id="203235">@Ward Weistra</span>  There error is: Invalid element type constraint for type = 'Dosage', profile = '<a href="http://hl7.org/fhir/StructureDefinition/Dosage" title="http://hl7.org/fhir/StructureDefinition/Dosage">http://hl7.org/fhir/StructureDefinition/Dosage</a>'.  May only further constrain base resource types.  I'm guessing this is because the Dosage type is one of the special purpose data types and only specific data types are available in this instance.  Since it's an Open Type though, I would expect that Dosage would be supported based on the definition of Open Types.</p>



<a name="191784163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179260-Profiling%20Academy/topic/Dosage%20as%20an%20Extension%20Value/near/191784163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179260-Profiling-Academy/topic/Dosage.20as.20an.20Extension.20Value.html#191784163">(Mar 25 2020 at 17:37)</a>:</h4>
<p>Can you share the extension you are working on? I seem to be able to select Dosage as the data type for a custom extension without issues. Thanks!</p>



<a name="191784203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179260-Profiling%20Academy/topic/Dosage%20as%20an%20Extension%20Value/near/191784203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179260-Profiling-Academy/topic/Dosage.20as.20an.20Extension.20Value.html#191784203">(Mar 25 2020 at 17:37)</a>:</h4>
<p><span class="user-mention" data-user-id="200218">@Larry Shields</span></p>



<a name="191804962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179260-Profiling%20Academy/topic/Dosage%20as%20an%20Extension%20Value/near/191804962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Larry Shields <a href="https://fhir.github.io/chat-archive/stream/179260-Profiling-Academy/topic/Dosage.20as.20an.20Extension.20Value.html#191804962">(Mar 25 2020 at 20:12)</a>:</h4>
<p><span class="user-mention" data-user-id="203235">@Ward Weistra</span>  I'm creating a new one from scratch in Forge for STU3.  It doesn't stop me from doing this, I think it's more of a FHIR validation warning that I'm concerned will pop up when we try to do any sort of validation of the resources.</p>



<a name="191990001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179260-Profiling%20Academy/topic/Dosage%20as%20an%20Extension%20Value/near/191990001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179260-Profiling-Academy/topic/Dosage.20as.20an.20Extension.20Value.html#191990001">(Mar 27 2020 at 08:57)</a>:</h4>
<p>I can't reproduce the errors/warnings you're getting <span class="user-mention" data-user-id="200218">@Larry Shields</span>, so if you're able to share (an anonymized version of) the extension where you get these errors that would help.</p>



<a name="191994356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179260-Profiling%20Academy/topic/Dosage%20as%20an%20Extension%20Value/near/191994356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthijs van der Wielen <a href="https://fhir.github.io/chat-archive/stream/179260-Profiling-Academy/topic/Dosage.20as.20an.20Extension.20Value.html#191994356">(Mar 27 2020 at 09:47)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="200218">@Larry Shields</span> , I can reproduce your error in STU3. You are correct in your assumption that there is a rule against using Dosage in extensions. This is only for STU3 as you can see in the spec here: <a href="http://hl7.org/fhir/stu3/extensibility.html" title="http://hl7.org/fhir/stu3/extensibility.html">http://hl7.org/fhir/stu3/extensibility.html</a> . <br>
In R4 the use of Dosage in extensions is allowed: <a href="http://hl7.org/fhir/extensibility.html" title="http://hl7.org/fhir/extensibility.html">http://hl7.org/fhir/extensibility.html</a> . In R4 I can select Dosage (see <a href="/user_uploads/10155/Kp1zpm7_w6jWI2hq9UAtON8h/image.png" title="image.png">image.png</a>) as type without having to add a new Type like in STU3.</p>
<div class="message_inline_image"><a href="/user_uploads/10155/Kp1zpm7_w6jWI2hq9UAtON8h/image.png" title="image.png"><img src="/user_uploads/10155/Kp1zpm7_w6jWI2hq9UAtON8h/image.png"></a></div>



<a name="192016953"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179260-Profiling%20Academy/topic/Dosage%20as%20an%20Extension%20Value/near/192016953" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Larry Shields <a href="https://fhir.github.io/chat-archive/stream/179260-Profiling-Academy/topic/Dosage.20as.20an.20Extension.20Value.html#192016953">(Mar 27 2020 at 13:33)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="259036">@Matthijs van der Wielen</span>  and <span class="user-mention" data-user-id="203235">@Ward Weistra</span> .  I'll work around this for now in STU3 and we can move to using Dosage when we migrate this project to R4.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
