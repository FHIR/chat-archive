---
layout: page
title: "FHIR Chat  · Validation issue for RelatedArtifact · genomics"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/index.html">genomics</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Validation.20issue.20for.20RelatedArtifact.html">Validation issue for RelatedArtifact</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="182688399"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Validation%20issue%20for%20RelatedArtifact/near/182688399" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fei Yan <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Validation.20issue.20for.20RelatedArtifact.html#182688399">(Dec 05 2019 at 18:32)</a>:</h4>
<p>Hi,</p>
<p>I am validating below resource on HAPI FHIR JPA server:<br>
{<br>
  "resourceType": "Observation",<br>
  "id": "16012",<br>
  "meta": {<br>
    "versionId": "1",<br>
    "lastUpdated": "2019-12-03T10:07:06.000-06:00",<br>
    "profile": [<br>
      "<a href="http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/medication-metabolism" target="_blank" title="http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/medication-metabolism">http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/medication-metabolism</a>"<br>
    ]<br>
  },<br>
  ...<br>
  ...<br>
  "component": [<br>
    {<br>
      "extension": [<br>
        {<br>
          "url": "<a href="http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/RelatedArtifact" target="_blank" title="http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/RelatedArtifact">http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/RelatedArtifact</a>",<br>
          "valueRelatedArtifact": {<br>
            "type": "justification",<br>
            "url": "..."<br>
          }<br>
        }<br>
      ],<br>
      "code": {<br>
        "coding": [<br>
          {<br>
            "system": "<a href="http://loinc.org" target="_blank" title="http://loinc.org">http://loinc.org</a>",<br>
            "code": "...",<br>
            "display": "..."<br>
          }<br>
        ]<br>
      },<br>
      "valueCodeableConcept": {<br>
        "coding": [<br>
          {<br>
            "system": "<a href="http://ncimeta.nci.nih.gov" target="_blank" title="http://ncimeta.nci.nih.gov">http://ncimeta.nci.nih.gov</a>",<br>
            "code": "...",<br>
            "display": "..."<br>
          }<br>
        ]<br>
      }<br>
    }<br>
  ]<br>
}</p>
<p>I got below error:<br>
{<br>
      "severity": "error",<br>
      "code": "processing",<br>
      "diagnostics": "Problem with use of resolve() - profile '[CanonicalType[http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/RelatedArtifact]]' on Observation.extension:RelatedArtifact could not be resolved",<br>
      "location": [<br>
        "Parameters.parameter[0].resource.extension[0]"<br>
      ]<br>
}</p>
<p>Any help will be appreciated. Thanks in advance.</p>
<p>Fei</p>



<a name="182694334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Validation%20issue%20for%20RelatedArtifact/near/182694334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Validation.20issue.20for.20RelatedArtifact.html#182694334">(Dec 05 2019 at 19:30)</a>:</h4>
<p>Hi Fei,<br>
It looks like you are attempting to attach a relatedArtifact as an extension on Observation.component. RelatedArtifact using its current structure definition is defined as an extension in the context of base Observations and DiagnosticReports, not within components. I would first try moving the relatedArtifiact out of the component and confirm you do not see the error.</p>
<p>Observation in particular can have multiple relatedArtifact extensions at the top level, and it is an open topic for this group to determine how best to link them to applicable components. It has been suggested by <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> to add internal reference ids to the components and refer to them from the relatedArtifact, but I do not see our current extension being able to support this computationally</p>



<a name="182694482"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Validation%20issue%20for%20RelatedArtifact/near/182694482" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Validation.20issue.20for.20RelatedArtifact.html#182694482">(Dec 05 2019 at 19:31)</a>:</h4>
<p>As I see it with the extension we provided, you could mention the internal id of the component in <a href="http://hl7.org/fhir/metadatatypes-definitions.html#RelatedArtifact.label" target="_blank" title="http://hl7.org/fhir/metadatatypes-definitions.html#RelatedArtifact.label">relatedArtifact.label</a>, which is "A short label that can be used to reference the citation from elsewhere in the containing artifact, such as a footnote index."</p>



<a name="182697484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Validation%20issue%20for%20RelatedArtifact/near/182697484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fei Yan <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Validation.20issue.20for.20RelatedArtifact.html#182697484">(Dec 05 2019 at 19:58)</a>:</h4>
<p><span class="user-mention" data-user-id="196553">@Jamie Jones</span> Thanks for your quick response!</p>



<a name="182716739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Validation%20issue%20for%20RelatedArtifact/near/182716739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Validation.20issue.20for.20RelatedArtifact.html#182716739">(Dec 05 2019 at 23:52)</a>:</h4>
<p>I <em>think</em> you could do it like this: <code>[base]/Observation/57#123</code> where 57 is the Observation and 123 is the id on the component you're referring to.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>, is that a legal thing to do in a Reference?</p>



<a name="182717076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Validation%20issue%20for%20RelatedArtifact/near/182717076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Validation.20issue.20for.20RelatedArtifact.html#182717076">(Dec 05 2019 at 23:59)</a>:</h4>
<p>yes</p>



<a name="182717082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Validation%20issue%20for%20RelatedArtifact/near/182717082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Validation.20issue.20for.20RelatedArtifact.html#182717082">(Dec 05 2019 at 23:59)</a>:</h4>
<p>oh no hangon</p>



<a name="182717122"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Validation%20issue%20for%20RelatedArtifact/near/182717122" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Validation.20issue.20for.20RelatedArtifact.html#182717122">(Dec 06 2019 at 00:00)</a>:</h4>
<p>only to contained resources</p>



<a name="182717166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Validation%20issue%20for%20RelatedArtifact/near/182717166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Validation.20issue.20for.20RelatedArtifact.html#182717166">(Dec 06 2019 at 00:00)</a>:</h4>
<p>no, where is it from? If it's a Reference(X) then you can't since the target isn't an X</p>



<a name="182726783"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Validation%20issue%20for%20RelatedArtifact/near/182726783" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Validation.20issue.20for.20RelatedArtifact.html#182726783">(Dec 06 2019 at 03:22)</a>:</h4>
<p>Then I guess we'd need an extension on the extension to indicate the specific component.</p>
<p>Why are we wanting to point to a component?</p>



<a name="182765326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Validation%20issue%20for%20RelatedArtifact/near/182765326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Validation.20issue.20for.20RelatedArtifact.html#182765326">(Dec 06 2019 at 14:30)</a>:</h4>
<p>I think this is what triggered it: <a href="#narrow/stream/189875-genomics-.2F.20eMerge.20Pilot/topic/relatedArtifact.20extension.20change.20request" title="#narrow/stream/189875-genomics-.2F.20eMerge.20Pilot/topic/relatedArtifact.20extension.20change.20request">https://chat.fhir.org/#narrow/stream/189875-genomics-.2F.20eMerge.20Pilot/topic/relatedArtifact.20extension.20change.20request</a></p>



<a name="182765414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Validation%20issue%20for%20RelatedArtifact/near/182765414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Validation.20issue.20for.20RelatedArtifact.html#182765414">(Dec 06 2019 at 14:31)</a>:</h4>
<p>And on a call, I think you made the suggestion to not add RA to Observation.component[] but rather keep RA on Observation and do something to reference</p>



<a name="182783526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Validation%20issue%20for%20RelatedArtifact/near/182783526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Validation.20issue.20for.20RelatedArtifact.html#182783526">(Dec 06 2019 at 17:27)</a>:</h4>
<p>Ok, as I look at the original use-case, I'm wondering if the problem is that we're using Component inappropriately.  If we want to say "no significant impact for this variant and med", the statement should be with respect to a single med, not to a whole collection of them.  If you evaluate 50 medications, that should actually be 50 Observations because it's actually 50 distinct statements.  If you determine that one of the assessments was in error, that shouldn't affect the others.  And if you do things that way, there's no need to point to a component.  (In reality you wouldn't be pointing to the component anyhow, you'd be pointing to the overall statement, but wanting to filter to the sub-assertion relevant to that medication.)</p>



<a name="182790869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Validation%20issue%20for%20RelatedArtifact/near/182790869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Validation.20issue.20for.20RelatedArtifact.html#182790869">(Dec 06 2019 at 18:47)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> -- Would you mind posting  your thoughts on the referenced thread since we have moved beyond just this particular validation issue.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
