---
layout: page
title: "FHIR Chat  Â· Combining similar types of components Â· genomics"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/index.html">genomics</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html">Combining similar types of components</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="186898571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186898571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186898571">(Jan 29 2020 at 15:55)</a>:</h4>
<p>One of the discussion points from Clem yesterday was the idea of combining similar components together.  This was one of the examples, though there are others:</p>
<blockquote>
<p>Reference sequence (Crucial and required) but do we really need two separate fields? They are self-defining â€“ Can we collapse into one field â€“ they are self-defining- perhaps allow 2 if we need that many<br>
51958-7    Transcript reference sequence [ID]<br>
48013-7    Genomic reference sequence [ID]</p>
</blockquote>
<p>It does seem we could do it fairly easily, but it would necessitate that we create a new ValueSet containing the LOINC codes mentioned above that we could bind <code>Variant(Observation).component[].code</code> to for validation purposes.  We would need to make the new combined component 0..*, which would also imply we lose the ability to simply say "please send at most 1 transcript reference sequence."  Longer term, we would also (I think?) lose the ability to validate different value sets for the different types of reference sequences.</p>
<p>I am still not sure if this really makes the Variant profile "easier" or not, but wanted to ask for other feedback before we officially consider this request.</p>



<a name="186899105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186899105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186899105">(Jan 29 2020 at 16:00)</a>:</h4>
<p>I think part of his point is that a genomic reference sequence often uniquely determines a transcript reference sequence and vice versa, so we could (potentially) limit it to 1..1 reference</p>



<a name="186900575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186900575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186900575">(Jan 29 2020 at 16:14)</a>:</h4>
<p>If we do send both currently, how do we interpret the variant's exact-start-end?? Our guidance says "genomic" so does it default to that if both refs are given?</p>



<a name="186900593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186900593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186900593">(Jan 29 2020 at 16:14)</a>:</h4>
<p>Fair point.  I am not sure that will always be a 1..1 (especially for non-NCBI references, I REALLY don't know those very well), but perhaps it is - for now, let's assume it is.  Similar to our other discussions, I am uncomfortable with our base profile putting assumptions that the receiving system can do a lookup like that.</p>



<a name="186900775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186900775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186900775">(Jan 29 2020 at 16:16)</a>:</h4>
<p>Given our definition of exact-start-end, I would assume it would be based on the genomic coordinates regardless of what reference sequence(s) are provided (which is honestly not something we should probably assume - this could use some clarification/work to be honest).</p>



<a name="186935291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186935291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186935291">(Jan 29 2020 at 22:24)</a>:</h4>
<p>Do others have comments on this?  To tag a few people who have done some real work with the IG, curious to hear from <span class="user-mention" data-user-id="196626">@Mullai Murugan</span> or <span class="user-mention" data-user-id="209510">@Larry Babb</span> , <span class="user-mention" data-user-id="193751">@Bob Dolin</span> , maybe <span class="user-mention" data-user-id="192123">@Bret H</span> ?</p>



<a name="186936922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186936922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Dolin <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186936922">(Jan 29 2020 at 22:47)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="196553">@Jamie Jones</span> raises a good point, that other components potentially become ambiguous if we collapse all refSeq's into a single component. That said, I like the idea of collapsing - maybe it won't work in all of the cases Clem suggested, but maybe it would work for, say, HGVS, and from there, we'd just need to do profiles.</p>



<a name="186938567"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186938567" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186938567">(Jan 29 2020 at 23:12)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="193751">@Bob Dolin</span> -- I think we already have some ambiguity, as the 'genomic ref seq' component is not required, but the 'exact-start-stop' component says it is based on 'genomic coordinates.'  If we want to put some invariants/rules in place saying if you send 'exact-start-stop' you must also send 'genomic ref seq,' we can do so regardless of if we combine the ref seqs or leave them seperate as they are today.</p>



<a name="186938882"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186938882" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186938882">(Jan 29 2020 at 23:17)</a>:</h4>
<p>Those groups of components meant to be used together feel like unrwritten rules we ought to put in</p>



<a name="186939479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186939479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Dolin <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186939479">(Jan 29 2020 at 23:25)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191913">@Kevin Power</span>. I do like the idea of reducing the components, but I kinda wonder if it might be good to start with just one, and from there consider each reduction on its own? maybe, for instance, we'd start by seeing whether it's possible to collapse the three HGVS components (c,g,p) into just one?</p>



<a name="186939808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186939808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186939808">(Jan 29 2020 at 23:29)</a>:</h4>
<p>HGVS seems most convenient for the amino acid change, especially since ref and alt are genomic</p>



<a name="186940304"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186940304" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186940304">(Jan 29 2020 at 23:36)</a>:</h4>
<p>I would be OK with combining the HGVS components.  Anyone opposed to that becoming a tracker in the theme of "simplification" ? <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="186948119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186948119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Larry Babb <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186948119">(Jan 30 2020 at 01:45)</a>:</h4>
<p>It would be so helpful if we (CGWG) could produce a few low level data types that provide the constructs (or components) that all depend on each other to create the values needed to represent the results or components in the Observations. It is very difficult to have all these rule around which attributes go together and depend on each other, especially when there's need or interest in having multiple complex components.  </p>
<p>While I think the Observation.component[] concept is a very useful and helpful mechanism to provide additional values that help clarify or enhance the data that is observed. I think these variant scenarios illustrate that we are exceeding the limits and intention of that design by trying to fit one or more "components" with deeper structures than the Observation.component[] mechanism allows.  </p>
<p>If we (CGWG) want to provide all the various ways some one might want to represent a variant, then why not create an Observation Profile for each specific use case. In other words, instead of one generic Variant profile. Have an HGVSVariant profile, a VariantCallFormat Profile, an StarAllele Profile, etc... This would produce upwards of a dozen profiles, but it would make it very clear which constraints were required for the various variant representation types.  And, if someone wanted to use a "genomic" HGVSVariant profile they could type it as "genomic" and then have sub-observations for the "transcript" and "protein" types observations that the producer may wish to additionally send with the base observation.</p>
<p>Sorry to diverge from the original ask. But it is difficult to try to untangle the little knots, hoping to make a meaningful improvement when we our knot is part a "nest" of knots.  If we don't address the bigger issue of simplifying</p>



<a name="186948433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186948433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186948433">(Jan 30 2020 at 01:50)</a>:</h4>
<p>That's certainly possible - however most 'custom' data types that have been introduced into the spec so far have been on elements that everyone must support and that aren't 'choice' structures.  The risk of introducing custom types for either Observation.component.value or for extension is that they won't be widely supported - which may limit the ability to propagate data through/to systems.</p>



<a name="186949177"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186949177" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186949177">(Jan 30 2020 at 02:08)</a>:</h4>
<p>We could do lots of profiles and still have a single Observation instance that meets all the ones makes sense. We would have to define our profiles carefully so that they can work together, but it would be possible. I am hesitant to define something that would require many Observations to report a single variant.</p>



<a name="186952167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186952167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186952167">(Jan 30 2020 at 03:22)</a>:</h4>
<p>I do think it begs the question I have been thinking more about recently - does fitting into a less-than-ideal but more widely adopted structure, like Observation and its components, provide enough value over first class structures for genomics that wonâ€™t be more generally adoptable without additional work for implementers?  I know we started the IG on the premise that the value of widely adopted and understood structures was worth it. Given where we are, do we all still believe that? Are we getting to a point of defining (or needing to define) our profiles such that their complexities will require additional implementation anyway?</p>
<p>Those are probably unanswerable questions right now, but easy questions are no fun <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="186952406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186952406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186952406">(Jan 30 2020 at 03:29)</a>:</h4>
<p>Are you suggesting we ought to revisit MolecularSequence???</p>



<a name="186952976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186952976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186952976">(Jan 30 2020 at 03:44)</a>:</h4>
<p>I donâ€™t know what I am suggesting right now. ðŸ¤¯</p>



<a name="186953080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/186953080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#186953080">(Jan 30 2020 at 03:47)</a>:</h4>
<p>In all seriousness, I think we continue to stick close to what we have now and making incremental progress. However, once the IM model is reviewed and ready - it might be time to revisit decisions like this</p>



<a name="189715316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/189715316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#189715316">(Mar 04 2020 at 17:38)</a>:</h4>
<p>Have to revisit this for hgvs representation on Variant :)</p>



<a name="189727848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/189727848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#189727848">(Mar 04 2020 at 19:48)</a>:</h4>
<p>I think our group should consider combining all HGVS components into a single component.  As we think about what to do for the "Variant Simplification" theme more broadly it might change again, but we should embrace evolution <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>
<p>There were other things on this thread that are probably a bridge too far for now.</p>



<a name="190654331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/190654331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bret H <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#190654331">(Mar 15 2020 at 16:24)</a>:</h4>
<p>wisepeople keep saying 'you can move complexity around but you can't hide it forever.' If we remove the more pre-coordinated reference fields, as has been discussed, the recipient of the data will need mechanisms to parse the incoming data  to know if it is relative to protein, RNA, DNA. So the recipient side would need extra effort. Additionally, querying becomes an issue --- if it were to matter in the query of the genetic data were RNA, AA, or DNA. ..we're a bit stuck. Simplification in one space creates complication and need for control logic in another. Sorry not to be helpful. The only thing I can offer, is we make a decision and stick to it for a declared amount of time. The more time I spend in this group the more I see a very strong need to make stability contracts with the would-be implementer. This means stabilizing our product and adhering to a SPECIFIC release cycle.                                  Our community deserves it, and patients will be better served the sooner genetic data is discreetly available.</p>



<a name="222455109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Combining%20similar%20types%20of%20components/near/222455109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Combining.20similar.20types.20of.20components.html#222455109">(Jan 12 2021 at 16:21)</a>:</h4>
<p>I think this thread from last year may be the most aligned spot for continued "IG Lite" discussion. Current google doc where we've been considering updated guidance for <a href="http://build.fhir.org/ig/HL7/genomics-reporting/sequencing.html">http://build.fhir.org/ig/HL7/genomics-reporting/sequencing.html</a> is here: <a href="https://docs.google.com/document/d/15g1rngmgFoE8_i7UGpXRpISkOCrd1QCoQBg9REY80EI/edit">https://docs.google.com/document/d/15g1rngmgFoE8_i7UGpXRpISkOCrd1QCoQBg9REY80EI/edit</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
