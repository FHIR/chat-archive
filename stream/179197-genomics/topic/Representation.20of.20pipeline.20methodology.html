---
layout: page
title: "FHIR Chat  · Representation of pipeline methodology · genomics"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/index.html">genomics</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html">Representation of pipeline methodology</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="199097852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199097852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Dolin <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199097852">(May 28 2020 at 23:18)</a>:</h4>
<p>I think we've talked about this here and there, how to capture the 'method' by which a variant was called. </p>
<p>I'm not a software developer, but let me go out on a limb here, and mention a discussion I had with a colleague today, who works in a molecular pathology lab. They use a workflow manager (in this case, nextflow), which references containers (in this case docker), and as a result, different groups can now process the same input (e.g. a BAM or FASTQ file) and obtain the same results (e.g. a VCF). Further, in this case, since their nextflow pipeline is stored in bitbucket, they essentially have a canonical reference to their pipeline.</p>
<p>Granted, this only addresses the bioinformatics portion of the analysis, but does this sound like something we may want to explore capturing in the FHIR Genomics guide?</p>



<a name="199098189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199098189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199098189">(May 28 2020 at 23:25)</a>:</h4>
<p>This sort of pipeline reference in observation.method should certainly be possible, but it would be hard to identify an example code system for our guidance I think</p>



<a name="199098264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199098264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Dolin <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199098264">(May 28 2020 at 23:26)</a>:</h4>
<p>What about a data type of 'identifier'?</p>



<a name="199098366"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199098366" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199098366">(May 28 2020 at 23:28)</a>:</h4>
<p>Might make more sense in Proveanance ?</p>
<p><a href="http://build.fhir.org/provenance.html">http://build.fhir.org/provenance.html</a></p>



<a name="199098496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199098496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199098496">(May 28 2020 at 23:31)</a>:</h4>
<p>Recent O&amp;O discussions have included confirming if Device is in scope for this as well. We had briefly explored provenance in the past</p>



<a name="199098573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199098573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Dolin <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199098573">(May 28 2020 at 23:32)</a>:</h4>
<p>I could see using Provenance.Activity for this, although I think Jamie's question still applies (whether a pipeline is a codeableConcept vs. an identifier)</p>



<a name="199098577"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199098577" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199098577">(May 28 2020 at 23:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="193751">Bob Dolin</span> <a href="#narrow/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology/near/199098264">said</a>:</p>
<blockquote>
<p>What about a data type of 'identifier'?</p>
</blockquote>
<p>Where would you put this, and what sort of identifier are you asking about?</p>



<a name="199098620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199098620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199098620">(May 28 2020 at 23:33)</a>:</h4>
<p>This is a really big question, and one that will require a fair amount of thought and discussion <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="199098628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199098628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Dolin <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199098628">(May 28 2020 at 23:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191913">@Kevin Power</span> For identifier, I was thinking of how we'd point to, for instance, a specific version of something in github. For instance, let's say my pipeline is version 2 of <a href="https://github.com/CRG-CNAG/CalliNGS-NF/">https://github.com/CRG-CNAG/CalliNGS-NF/</a></p>



<a name="199098961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199098961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199098961">(May 28 2020 at 23:39)</a>:</h4>
<p>I think providing guidance to use Observation.method would be the most consistent with the design principles of our IG currently, though it isn't very robust</p>



<a name="199099077"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199099077" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Dolin <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199099077">(May 28 2020 at 23:40)</a>:</h4>
<p>What I like about it is the ability to reference a very complex set of applications and configurations, all with a single URL.</p>



<a name="199162953"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199162953" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199162953">(May 29 2020 at 14:41)</a>:</h4>
<p>How are methods reported in current lab reports? We need to at least capture that. </p>
<p>I see two different kinds of methods. First are the static things, like a standard methodology that is documented in the lab and is used by many different lab reports. Maybe a kit name and version, or a protocol defined at the lab, including the sequencing platform (MiSeq, PacBio, etc), that could be used as a definitional reference. Maybe an accession # to a test in the <a href="https://www.ncbi.nlm.nih.gov/gtr/">Genetic Testing Registry</a>? The second kind of method information are the parameters used in a particular analysis that may be unique to that report.  I'm looking at an XML export of an HLA analysis software and it includes:</p>
<div class="codehilite"><pre><span></span><code> <span class="nt">&lt;AnalysisSoftware&gt;</span>
   <span class="nt">&lt;Software&gt;</span>NGSengine<span class="nt">&lt;/Software&gt;</span>
   <span class="nt">&lt;Version&gt;</span>2.16.2.16030<span class="nt">&lt;/Version&gt;</span>
 <span class="nt">&lt;/AnalysisSoftware&gt;</span>
 <span class="nt">&lt;AnalysisSettings&gt;</span>
   <span class="nt">&lt;AmpliconMethod&gt;</span>NGSgo<span class="nt">&lt;/AmpliconMethod&gt;</span>
   <span class="nt">&lt;AnalysisRegion&gt;</span>Amplicon<span class="nt">&lt;/AnalysisRegion&gt;</span>
   <span class="nt">&lt;IgnoreRegions&gt;</span>Default<span class="nt">&lt;/IgnoreRegions&gt;</span>
   <span class="nt">&lt;PhasingMethod</span> <span class="na">MinimumReadDepth=</span><span class="s">&quot;20&quot;</span> <span class="na">AlleleRatioThreshold=</span><span class="s">&quot;20&quot;</span> <span class="na">NoiseThreshold=</span><span class="s">&quot;14&quot;</span><span class="nt">&gt;</span>Cluster<span class="nt">&lt;/PhasingMethod&gt;</span>
   <span class="nt">&lt;ReadTrimmer</span> <span class="na">Applied=</span><span class="s">&quot;Yes&quot;</span><span class="nt">&gt;</span>
     <span class="nt">&lt;Settings</span> <span class="na">RelativeThreshold=</span><span class="s">&quot;70&quot;</span> <span class="na">AbsoluteThreshold=</span><span class="s">&quot;20&quot;</span> <span class="na">WindowSize=</span><span class="s">&quot;10&quot;</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/ReadTrimmer&gt;</span>
   <span class="nt">&lt;ApplyCWDList&gt;</span>true<span class="nt">&lt;/ApplyCWDList&gt;</span>
 <span class="nt">&lt;/AnalysisSettings&gt;</span>
</code></pre></div>


<p>I suspect the AnalysisSettings are likely unique for a particular software package (e.g., ApplyCWDLists), so trying to capture settings in a structured way that could be used for multiple software tools would be difficult at best. But some of these might be applicable to other tools, certainly Software and Version.</p>



<a name="199173380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199173380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Arthur Hermann <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199173380">(May 29 2020 at 15:52)</a>:</h4>
<p>I think this is a very interesting idea - but I want to make sure we step back and make sure we feel this is in our purview and most definitely would like to prioritize vs other work we need to do on the current IG.  As has been pointed out - the data coming directly from a bioinformatics pipeline can take many shapes dependent on the machine and pipeline the lab is using. My first question is why do we want to move that far upstream? Who benefits from adding this to the IG? Secondly, if we do decide we should include this area, we should work closely with O&amp;O on their device work, and as Bob M suggests, develop this in a very open manner since I expect the data from each lab would be very different for each of them.</p>



<a name="199211184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199211184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Dolin <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199211184">(May 29 2020 at 20:58)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="196476">@Arthur Hermann</span> . It's a good point, to figure out if this is needed. And to be honest, I don't think I have a need for it. Rather, it kinda stems from a use case I've heard occasionally, that given, say, a FASTQ or BAM file, it should be possible for two groups to  come up with the same VCF file. Lately I see a number of groups formalizing their pipelines using some type of workflow definition language + containers, suggesting that if we do need to address this, we could potentially wrap up all the complexity in a simple URL.</p>



<a name="199225853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199225853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199225853">(May 29 2020 at 23:52)</a>:</h4>
<p>The RelatedArtifact extension is a great place to send a simple URL</p>



<a name="199375480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199375480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199375480">(Jun 01 2020 at 14:27)</a>:</h4>
<p><span class="user-mention" data-user-id="191913">@Kevin Power</span> I agree, but RA extension isn't defined on variant at this time, just on implications</p>



<a name="199379975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199379975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199379975">(Jun 01 2020 at 15:05)</a>:</h4>
<p>True, but that seems like an easy addition.  Of course, easy to misuse/overuse.</p>



<a name="199387346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199387346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Dolin <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199387346">(Jun 01 2020 at 16:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191913">@Kevin Power</span> Not sure I'm understanding how the pipeline methodology would be a relatedArtifact. Is this because Method and Provenance.activity don't currently support representation as a URL?</p>



<a name="199390390"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199390390" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199390390">(Jun 01 2020 at 16:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="193751">Bob Dolin</span> <a href="#narrow/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology/near/199211184">said</a>:</p>
<blockquote>
<p>..., suggesting that if we do need to address this, we could potentially wrap up all the complexity in a simple URL.</p>
</blockquote>
<p>I just wanted to mention that if you were looking for a way to deliver a 'simple URL', RelatedArtifact is an option, especially in the short term.</p>



<a name="199414699"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/199414699" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#199414699">(Jun 01 2020 at 19:52)</a>:</h4>
<p>... except for the point that <span class="user-mention" data-user-id="196553">@Jamie Jones</span> made about us not having the extension list on the Variant profile.  Though I don't think that would prevent someone from adding the extension themselves.  Again, this is a short term answer until we can come up with a solid proposal.</p>



<a name="200098910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179197-genomics/topic/Representation%20of%20pipeline%20methodology/near/200098910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bret H <a href="https://fhir.github.io/chat-archive/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology.html#200098910">(Jun 08 2020 at 13:45)</a>:</h4>
<p>Uff. Darn good topic and forward thinking. the URL approach seems good, but I can't tell, is there a suggest standard to follow for presenting information at the endpoint of the URL? Also there has been work done on device definition. <a href="https://build.fhir.org/device.html">https://build.fhir.org/device.html</a> do we consider software a device?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
