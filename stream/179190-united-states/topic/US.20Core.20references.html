---
layout: page
title: "FHIR Chat  · US Core references · united states"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/index.html">united states</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html">US Core references</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="189791282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189791282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Newman <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189791282">(Mar 05 2020 at 13:36)</a>:</h4>
<p>If I write an IG that includes a Patient profile built on the US Core Patient Profile (let's say I change the cardinality of birthDate from 0..1 in the US Core profile to 1..1 in my profile) and then want to use the US Core Encounter profile as is (no additional constraints), does an instance of the Patient resource conforming to my IG need to list both the US Core Patient profile and my IG profile in Patient.meta because the US Core Encounter profile constrains Encounter.subject to the US Core Patient profile? Or is it sufficient for the Patient resource to just list my IG's profile because it builds on US Core Patient? Or does my IG also have to create a profile of Encounter (building on US Core Encounter) and restrict Encounter.subject to my IG's profile?</p>



<a name="189812560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189812560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189812560">(Mar 05 2020 at 16:58)</a>:</h4>
<p>There's no requirement to list any profile at all.  Declaring profiles is optional.  Some servers/IGs may mandate declaration, but that's generally not considered a good practice.</p>



<a name="189815976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189815976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189815976">(Mar 05 2020 at 17:26)</a>:</h4>
<blockquote>
<p>Or does my IG also have to create a profile of Encounter (building on US Core Encounter) and restrict Encounter.subject to my IG's profile?</p>
</blockquote>
<p>yes</p>
<blockquote>
<p>does an instance of the Patient resource conforming to my IG need to list both the US Core Patient profile and my IG profile in Patient.meta because the US Core Encounter profile constrains Encounter.subject to the US Core Patient profile?</p>
</blockquote>
<p>no only the derived profile is fine  all the constraints are inherited.</p>



<a name="189816129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189816129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189816129">(Mar 05 2020 at 17:28)</a>:</h4>
<p>There is a way to globally apply profiles in IGs but I don't think its implemented?   <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  ?</p>



<a name="189822723"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189822723" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189822723">(Mar 05 2020 at 18:38)</a>:</h4>
<p>If you mean "is it enforced by the validator", I'm not actually sure.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="189826118"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189826118" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189826118">(Mar 05 2020 at 19:15)</a>:</h4>
<p>AFAIK   Currently only can say "use this Y profile defined in this Y IG everywhere Y is referenced in a X IG that lists Y IG as a dependency", there is no way to say in an IG, "use this X profile that we just defined in this IG everywhere X is referenced in the <em>same</em> IG".   Is that correct? <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="189833477"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189833477" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189833477">(Mar 05 2020 at 20:35)</a>:</h4>
<p>validator doesn't enforce global profiles, no</p>



<a name="189833491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189833491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189833491">(Mar 05 2020 at 20:35)</a>:</h4>
<p>at least, not yet</p>



<a name="189838342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189838342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189838342">(Mar 05 2020 at 21:27)</a>:</h4>
<p>We haven't defined how global profiles in a derived IG behave with respect to profiles inherited from a referenced (dependency) IG.  My assumption had been that global profiles apply everywhere.  In principle, if a parent and child IG both defined global profiles for the same IG, then both profiles would have to apply, though we could also say it was an error unless the global profile in the child IG was a constraint on the global profile for that same type in the parent.</p>



<a name="189838350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189838350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189838350">(Mar 05 2020 at 21:27)</a>:</h4>
<p>Do we need a change request to clarify that?</p>



<a name="189839503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189839503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189839503">(Mar 05 2020 at 21:39)</a>:</h4>
<blockquote>
<p>both profiles would have to apply</p>
</blockquote>
<p>Yes. Doesn't have to have a direct lineage though</p>



<a name="189840778"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189840778" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189840778">(Mar 05 2020 at 21:51)</a>:</h4>
<p>"Doesn't have to have direct lineage though" - what does that mean?</p>



<a name="189842001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189842001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189842001">(Mar 05 2020 at 22:04)</a>:</h4>
<p>baseDefinition doesn't have to point to the logical parent</p>



<a name="189849754"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189849754" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189849754">(Mar 05 2020 at 23:45)</a>:</h4>
<p>baseDefinition for the global profiles?  So essentially all global profiles declared for a given type must hold?</p>



<a name="189860279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189860279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189860279">(Mar 06 2020 at 03:49)</a>:</h4>
<p>to clarify, if Craig creates a Patient profile FOO in his IG, he could also declare that FOO is global in his  IG and not have to update Encounter to point to FOO?  ( assuming the tooling supported this )</p>



<a name="189860977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189860977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189860977">(Mar 06 2020 at 04:09)</a>:</h4>
<p>yes</p>



<a name="189892563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189892563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Newman <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189892563">(Mar 06 2020 at 13:34)</a>:</h4>
<p>I have to admit I started getting lost at the first mention of "global profiles", but I think it ended with Grahame confirming that if I declare my IG's patient profile as global (within my IG), then all other references to a Patient resource in other profiles my IG uses would default to my Patient profile. DId I get that right? If so, what is the mechanism for declaring a profile to be global? Thanks.</p>



<a name="189900718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/189900718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#189900718">(Mar 06 2020 at 14:58)</a>:</h4>
<p>ImplementationGuide.global</p>



<a name="190001421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/US%20Core%20references/near/190001421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/US.20Core.20references.html#190001421">(Mar 08 2020 at 05:55)</a>:</h4>
<p><span class="user-mention" data-user-id="192758">@Craig Newman</span>  it is not yet implemented in the validation tooling ,  so don't expect error to be caught by the validator.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
