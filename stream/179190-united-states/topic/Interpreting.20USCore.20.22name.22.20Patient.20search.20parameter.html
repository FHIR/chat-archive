---
layout: page
title: "FHIR Chat  · Interpreting USCore &quot;name&quot; Patient search parameter · united states"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/index.html">united states</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html">Interpreting USCore &quot;name&quot; Patient search parameter</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="241410099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/Interpreting%20USCore%20%22name%22%20Patient%20search%20parameter/near/241410099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Moronez <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html#241410099">(Jun 03 2021 at 15:46)</a>:</h4>
<p>I am trying to figure out exactly how the Patient "name" search parameter would/should be used by a user and interpreted by a server.  If I were trying to find a patient "John Smith", I'd imagine I'd want to search by family and given explicitly (which we are planning on supporting) by doing something like "/Patient?family=Smith&amp;given=John"  The USCore spec dictates that a "name=Smith" search would/could search all parts of HumanName, meaning you'd get a patient whose family=Smith OR given=Smith OR suffix=Smith (since this is a "server-defined" text search, we will probably just limit to family and given).  But how would/should a "name=John%20Smith" or "name=Smith\,John" search be handled?  It seems like there is not enough guidance on this.  What are other systems doing?  And if interpreting a "name" search can be left up to an individual server's discretion, how useful is it really, given the point of FHIR is allowing an application to build an integration once and reuse it everywhere... it seems that "name" search would become a lot less useful if it behaved differently on each system.</p>



<a name="241411556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/Interpreting%20USCore%20%22name%22%20Patient%20search%20parameter/near/241411556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html#241411556">(Jun 03 2021 at 15:57)</a>:</h4>
<p>No. I think the instruction is pretty clear in FHIR base spec. If you search name=John%20Smith, the server will match "John Smith" in </p>
<blockquote>
<p>any of the string fields in the HumanName, including family, give, prefix, suffix, suffix, and/or text</p>
</blockquote>
<p><a href="http://hl7.org/fhir/patient.html#search">http://hl7.org/fhir/patient.html#search</a></p>



<a name="241413881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/Interpreting%20USCore%20%22name%22%20Patient%20search%20parameter/near/241413881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html#241413881">(Jun 03 2021 at 16:14)</a>:</h4>
<p>in the <a href="http://build.fhir.org/ig/HL7/US-Core/StructureDefinition-us-core-patient.html#mandatory-search-parameters">Quick Start for Patient</a> we have:</p>
<p><a href="/user_uploads/10155/_PJ808x7Zoci3sNdXg0n9VHh/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/_PJ808x7Zoci3sNdXg0n9VHh/image.png" title="image.png"><img src="/user_uploads/10155/_PJ808x7Zoci3sNdXg0n9VHh/image.png"></a></div><p>if  there is anything more that would make it clearer you can submit a tracker. Link at the bottom of any page in US Core.</p>



<a name="241413931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/Interpreting%20USCore%20%22name%22%20Patient%20search%20parameter/near/241413931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Moronez <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html#241413931">(Jun 03 2021 at 16:14)</a>:</h4>
<p>I am more interested in how people are interpreting "It is at the discretion of the server whether to pre-process names, addresses, and contact details to remove separator characters prior to matching in order to ensure more consistent behavior. For example, a server might remove all spaces and - characters from phone numbers. What is most appropriate varies depending on culture and context. A server may also use a free-text style searches on this property to achieve the best results.<br>
When searching whole names and addresses (not parts), servers may also use flexible match or a free-text style searches on names to achieve the best results." from <a href="http://hl7.org/fhir/R4/search.html#string">http://hl7.org/fhir/R4/search.html#string</a> which seems to be the source of ambiguity in my mind.  Taking the name field verbatim and just matching the HumanName elements against "John Smith" would return nothing, indeed, since none of the fields would match.</p>



<a name="241414971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/Interpreting%20USCore%20%22name%22%20Patient%20search%20parameter/near/241414971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Moronez <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html#241414971">(Jun 03 2021 at 16:22)</a>:</h4>
<p>Is anyone actually interpreting the "name" field flexibly and doing something intelligent based on its contents, or are people just taking it verbatim and matching as-is to each HumanName element (which will likely not be fruitful) because doing otherwise is too difficult to get done in time for meeting deadlines?</p>



<a name="241415546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/Interpreting%20USCore%20%22name%22%20Patient%20search%20parameter/near/241415546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html#241415546">(Jun 03 2021 at 16:26)</a>:</h4>
<p>Our server takes it verbatim and matches it against first / last / middle name. Not a matter of deadlines, implementation choice</p>



<a name="241418704"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/Interpreting%20USCore%20%22name%22%20Patient%20search%20parameter/near/241418704" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html#241418704">(Jun 03 2021 at 16:50)</a>:</h4>
<p>As a note, the <code>name</code> search parameter isn't defined in US Core, it's defined in the core spec (see <a href="http://hl7.org/fhir/patient.html#search">Patient - Search Parameters</a>).  US Core just flags that servers must support it, which is important to keep in mind since the definition is applied internationally.</p>
<p>Overall, I believe it's described as server dependent because it needs to be.  In some regions the custom is "FamilyName GivenName", in other regions it is "GivenName FamilyName", and there are a lot of variations within those (e.g., reversing the order by adding a comma).  Trying to codify the rules for parsing that would not go well.</p>
<p>If a client wants to search with multiple name parts and doesn't know which is supposed to be which, it should submit a search along the lines of <del>either</del> <code>name=Smith&amp;name=John</code> <del>or <code>name=Smith$John</code></del> (see: <a href="https://www.hl7.org/fhir/search.html#combining">Composite Search Parameters</a>) to get the most consistent results.</p>



<a name="241431032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/Interpreting%20USCore%20%22name%22%20Patient%20search%20parameter/near/241431032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Moronez <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html#241431032">(Jun 03 2021 at 18:15)</a>:</h4>
<p>Good points.  As a clarification, I believe composite syntax can only be used search params of type <code>composite</code>, and <code>name</code> is a <code>string</code> type.  We will probably go with supporting multipleAnd for <code>name</code> (although that's a MAY requirement as far as USCore goes: <a href="https://www.hl7.org/fhir/us/core/SearchParameter-us-core-patient-name.html">https://www.hl7.org/fhir/us/core/SearchParameter-us-core-patient-name.html</a>).  It'll be interesting to see how useful that field turns out to be if more systems decide to not support it than do.</p>



<a name="241434521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/Interpreting%20USCore%20%22name%22%20Patient%20search%20parameter/near/241434521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html#241434521">(Jun 03 2021 at 18:42)</a>:</h4>
<p><span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span>  the first syntax is legal and I'll strike the second, thanks.  It looks like we need to clean up that section, as some of the text describes the <code>composite</code> type and some is discussing the general syntax of joining search parameters.</p>



<a name="241439186"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/Interpreting%20USCore%20%22name%22%20Patient%20search%20parameter/near/241439186" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html#241439186">(Jun 03 2021 at 19:18)</a>:</h4>
<p>For reference, <a href="http://jira.hl7.org/browse/FHIR-32851">FHIR#32851</a>, <a href="http://jira.hl7.org/browse/FHIR-32852">FHIR#32852</a>.</p>



<a name="241439348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/Interpreting%20USCore%20%22name%22%20Patient%20search%20parameter/near/241439348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html#241439348">(Jun 03 2021 at 19:20)</a>:</h4>
<p><code>name=Smith,John</code> should work - if you want OR</p>



<a name="241439794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/Interpreting%20USCore%20%22name%22%20Patient%20search%20parameter/near/241439794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html#241439794">(Jun 03 2021 at 19:23)</a>:</h4>
<p>Yes - if you want AND <code>name=Smith&amp;name=John</code> should work, correct?  Though it would also likely match things like "Andrea Smith-Johnson".</p>



<a name="241444924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/Interpreting%20USCore%20%22name%22%20Patient%20search%20parameter/near/241444924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html#241444924">(Jun 03 2021 at 20:02)</a>:</h4>
<p>Mhh, no, it won't match that - default string comparison is 'starts with'</p>



<a name="241447661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/Interpreting%20USCore%20%22name%22%20Patient%20search%20parameter/near/241447661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html#241447661">(Jun 03 2021 at 20:24)</a>:</h4>
<p>Interesting Michele - and since <code>HumanName.family</code> is <code>0..1</code>, you can't separate hyphenated names into distinct values either (had not given this any thought previously).  Thanks for all the info.</p>



<a name="241462267"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/Interpreting%20USCore%20%22name%22%20Patient%20search%20parameter/near/241462267" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html#241462267">(Jun 03 2021 at 22:05)</a>:</h4>
<p>Of course you can do <code>name:contains=John</code> and that will match <code>Smith-Johnson</code> (and a lot of other things!)</p>



<a name="241466090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179190-united%20states/topic/Interpreting%20USCore%20%22name%22%20Patient%20search%20parameter/near/241466090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter.html#241466090">(Jun 03 2021 at 22:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="396744">Aaron Moronez</span> <a href="#narrow/stream/179190-united-states/topic/Interpreting.20USCore.20.22name.22.20Patient.20search.20parameter/near/241413931">said</a>:</p>
<blockquote>
<p>Taking the name field verbatim and just matching the HumanName elements against "John Smith" would return nothing, indeed, since none of the fields would match.</p>
</blockquote>
<p>HumanName.text could have matched text.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
