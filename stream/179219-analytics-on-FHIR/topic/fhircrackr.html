---
layout: page
title: "FHIR Chat  · fhircrackr · analytics on FHIR"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179219-analytics-on-FHIR/index.html">analytics on FHIR</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179219-analytics-on-FHIR/topic/fhircrackr.html">fhircrackr</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="203590026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179219-analytics%20on%20FHIR/topic/fhircrackr/near/203590026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Danny Ammon <a href="https://fhir.github.io/chat-archive/stream/179219-analytics-on-FHIR/topic/fhircrackr.html#203590026">(Jul 11 2020 at 10:09)</a>:</h4>
<p>New R package available: Useful tools for conveniently downloading FHIR resources in xml format<br>
and converting them to R data frames. The package uses FHIR search to download bundles from a FHIR server, provides functions to save and read XML files containing such bundles and allows flattening the bundles to data.frames using XPath expressions. We would be very happy if anyone who's interested could test it and report issues! <a href="https://cran.r-project.org/package=fhircrackr">https://cran.r-project.org/package=fhircrackr</a></p>



<a name="203673047"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179219-analytics%20on%20FHIR/topic/fhircrackr/near/203673047" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179219-analytics-on-FHIR/topic/fhircrackr.html#203673047">(Jul 13 2020 at 02:41)</a>:</h4>
<p>how does it compare to the existing package?</p>



<a name="203679392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179219-analytics%20on%20FHIR/topic/fhircrackr/near/203679392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julia Palm <a href="https://fhir.github.io/chat-archive/stream/179219-analytics-on-FHIR/topic/fhircrackr.html#203679392">(Jul 13 2020 at 05:30)</a>:</h4>
<p>As far as we can tell the existing package (RonFHIR) just loads FHIR resources into R as json resources, which most R people would probably have been able to to themsevelves using the httr package RonFHIR is wrapping.  That is not too helpful as you cant do data analysis on these resources.  fhircrackr on the other hand gives an interface (fhir_crack()) to extract the data from resources into table like structures (aka data.frames) within R.</p>



<a name="203758327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179219-analytics%20on%20FHIR/topic/fhircrackr/near/203758327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179219-analytics-on-FHIR/topic/fhircrackr.html#203758327">(Jul 13 2020 at 19:18)</a>:</h4>
<p>so you have to provide XPath rules to convert to tables? How would JSON be supported or is that not a reasonable addition?</p>



<a name="203758592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179219-analytics%20on%20FHIR/topic/fhircrackr/near/203758592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179219-analytics-on-FHIR/topic/fhircrackr.html#203758592">(Jul 13 2020 at 19:21)</a>:</h4>
<p>does fhircrackr support smart on fhir?</p>
<p>(great name, btw, but you do need to formally apply for trademark permission here: <a href="http://www.hl7.org/about/product.trademark.application.cfm">http://www.hl7.org/about/product.trademark.application.cfm</a>)</p>



<a name="203800491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179219-analytics%20on%20FHIR/topic/fhircrackr/near/203800491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julia Palm <a href="https://fhir.github.io/chat-archive/stream/179219-analytics-on-FHIR/topic/fhircrackr.html#203800491">(Jul 14 2020 at 05:38)</a>:</h4>
<p>At the moment you have to provide XPath rules to convert to tables, so json is not supported, that is correct. <br>
There's different levels of "cracking" a bundle of fhir ressources provided in the package. If you know which elements of the resources you are interested in and you can provide the XPath expression to their position, you can extract data frames with only that information. I think it will be hard to transfer this functionality to JSON because I'm not aware of a comparable tool for JSON.<br>
On the other hand you can crack the entire bundle and turn every element into a column of the data frame. At the moment, fhircrackr  can do this to XMLs exclusively too, but that might technically be transferable to JSON sometime. In my opinion that is however not the most useful functionality, because  the resulting data frames are incredibly wide and sparse and contain a lot information you won't be interested in for data analysis.</p>
<p>I have to say I'm not very familiar with smart on fhir. What kinds of preconditions would fhircrackr have to satisfy to support smart on fhir? The package can currently access any endpoint that can return xml resources via fhir search and it is open source, so any of the code is of course freely available.</p>
<p>Thanks for the remark about the trademark permission, we'll take care of that!</p>



<a name="203804116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179219-analytics%20on%20FHIR/topic/fhircrackr/near/203804116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179219-analytics-on-FHIR/topic/fhircrackr.html#203804116">(Jul 14 2020 at 07:03)</a>:</h4>
<p>well, smart on fhir is really just an OAUth profile - you can copy the code from the existing R package for that (it's not a lot).</p>



<a name="203804199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179219-analytics%20on%20FHIR/topic/fhircrackr/near/203804199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179219-analytics-on-FHIR/topic/fhircrackr.html#203804199">(Jul 14 2020 at 07:04)</a>:</h4>
<p>I think that there's several equivalents to XPath for json, but none have formal standing</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
