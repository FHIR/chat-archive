---
layout: page
title: "FHIR Chat  · Who can update inputs and outputs on Task? · workflow"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/index.html">workflow</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/Who.20can.20update.20inputs.20and.20outputs.20on.20Task.3F.html">Who can update inputs and outputs on Task?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="223793850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/Who%20can%20update%20inputs%20and%20outputs%20on%20Task%3F/near/223793850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Virginia Lorenzi <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/Who.20can.20update.20inputs.20and.20outputs.20on.20Task.3F.html#223793850">(Jan 24 2021 at 03:51)</a>:</h4>
<p>Can the fulfiller of a Task update/overwrite inputs?  Can the requester of a task update/overwrite outputs?  who gets to add notes - requester or fulfiller?</p>
<p>History seems especially important - should the fulfiller be required to keep history and implement history searches?</p>



<a name="223793970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/Who%20can%20update%20inputs%20and%20outputs%20on%20Task%3F/near/223793970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/Who.20can.20update.20inputs.20and.20outputs.20on.20Task.3F.html#223793970">(Jan 24 2021 at 03:55)</a>:</h4>
<p>Who can update a resource and what they're allowed to change is driven by business rules and not dictated by the FHIR spec.  In general, inputs are the responsibility of the requester and outputs are the responsibility of the filler.  Status could theoretically be updated by either, though there may be rules about what changes are allowed when.  Notes might be added by either - and possibly even by other parties.  Whether history matters depends on the use-case.</p>



<a name="223795476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/Who%20can%20update%20inputs%20and%20outputs%20on%20Task%3F/near/223795476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Virginia Lorenzi <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/Who.20can.20update.20inputs.20and.20outputs.20on.20Task.3F.html#223795476">(Jan 24 2021 at 04:37)</a>:</h4>
<p>If you are not careful one side could wipe out the other sides's notes.</p>



<a name="223834358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/Who%20can%20update%20inputs%20and%20outputs%20on%20Task%3F/near/223834358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/Who.20can.20update.20inputs.20and.20outputs.20on.20Task.3F.html#223834358">(Jan 24 2021 at 20:39)</a>:</h4>
<p>Not without doing it deliberately.  In FHIR, you can enforce that people can't perform an update unless they've queried the most recent version of the record - meaning they know exactly what they're adding, changing and deleting.</p>



<a name="223843954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/Who%20can%20update%20inputs%20and%20outputs%20on%20Task%3F/near/223843954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Virginia Lorenzi <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/Who.20can.20update.20inputs.20and.20outputs.20on.20Task.3F.html#223843954">(Jan 25 2021 at 00:04)</a>:</h4>
<p>Ah and they then have the latest version ID by doing that and can use the update lock?</p>



<a name="223851742"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/Who%20can%20update%20inputs%20and%20outputs%20on%20Task%3F/near/223851742" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/Who.20can.20update.20inputs.20and.20outputs.20on.20Task.3F.html#223851742">(Jan 25 2021 at 03:18)</a>:</h4>
<p>It's not really a 'lock' - you're not grabbing a lock and holding it, you're just tracking what version you saw and making sure that nothing's changed since then when you're modifying the record.  If anything has changed, then you need to grab the most recent and try again.</p>



<a name="223863541"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/Who%20can%20update%20inputs%20and%20outputs%20on%20Task%3F/near/223863541" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Virginia Lorenzi <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/Who.20can.20update.20inputs.20and.20outputs.20on.20Task.3F.html#223863541">(Jan 25 2021 at 07:47)</a>:</h4>
<p>So I am the client and I want to update task.  I query and get the latest version and then start updating it.  But meanwhile, on the server, the Task is being updated a different way.  Then I go to post it.  Didn't I need a way to tell the server don't touch it right now I am working on it?</p>



<a name="223865889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/Who%20can%20update%20inputs%20and%20outputs%20on%20Task%3F/near/223865889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/Who.20can.20update.20inputs.20and.20outputs.20on.20Task.3F.html#223865889">(Jan 25 2021 at 08:14)</a>:</h4>
<p>No, in principle it's up to you as the client to detect if the Task has been updated in the mean time (using E-Tag or _lastUpdated) before PUTing your update. In general the server can't know that you're about to update something when it receives a GET, nor can it know that sometimes you purposefully may wish to override data created/updated by someone else.</p>



<a name="223916427"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/Who%20can%20update%20inputs%20and%20outputs%20on%20Task%3F/near/223916427" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/Who.20can.20update.20inputs.20and.20outputs.20on.20Task.3F.html#223916427">(Jan 25 2021 at 15:55)</a>:</h4>
<p>No ability to say "don't touch".  If someone else touches it before you get your changes in, then you need to merge their changes into your version.  In some cases, your software may be able to do that behind the scenes (if it's smart).  In other cases, your software will tell you that the record has been changed and seek your guidance on integrating or make you start from scratch.</p>



<a name="223916557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/Who%20can%20update%20inputs%20and%20outputs%20on%20Task%3F/near/223916557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/Who.20can.20update.20inputs.20and.20outputs.20on.20Task.3F.html#223916557">(Jan 25 2021 at 15:56)</a>:</h4>
<p>In practice, that's only going to cause problems very rarely.  Allowing locking would cause much more problems.  (Because someone locks and then goes on vacation... :&gt;)</p>



<a name="223998718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/Who%20can%20update%20inputs%20and%20outputs%20on%20Task%3F/near/223998718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Virginia Lorenzi <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/Who.20can.20update.20inputs.20and.20outputs.20on.20Task.3F.html#223998718">(Jan 26 2021 at 05:21)</a>:</h4>
<p>Client posts Task to server - V1<br>
Server updates Task - V2<br>
Client queries and gets latest Task - V2<br>
Client and Server both modify their version of the Task - V3<br>
Client sends update to Server and Server detects Version collision?</p>



<a name="224049665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/Who%20can%20update%20inputs%20and%20outputs%20on%20Task%3F/near/224049665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/Who.20can.20update.20inputs.20and.20outputs.20on.20Task.3F.html#224049665">(Jan 26 2021 at 14:53)</a>:</h4>
<p>There's only one 'persisted' copy of the Task.  So when the client updates its copy in memory, it doesn't have a 'version' yet.  It gets a version assigned once the client transmits the PUT to the server and the server responds.  So if the server has already stored a V3 and the client submits an update saying that it was based on V2, the server will reject the update.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
