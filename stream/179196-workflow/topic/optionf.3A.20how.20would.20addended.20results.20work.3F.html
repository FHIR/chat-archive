---
layout: page
title: "FHIR Chat  · optionf: how would addended results work? · workflow"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/index.html">workflow</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html">optionf: how would addended results work?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="266210906"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266210906" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266210906">(Dec 27 2021 at 22:36)</a>:</h4>
<p>Looking at: <a href="https://www.hl7.org/fhir/workflow-management.html#optionf">https://www.hl7.org/fhir/workflow-management.html#optionf</a>. In this case the placer stores the Task and request resources, but the Fulfiller stores the result resources. The Fulfiller updates the task.status to complete in order to trigger the placer to retrieve the result. </p>
<p>How would you expect an addended or corrected result to work in this case?</p>



<a name="266210912"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266210912" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266210912">(Dec 27 2021 at 22:36)</a>:</h4>
<p>Requiring bidirectional polling/pubsub is a pretty high bar.</p>



<a name="266211123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266211123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266211123">(Dec 27 2021 at 22:40)</a>:</h4>
<p>Oh, maybe just updating Task.output?</p>



<a name="266223916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266223916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266223916">(Dec 28 2021 at 02:05)</a>:</h4>
<p>In general, updating the Task (usually businessStatus + output) is the way to make the Placer aware of changes in the state. In the case of an amended or corrected result, you may need a secondary Task, linked via partOf to the original one, since I believe a completed Task is not expected to be further updated.</p>



<a name="266268090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266268090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266268090">(Dec 28 2021 at 15:27)</a>:</h4>
<p>Thanks, Vassil. Specifically for <a href="https://www.hl7.org/fhir/workflow-management.html#optionf">optionf</a>, having the fulfiller create a Task requires additional capabilities, that are only needed for amended/corrected workflows. Ways around this would be:</p>



<a name="266268098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266268098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266268098">(Dec 28 2021 at 15:27)</a>:</h4>
<ol>
<li>modify step 9 - placer queries fulfiller for results, to instead have fulfiller POST results to placer; therefore amended/corrected results would also be a FHIR update.</li>
</ol>



<a name="266268099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266268099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266268099">(Dec 28 2021 at 15:27)</a>:</h4>
<ol start="2">
<li>Add an additional amended/modified/corrected value to <a href="https://build.fhir.org//valueset-task-status.html">TaskStatus</a></li>
</ol>



<a name="266268103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266268103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266268103">(Dec 28 2021 at 15:27)</a>:</h4>
<p>Why are the above bad ideas?</p>



<a name="266276069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266276069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266276069">(Dec 28 2021 at 17:19)</a>:</h4>
<ol>
<li>
<p>Option F is specifically for cases where both sides have a FHIR server. Changing step 9 moves you to option H, which is a generalized representation of multiple sub-cases of having a single FHIR server - one in the middle as depicted, one where the server is actually part of the Placer, and one where the server is part of the fulfiller.</p>
</li>
<li>
<p>Task.status is about the status of a Task in general, and it is not clear what a corrected/modified/amended status means in general. Use case specific statuses are supposed to go in Task.businessStatus, with the various stakeholders defining an appropriate binding. Having a code representing "output corrected/amended" or even "results corrected/amended" in businessStatus seems perfectly reasonable.</p>
</li>
</ol>
<p>I agree that an additional Task for indicating corrected/amended results might be a burden for either side, so a reasonable first question for me would be, can we allow updates to a Task with a status of completed.</p>



<a name="266278935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266278935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266278935">(Dec 28 2021 at 18:03)</a>:</h4>
<p>Looking at Task itself, it looks like the resource can be subject to any appropriate FHIR RESTful interaction even after the status is completed. The only restriction is that the status itself cannot be changed from <code>completed</code> to something else.</p>



<a name="266285383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266285383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266285383">(Dec 28 2021 at 19:32)</a>:</h4>
<ol>
<li>Ah, <a href="https://www.hl7.org/fhir/workflow-management.html#optionh">optionH</a>, yes, exactly. (I got confused/intimidated by this flowchart, but in reality, this is one of the simplest uses of Task -- in that there's only one FHIR server and it doesn't require bidirectional authnz). Thank you.</li>
</ol>



<a name="266285391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266285391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266285391">(Dec 28 2021 at 19:32)</a>:</h4>
<ol>
<li>Okay, yeah, thanks for explaining. We'd just use <code>businessStatus</code> to replicate/duplicate <code>status</code> functionality. I wonder if the Task resource's most important use-case is filling an order, and therefore having a first-class, or at least clearly specified corrected / amended task output is important.</li>
</ol>



<a name="266285394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266285394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266285394">(Dec 28 2021 at 19:32)</a>:</h4>
<p>p.s. Vassil, I'd just Teams you, but I'm pretty sure you're out of the office on vacation ... happy holidays!</p>



<a name="266651206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266651206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266651206">(Jan 03 2022 at 04:40)</a>:</h4>
<p>Technically, the Task doesn't need to change at all - just the output changes.  I.e. If you submitted a Task asking for a ServiceRequest to be fulfilled and the Task was marked 'complete' with an output of a DiagnosticReport, if the report later gets updated, that doesn't do anything to the Task at all.  It's up to the requester to monitor the DiagnosticReport for change (by subscribing or polling) if they care to receive changes or, alternatively, for the system that maintains the DiagnosticReport to 'push' the updated version to anyone who'd accessed the original version.  This process would be completely outside the 'fulfillment' process addressed by the original Task.  (A whole lot of people might have seen the DiagnosticReport, and any or all of them might care that it had changed.)</p>



<a name="266655398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266655398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266655398">(Jan 03 2022 at 06:37)</a>:</h4>
<p>I think the ability to change the businessStatus while the status is <code>completed</code> avoids some significant increase in complexity that would be present if the amendment/correction process is kept outside of the fulfillment process. I would expect that in the majority of the cases, there are business reasons to keep them part of the same process.</p>



<a name="266656365"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266656365" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266656365">(Jan 03 2022 at 07:00)</a>:</h4>
<p>But not all systems that will care about the change to the output resource will have an awareness of or even access to the Task.  The fact the output (or one of the outputs) has changed is completely independent of the fulfilment workflow.  We shouldn't mix Task into it.</p>



<a name="266657673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266657673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266657673">(Jan 03 2022 at 07:27)</a>:</h4>
<p>Solving the general problem of how does everyone interested in the diagnostic report learn that there is an amendment/correction is a separate issue. What needs to be resolved here is how the Placer, who only gets informed about the existence of the DiagnosticReport through the Task, gets informed about the amendment/correction. Adding an additional and separate process outside the fulfillment process for this particular case seems to go against established business processes.</p>
<p>For the general problem, this extrapolates to: depending on the way a data consumer has become aware of the existence of the original DiagnosticReport, the data provider would use a similar way to make them aware of the amendment/correction. I.e. if there was a subscription, a subscription notification will be sent; if there was an operation, a similar operation would be used.</p>



<a name="266658409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266658409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Virginia Lorenzi <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266658409">(Jan 03 2022 at 07:42)</a>:</h4>
<p>We have defined our Business Statuses for Patient Request for Corrections and happen to have one that says Record Amended corresponding to Task.status=completed.  I know this is not quite the same thing as what you are talking about but seems similar enough for me to pipe up.  And in Patient Request for Corrections, we do see business statuses changing at times when status stays the same (for example when status  = in-progress)</p>



<a name="266720421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266720421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266720421">(Jan 03 2022 at 18:29)</a>:</h4>
<p>Keep in mind too that the Task might just point to the DiagnosticReport - and what gets changed might be one of the Observations the DiagnosticReport points to.  Having the business status on the Task changed when some arbitrary thing downstream of the Task changes seems unreasonable to me.  Once you become aware of a resource and decide it's relevant to you, it's your job to monitor it for change.  That's not part of the fulfillment process any longer.</p>



<a name="266725036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266725036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266725036">(Jan 03 2022 at 19:11)</a>:</h4>
<p>I fully expect that if any of the <code>DiagnosticReport.result</code> Observations are amended, the <code>DiagnosticReport.status</code> would be appropriately modified. Any IG or profile that doesn't explicitly require this would be deficient. So we are explicitly talking about the <code>DiagnosticReport.status</code> getting the value <code>amended</code>, <code>corrected</code>, or <code>appended</code> within the context of Option F for managing a fulfillment workflow. Under these circumstances, I don't see anything unreasonable in changing the Task business status accordingly.</p>



<a name="266725578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266725578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266725578">(Jan 03 2022 at 19:16)</a>:</h4>
<p>Why would the DiagnosticReport status change if it wasn't changed itself?</p>



<a name="266728020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179196-workflow/topic/optionf%3A%20how%20would%20addended%20results%20work%3F/near/266728020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179196-workflow/topic/optionf.3A.20how.20would.20addended.20results.20work.3F.html#266728020">(Jan 03 2022 at 19:36)</a>:</h4>
<p>I think that is a business rule. It is reflected in the way amended final results are conveyed using HL7 v2 messages - OBR -25 and OBX-11 both represent the corrected status.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
