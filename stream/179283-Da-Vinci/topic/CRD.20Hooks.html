---
layout: page
title: "FHIR Chat  · CRD Hooks · Da Vinci"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179283-Da-Vinci/index.html">Da Vinci</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179283-Da-Vinci/topic/CRD.20Hooks.html">CRD Hooks</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153979212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179283-Da%20Vinci/topic/CRD%20Hooks/near/153979212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179283-Da-Vinci/topic/CRD.20Hooks.html#153979212">(Jul 29 2018 at 22:56)</a>:</h4>
<p>Obviously we're going to need a hook to cover patient-independent hook, as the existing CDS Hooks have patientId as a mandatory element.  However, I'm wondering whether we should leverage the existing <a href="https://cds-hooks.org/hooks/medication-prescribe/" target="_blank" title="https://cds-hooks.org/hooks/medication-prescribe/">medication-prescribe</a> and <a href="https://cds-hooks.org/hooks/order-review/" target="_blank" title="https://cds-hooks.org/hooks/order-review/">order-review</a> hooks for patient-identified action.  Those are the natural business locations to invoke checks from and they already have some of the key information built in.  All we'd need to add is an expectation for support for retrieving the patient's Coverage resources, presumably as part of pre-fetch.  <span class="user-mention" data-user-id="191914">@Danielle Friend</span> <span class="user-mention" data-user-id="191929">@Jeff Danford</span> <span class="user-mention" data-user-id="191355">@Kevin Shekleton</span> - thoughts?</p>



<a name="153979438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179283-Da%20Vinci/topic/CRD%20Hooks/near/153979438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179283-Da-Vinci/topic/CRD.20Hooks.html#153979438">(Jul 30 2018 at 15:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191864">@Isaac Vetter</span></p>



<a name="153979444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179283-Da%20Vinci/topic/CRD%20Hooks/near/153979444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179283-Da-Vinci/topic/CRD.20Hooks.html#153979444">(Jul 30 2018 at 16:02)</a>:</h4>
<p>Hey Lloyd, from my limited understand of the CRD workflow, it seems like we should definitely be using the existing hooks and/or defining new hooks that describe workflow events that aren't specific to just this integration. Careful identification of the "natural business locations"/ workflow events is the key.</p>
<p>And exactly as you say, Coverage should simply be a pre-fetch element. Overall, we don't want or need to create integration-specific hooks. </p>
<p>Mind saying more about the patient-independent use-case? What's the workflow event? If a specific user action is required (user click's button/link), it's probably more appropriate as a simple SMART app.</p>



<a name="153979449"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179283-Da%20Vinci/topic/CRD%20Hooks/near/153979449" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179283-Da-Vinci/topic/CRD.20Hooks.html#153979449">(Jul 30 2018 at 16:06)</a>:</h4>
<p>I'm not sure that Coverage is a pre-fetch.  Or at least it's not the same sort of thing.  When you invoke one of the standard hooks on a payor application, you're only going to do so if the patient in question has a relationship with that payor and there's reason to believe the payor might be involved in paying for the service that's happening/being ordered.  The insurance information shared would be the Coverage that's specific to that particular payor/patient/proposed service combination.  Typically there would just be 1, though in some cases there would be more than one.  The key thing is that it would be hard to define a query that would bring back only the relevant Coverage.  It's really intended to be determined by the EHR.  So what I was envisioning was defining an additional (optional) parameter for the existing hooks similar to 'patient' and 'encounter' that provide context for the hook invocation - and which could then be referenced in pre-fetch queries.</p>



<a name="153979453"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179283-Da%20Vinci/topic/CRD%20Hooks/near/153979453" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179283-Da-Vinci/topic/CRD.20Hooks.html#153979453">(Jul 30 2018 at 16:08)</a>:</h4>
<p>The patient-independent hook would fire at the same time as the current medication/order/encounter hooks, but it has a limitation of not allowing the exchange of patient-identifiable information.  So rather than saying "I'm drafting this order for patient X, what payor-specific information should I know?" you'd instead say "I'm ordering this type of service (code) to be delivered by this location (Location) and expect to bill under this type of plan (code) - what payor specific information should I know?"</p>



<a name="153979454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179283-Da%20Vinci/topic/CRD%20Hooks/near/153979454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179283-Da-Vinci/topic/CRD.20Hooks.html#153979454">(Jul 30 2018 at 16:09)</a>:</h4>
<p>In the patient-independent one we can't really use the MedicationRequest/ServiceRequest/[other]Request resources because those are all tied to the Patient.  Instead we'd need to convey the nature of the service in a single code.</p>



<a name="153979455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179283-Da%20Vinci/topic/CRD%20Hooks/near/153979455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179283-Da-Vinci/topic/CRD.20Hooks.html#153979455">(Jul 30 2018 at 16:10)</a>:</h4>
<p>Lloyd, your patient-independent idea feels really similar to the <a href="#narrow/stream/17-cds-hooks/subject/Anonymized.20CDS" title="#narrow/stream/17-cds-hooks/subject/Anonymized.20CDS">Anonymized CDS idea</a></p>



<a name="153979458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179283-Da%20Vinci/topic/CRD%20Hooks/near/153979458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179283-Da-Vinci/topic/CRD.20Hooks.html#153979458">(Jul 30 2018 at 16:14)</a>:</h4>
<p>Perhaps.  It's not clear that there's actually an intention to support querying for additional data in the non-patient-identified situation.  The real reason for using the hook mechanism in that case isn't to allow the service to query data, it's just to ensure that the user gets relevant data (cards) at the appropriate times in the workflow.</p>



<a name="153979461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179283-Da%20Vinci/topic/CRD%20Hooks/near/153979461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179283-Da-Vinci/topic/CRD.20Hooks.html#153979461">(Jul 30 2018 at 16:16)</a>:</h4>
<p>Back to your question of whether there are additional workflow points required, the only other possible one would be an "I'm thinking about ordering X" - sort of a "what if" scenario.  I'm not sure if/how that's supported in the current EHRs.  And my guess is that what you'd actually do in that case would be to fire off the "I'm ordering" hooks at that workflow location too - because you'd want exactly the same information back and whether it was a draft order or a proposal wouldn't/shouldn't matter to the decision support being invoked.</p>



<a name="153979500"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179283-Da%20Vinci/topic/CRD%20Hooks/near/153979500" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Dieterle <a href="https://fhir.github.io/chat-archive/stream/179283-Da-Vinci/topic/CRD.20Hooks.html#153979500">(Jul 30 2018 at 18:17)</a>:</h4>
<p>I see this is confusing -- many of the tabs are there to start the conversation regarding profiles -- the only ones that are "complete" are the tabs for eligibilityrequest, eligibilityresponse and coverage.  Sorry for the delay in responding -- will review the work book this evening and post a new copy clarified information</p>



<a name="153979501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179283-Da%20Vinci/topic/CRD%20Hooks/near/153979501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179283-Da-Vinci/topic/CRD.20Hooks.html#153979501">(Jul 30 2018 at 18:19)</a>:</h4>
<p>Ok.  The use of EligibilityRequest/Response is actually in question as we move to CDS Hooks.  We may not need them.  (And if we do use them, we'll probably use more core elements and less extensions.)  I'm writing up a complete list of issues for us to discuss which should be out this evening.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
