---
layout: page
title: "FHIR Chat  · Bulk Data · connectathon mgmt"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/index.html">connectathon mgmt</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html">Bulk Data</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153926941"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153926941" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153926941">(Dec 23 2017 at 21:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> <span class="user-mention" data-user-id="191414">@Dan Gottlieb</span> I think that my server is good to go for this track. Do you know of any issues?</p>



<a name="153926942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153926942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153926942">(Dec 23 2017 at 21:48)</a>:</h4>
<p>We discussed last week -- we still plan to review and share any issues, but there's no known issues currently. SMART will bring a simple server, too, as well as a CLI and Web UI client.</p>



<a name="153928347"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928347" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928347">(Jan 10 2018 at 22:35)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Getting around to testing again (cc <span class="user-mention" data-user-id="191414">@Dan Gottlieb</span>) and I'm seeing the same (old, surprising) behavior from your server.</p>



<a name="153928348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928348">(Jan 10 2018 at 22:36)</a>:</h4>
<div class="codehilite"><pre><span></span>curl -vvv -H &quot;Accept: application/fhir+ndjson&quot; -H &quot;Prefer: respond-async&quot; &quot;http://test.fhir.org/r3/Patient/$everything&quot;
</pre></div>


<p>still kicks off a job that only produces Patient outputs (not other resource types) and only 50 of them.</p>



<a name="153928349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928349">(Jan 10 2018 at 22:37)</a>:</h4>
<p>Whereas I'm expecting to see resource-type-specific .ndjson output files (e.g. Patient, Observation, Immunization, etc) with many resources in each file.</p>



<a name="153928369"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928369" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928369">(Jan 11 2018 at 04:44)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> I don't understand. I get 100s of results of all different types returned by that query</p>



<a name="153928370"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928370" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928370">(Jan 11 2018 at 04:44)</a>:</h4>
<p>just like what you're expecting</p>



<a name="153928447"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928447" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928447">(Jan 11 2018 at 17:16)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> -  it looks to be working for me when testing from postman (for example, I get 161 Observation resources as one of the files). I haven't tried using authentication yet, since I'm in a meeting and am supposed to be paying attention :)</p>



<a name="153928452"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928452" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928452">(Jan 11 2018 at 18:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> We'll need to define what's returned if there are no resources that match the query. Currently your server is returning a link header with empty bundle and a zip file of some sort (I can't open it). On the SMART bulk data server, we're returning a  204 "No Content" response.</p>
<p><code>&lt;http://test.fhir.org/r3/task/f69d2261-3d71-4fdb-971e-a847860c2488/Bundle.ndjson&gt;;rel=item,
 &lt;http://test.fhir.org/r3/task/f69d2261-3d71-4fdb-971e-a847860c2488.zip&gt;;rel=collection</code></p>



<a name="153928483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928483">(Jan 11 2018 at 20:21)</a>:</h4>
<p>we do need to agree about that. technically there's always a bundle, which is empty. I always return the bundle, btw, when there's data, since the bundle threads all the data together - though it's not clear how often that's relevant - it depends on what you're going to do with the data</p>



<a name="153928487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928487">(Jan 11 2018 at 20:22)</a>:</h4>
<p>I suppose you could argue that if there's no data, there should be no data, though there's one important piece of information in the bundle that .. might not ... be anywhere else - the server data to use in the next query if checking for changes</p>



<a name="153928497"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928497" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928497">(Jan 11 2018 at 20:40)</a>:</h4>
<p>But shouldn't the client that initiated the request already know the start date it asked for (or the request timestamp if no start date is included)?</p>



<a name="153928517"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928517" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928517">(Jan 11 2018 at 21:32)</a>:</h4>
<p>well, yes, and no. if you're asking for changes since the last time... you should use the server's nominated transaction time to ask for that</p>



<a name="153928519"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928519" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928519">(Jan 11 2018 at 21:45)</a>:</h4>
<p>Got it - could we return that in a header instead of making the client download and parse a bundle?</p>



<a name="153928525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928525">(Jan 11 2018 at 21:58)</a>:</h4>
<p>well, the header contains a date (usually) but it wouldn't be the date of the transaction. I think. So it would have to be a custom header</p>



<a name="153928526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928526">(Jan 11 2018 at 22:01)</a>:</h4>
<p>Yup - I created an issue to track this question: <a href="https://github.com/smart-on-fhir/fhir-bulk-data-docs/issues/4" target="_blank" title="https://github.com/smart-on-fhir/fhir-bulk-data-docs/issues/4">https://github.com/smart-on-fhir/fhir-bulk-data-docs/issues/4</a></p>



<a name="153928539"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928539" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928539">(Jan 11 2018 at 22:52)</a>:</h4>
<p>so do we want to define a custom header?</p>



<a name="153928566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928566">(Jan 12 2018 at 00:58)</a>:</h4>
<p>I'm curious why I was seeing different behavior. I was using public access, with the same curl queries I showed preciously.</p>



<a name="153928571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928571">(Jan 12 2018 at 01:03)</a>:</h4>
<p>I think you had a caching issue. is it sorted now?</p>



<a name="153928642"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928642" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928642">(Jan 12 2018 at 13:40)</a>:</h4>
<p>If we end up moving the link list to the body (<a href="https://github.com/smart-on-fhir/fhir-bulk-data-docs/issues/1" target="_blank" title="https://github.com/smart-on-fhir/fhir-bulk-data-docs/issues/1">https://github.com/smart-on-fhir/fhir-bulk-data-docs/issues/1</a> ) , we could put the timestamp there, but otherwise I think a header on the last status response would make sense. Do you think using last-modified would be confusing? Otherwise, I suppose we could do something custom like x-transaction-date.</p>



<a name="153928671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928671">(Jan 12 2018 at 21:43)</a>:</h4>
<p>what would last modified refer to in this case?</p>



<a name="153928678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928678">(Jan 12 2018 at 22:11)</a>:</h4>
<p>The FHIR data in the ndjson files linked in the response header (which is why it might be confusing)</p>



<a name="153928679"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928679" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928679">(Jan 12 2018 at 22:15)</a>:</h4>
<p>wouldn't last-modified have to change as you varied the response during the life-time of the task?</p>



<a name="153928680"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928680" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928680">(Jan 12 2018 at 22:22)</a>:</h4>
<p>I think we'd only want to return it with the link header in the final status response</p>



<a name="153928683"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153928683" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153928683">(Jan 12 2018 at 22:29)</a>:</h4>
<p>then it's not the standard last-modified header. I think</p>



<a name="153929073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153929073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153929073">(Jan 16 2018 at 13:38)</a>:</h4>
<p>My issue definitely wasn't with caching since I was just running curl.  Or if there was caching going on, it could have been on the fhir server side. Is that what you're suggesting Grahame? I will take a look again today <span class="emoji emoji-1f642" title="simple smile">:simple_smile:</span></p>



<a name="153929116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153929116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153929116">(Jan 16 2018 at 19:54)</a>:</h4>
<p>Here's what I'm seeing -- issuing a "get everything" bulk data request getting just a few resources and only 49 lines per output file. Am I doing something silly <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>
<div class="codehilite"><pre><span></span>jmandel@morel:~$ curl -vvv -H &quot;Accept: application/fhir+ndjson&quot; -H &quot;Prefer: respond-async&quot; &quot;http://test.fhir.org/r3/Patient/$everything&quot; 2&gt;&amp;1
*   Trying 104.154.149.246...
* TCP_NODELAY set
* Connected to test.fhir.org (104.154.149.246) port 80 (#0)
&gt; GET /r3/Patient/ HTTP/1.1
&gt; Host: test.fhir.org
&gt; User-Agent: curl/7.52.1
&gt; Accept: application/fhir+ndjson
&gt; Prefer: respond-async
&gt;
&lt; HTTP/1.1 202 Accepted
&lt; Connection: close
&lt; Content-Type: text/plain; charset=ISO-8859-1
&lt; Content-Length: 0
&lt; Cache-control: public, max-age=600
&lt; Date: Tue, 16 Jan 2018 19:51:12 GMT
&lt; X-Request-Id: 32-2274
&lt; Access-Control-Allow-Origin: *
&lt; Access-Control-Expose-Headers: Content-Location, Location
&lt; Access-Control-Allow-Methods: GET, POST, PUT, PATCH, DELETE
&lt; Content-Location: http://test.fhir.org/r3/task/3484a0d1-b268-4909-b241-1b2cb8cefe10
&lt; Server: Health Intersections FHIR Server
&lt;
* Curl_http_done: called premature == 0
* Closing connection 0
jmandel@morel:~$ curl -H &quot;Accept: application/fhir+ndjson&quot; -v  http://test.fhir.org/r3/task/3484a0d1-b268-4909-b241-1b2cb8cefe10
*   Trying 104.154.149.246...
* TCP_NODELAY set
* Connected to test.fhir.org (104.154.149.246) port 80 (#0)
&gt; GET /r3/task/3484a0d1-b268-4909-b241-1b2cb8cefe10 HTTP/1.1
&gt; Host: test.fhir.org
&gt; User-Agent: curl/7.52.1
&gt; Accept: application/fhir+ndjson
&gt;
&lt; HTTP/1.1 200 OK
&lt; Connection: close
&lt; Content-Type: text/plain; charset=ISO-8859-1
&lt; Content-Length: 0
&lt; Cache-control: public, max-age=600
&lt; Date: Tue, 16 Jan 2018 19:51:44 GMT
&lt; X-Request-Id: 32-2277
&lt; Access-Control-Allow-Origin: *
&lt; Access-Control-Expose-Headers: Content-Location, Location
&lt; Access-Control-Allow-Methods: GET, POST, PUT, PATCH, DELETE
&lt; Link: &lt;http://test.fhir.org/r3/task/3484a0d1-b268-4909-b241-1b2cb8cefe10/Bundle.ndjson&gt;;rel=item, &lt;http://test.fhir.org/r3/task/3484a0d1-b268-4909-b241-1b2cb8cefe10/Patient.ndjson&gt;;rel=item, &lt;http://test.fhir.org/r3/task/3484a0d1-b268-4909-b241-1b2cb8cefe10.zip&gt;;rel=collection
&lt; Server: Health Intersections FHIR Server
&lt;
* Curl_http_done: called premature == 0
* Closing connection 0
jmandel@morel:~$ curl -H &quot;Accept: application/fhir+ndjson&quot; -v  http://test.fhir.org/r3/task/3484a0d1-b268-4909-b241-1b2cb8cefe10/Patient.ndjson | wc -l
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying 104.154.149.246...
* TCP_NODELAY set
* Connected to test.fhir.org (104.154.149.246) port 80 (#0)
&gt; GET /r3/task/3484a0d1-b268-4909-b241-1b2cb8cefe10/Patient.ndjson HTTP/1.1
&gt; Host: test.fhir.org
&gt; User-Agent: curl/7.52.1
&gt; Accept: application/fhir+ndjson
&gt;
&lt; HTTP/1.1 200 OK
&lt; Connection: close
&lt; Content-Type: application/x-ndjson
&lt; Content-Length: 31032
&lt; Cache-control: public, max-age=600
&lt; Date: Tue, 16 Jan 2018 19:52:11 GMT
&lt; X-Request-Id: 32-2278
&lt; Access-Control-Allow-Origin: *
&lt; Access-Control-Expose-Headers: Content-Location, Location
&lt; Access-Control-Allow-Methods: GET, POST, PUT, PATCH, DELETE
&lt; Server: Health Intersections FHIR Server
&lt;
{ [1374 bytes data]
* Curl_http_done: called premature == 0
100 31032  100 31032    0     0   144k      0 --:--:-- --:--:-- --:--:--  144k
* Closing connection 0
49
jmandel@morel:~$
</pre></div>



<a name="153929159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153929159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153929159">(Jan 16 2018 at 22:41)</a>:</h4>
<p>The specific surprises are:</p>
<p>1.  Expected many more resource types, and didn't expect a zip file:</p>
<div class="codehilite"><pre><span></span>Link: &lt;http://test.fhir.org/r3/task/3484a0d1-b268-4909-b241-1b2cb8cefe10/Bundle.ndjson&gt;;rel=item,
&lt;http://test.fhir.org/r3/task/3484a0d1-b268-4909-b241-1b2cb8cefe10/Patient.ndjson&gt;;rel=item,
&lt;http://test.fhir.org/r3/task/3484a0d1-b268-4909-b241-1b2cb8cefe10.zip&gt;;rel=collection
</pre></div>


<p>2. Expected many more rows in <code>GET /r3/task/3484a0d1-b268-4909-b241-1b2cb8cefe10/Patient.ndjson</code> but only found 49.</p>



<a name="153929212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153929212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153929212">(Jan 17 2018 at 11:36)</a>:</h4>
<p>I don't understand this at all. I won't use curl because it has a stupid dependency list on windows. but when I do the same request, I get a a redirect, to <a href="http://test.fhir.org/r3/task/cf913aff-ad0d-4bde-b0c2-1cd2194316b0" target="_blank" title="http://test.fhir.org/r3/task/cf913aff-ad0d-4bde-b0c2-1cd2194316b0">http://test.fhir.org/r3/task/cf913aff-ad0d-4bde-b0c2-1cd2194316b0</a>. If I wait a couple of minutes, the file <a href="http://test.fhir.org/r3/task/cf913aff-ad0d-4bde-b0c2-1cd2194316b0/Patient.ndjson" target="_blank" title="http://test.fhir.org/r3/task/cf913aff-ad0d-4bde-b0c2-1cd2194316b0/Patient.ndjson">http://test.fhir.org/r3/task/cf913aff-ad0d-4bde-b0c2-1cd2194316b0/Patient.ndjson</a> is available and has 341247 bytes. I don't know why you're getting the same response as last time you used curl... that doesn't make any sense, because I fixed this weeks ago</p>



<a name="153929323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153929323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153929323">(Jan 17 2018 at 19:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191414">@Dan Gottlieb</span> Are you able to reproduce my findings above?</p>



<a name="153929336"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153929336" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153929336">(Jan 17 2018 at 19:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> I just tested it and get the same reponse when using curl, but get the full set of data when I use postman. I'm not enough of a curl user to debug, but the issue seems to be client specific...</p>



<a name="153929342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153929342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153929342">(Jan 17 2018 at 20:17)</a>:</h4>
<p>Fascinating. I'll compare headers (e.g. user-agent).</p>



<a name="153929358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153929358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153929358">(Jan 17 2018 at 21:46)</a>:</h4>
<p>Ok, the issue was shell variable interoplation: <code>$everything</code> gets resolved by the shell (as an empty string) so the initial request went to <code>/Patient</code> instead of <code>/Patient/$everything</code>.  Silly me indeed :-)</p>



<a name="153929360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153929360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153929360">(Jan 17 2018 at 22:27)</a>:</h4>
<p>Ha, there's an obvious thing we both missed :)</p>



<a name="153929403"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153929403" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153929403">(Jan 18 2018 at 10:16)</a>:</h4>
<p>woah. that's tricky.</p>



<a name="153929404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153929404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153929404">(Jan 18 2018 at 10:16)</a>:</h4>
<p>though you should get 50 lines, not 49 lines</p>



<a name="153931113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153931113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153931113">(Jan 27 2018 at 15:47)</a>:</h4>
<p>The internet should be an interesting challenge for this track</p>



<a name="153931115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153931115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153931115">(Jan 27 2018 at 15:48)</a>:</h4>
<p>One of the things raised internally was if we should require chunking to be supportted - on our pop health side, we found that it wasn't uncommon for a client to drop connection or have an issue midway for large file downloads. Chunking would let you start from last chunk rather than all over</p>



<a name="153931151"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153931151" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dennis Patterson <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153931151">(Jan 27 2018 at 16:03)</a>:</h4>
<p>I added a server column to the tracking spreadsheet if any others want to add where they have something clients can start working with</p>



<a name="153931210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153931210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153931210">(Jan 27 2018 at 16:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191356">@Jenni Syed</span> there's chunking and also <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Range_requests" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/HTTP/Range_requests">https://developer.mozilla.org/en-US/docs/Web/HTTP/Range_requests</a> -- I'm not familiar with how a "restart from last chunk" works; would be good if we can catch up so you can educate me on this.</p>



<a name="153931212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153931212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153931212">(Jan 27 2018 at 16:45)</a>:</h4>
<p>(Also note that we've got the <a class="stream" data-stream-id="95" href="/#narrow/stream/bulk%20data">#bulk data</a>  channel for spec discussion.)</p>



<a name="153958263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153958263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dennis Patterson <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153958263">(May 12 2018 at 08:04)</a>:</h4>
<p>I created the bulk data track on - <a href="http://conman.fhir.org/connectathon.html?event=cologne2018" target="_blank" title="http://conman.fhir.org/connectathon.html?event=cologne2018">http://conman.fhir.org/connectathon.html?event=cologne2018</a>  .  Check the server tab for Cerner's FHIR server base url</p>



<a name="153958264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153958264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Danielle Friend <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153958264">(May 12 2018 at 08:08)</a>:</h4>
<p>The Epic FHIR server is also up - let me know if you'd like to test and I'll give you a group ID to test $export with.</p>



<a name="153958445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153958445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julie Maas <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153958445">(May 12 2018 at 13:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191914">@Danielle Friend</span>  I would like to try to test thanks!</p>



<a name="153958481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179207-connectathon%20mgmt/topic/Bulk%20Data/near/153958481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Danielle Friend <a href="https://fhir.github.io/chat-archive/stream/179207-connectathon-mgmt/topic/Bulk.20Data.html#153958481">(May 12 2018 at 14:10)</a>:</h4>
<p><span class="user-mention" data-user-id="194368">@Julie Maas</span> Awesome - you can test with this URL: <a href="https://connectathon.epic.com/Interconnect-Fhir-Bulk/api/FHIR/STU3/Group/ebUKRzWjCOkHtNr8R-zHgzc4TdaZx9-TOvXKIeP0bLnM3/$export" target="_blank" title="https://connectathon.epic.com/Interconnect-Fhir-Bulk/api/FHIR/STU3/Group/ebUKRzWjCOkHtNr8R-zHgzc4TdaZx9-TOvXKIeP0bLnM3/$export">https://connectathon.epic.com/Interconnect-Fhir-Bulk/api/FHIR/STU3/Group/ebUKRzWjCOkHtNr8R-zHgzc4TdaZx9-TOvXKIeP0bLnM3/$export</a></p>
<p>You'll also need to specify the following header to your requests: <br>
Epic-Client-ID: 37c67e7b-b694-4fe8-8d46-7c1d27b1c206</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
