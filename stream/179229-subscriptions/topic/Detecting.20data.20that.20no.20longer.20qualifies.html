---
layout: page
title: "FHIR Chat  · Detecting data that no longer qualifies · subscriptions"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/index.html">subscriptions</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html">Detecting data that no longer qualifies</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154003108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Detecting%20data%20that%20no%20longer%20qualifies/near/154003108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html#154003108">(Sep 30 2018 at 16:08)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span>  <span class="user-mention" data-user-id="191864">@Isaac Vetter</span>  <span class="user-mention" data-user-id="191757">@Christiaan Knaap</span>  Some discussion here at the table with <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  around changing the notification rules for servers. Challenge: A subscription right now will notify on v1 of a resource, but then an update (or delete) to that resource may make it no longer qualify. When that happens, the current spec calls out that there won't be a notification.</p>



<a name="154003109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Detecting%20data%20that%20no%20longer%20qualifies/near/154003109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html#154003109">(Sep 30 2018 at 16:09)</a>:</h4>
<p>Proposal is to make it so that a server will notify on change when the current version qualifies for the subscription <em>or the previous version did</em> so that scenarios like this can be caught</p>



<a name="154003116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Detecting%20data%20that%20no%20longer%20qualifies/near/154003116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html#154003116">(Sep 30 2018 at 16:10)</a>:</h4>
<p>IE: I create a subscription for all temperatures that are over 105 F. A nurse charts a temp that qualifies. Subscriber is notified. Nurse later goes in and updates that b/c she had a bad reading or fat-fingered and changes it to 104 F.</p>



<a name="154003118"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Detecting%20data%20that%20no%20longer%20qualifies/near/154003118" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html#154003118">(Sep 30 2018 at 16:11)</a>:</h4>
<p>On the previous subscription, that 104 wouldn't trigger a notify, so the subscriber won't know that something happened that they likely care about. With the new requirement, they would be notified since the previous version of the resource qualified.</p>



<a name="154003295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Detecting%20data%20that%20no%20longer%20qualifies/near/154003295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html#154003295">(Sep 30 2018 at 18:32)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  One gotcha we were discussing with <span class="user-mention" data-user-id="191757">@Christiaan Knaap</span>  is that the _list and other "referential" queries could complicate this logic. IE: you now have to know that it no longer qualifies because the content of a referenced List or value set changed.</p>



<a name="154003296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Detecting%20data%20that%20no%20longer%20qualifies/near/154003296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html#154003296">(Sep 30 2018 at 18:33)</a>:</h4>
<p>Also, will we detect that something no longer qualifies because you're no longer authorized to view??</p>



<a name="154003339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Detecting%20data%20that%20no%20longer%20qualifies/near/154003339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html#154003339">(Sep 30 2018 at 18:56)</a>:</h4>
<p>I have no idea about the second permissions question</p>



<a name="154003340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Detecting%20data%20that%20no%20longer%20qualifies/near/154003340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html#154003340">(Sep 30 2018 at 18:56)</a>:</h4>
<p>wooah. Someone's asking the hard questions</p>



<a name="154003341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Detecting%20data%20that%20no%20longer%20qualifies/near/154003341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html#154003341">(Sep 30 2018 at 18:56)</a>:</h4>
<p>the first.... you remove things from your criteria... the kind of things you get notified about change. The subscriber gets to deal with that</p>



<a name="154003993"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Detecting%20data%20that%20no%20longer%20qualifies/near/154003993" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html#154003993">(Oct 01 2018 at 19:42)</a>:</h4>
<p>Imagine client A starts a subscription on Observation with criteria based on a List (either by the _list parameter or a regular reverse reference). And now client B changes the list. How is client A supposed to deal with that on it's own. The server will have to detect that the client A needs to be notified of Observations that are now in the list or are no longer in the list. Possible but potentially costly for generic servers. Not sure whether it is at all possible for 'facades' like those on the EHR systems.</p>



<a name="154003999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Detecting%20data%20that%20no%20longer%20qualifies/near/154003999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html#154003999">(Oct 01 2018 at 19:52)</a>:</h4>
<p>If A isn't controlling the list, then they might want to have a subscription on that too</p>



<a name="154004001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Detecting%20data%20that%20no%20longer%20qualifies/near/154004001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html#154004001">(Oct 01 2018 at 19:53)</a>:</h4>
<p>&lt;deleted&gt;</p>



<a name="154993828"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Detecting%20data%20that%20no%20longer%20qualifies/near/154993828" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html#154993828">(Jan 12 2019 at 18:13)</a>:</h4>
<p>It looks like we forgot to get a tracker on this. <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I don't see anything in the r4 release about this - it says the same caveat about deletes. I can log a tracker assuming there isn't one.</p>



<a name="154995708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Detecting%20data%20that%20no%20longer%20qualifies/near/154995708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html#154995708">(Jan 12 2019 at 19:05)</a>:</h4>
<p>right.  nothing changed in R4</p>



<a name="154995749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Detecting%20data%20that%20no%20longer%20qualifies/near/154995749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html#154995749">(Jan 12 2019 at 19:06)</a>:</h4>
<p>we talked about delta based subscriptions - back in Madrid, actually, but then the talk stopped</p>



<a name="155043775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Detecting%20data%20that%20no%20longer%20qualifies/near/155043775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Detecting.20data.20that.20no.20longer.20qualifies.html#155043775">(Jan 13 2019 at 19:48)</a>:</h4>
<p>After the discussion offline with Grahame, logged <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19976" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19976">GF#19976</a> to clarify the complexities, including adding an example about the security use case</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
