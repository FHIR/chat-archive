---
layout: page
title: "FHIR Chat  · Backward compatibility · subscriptions"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/index.html">subscriptions</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html">Backward compatibility</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="183950717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183950717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183950717">(Dec 20 2019 at 16:30)</a>:</h4>
<p>Hello everybody. Can we make a new topic-based subscription compatible with the old one? :) The simplest way to do it - just give it another name <code>TopicSubscription</code> or something like this (and keep old one, maybe with deprecation warn). We should grow non-breaking culture in the FHIR community!</p>



<a name="183950932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183950932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183950932">(Dec 20 2019 at 16:33)</a>:</h4>
<p>It would still be breaking - as the old Subscription wouldn't be part of R5.  We <em>expect</em> things to break occasionally pre-STU.  We don't want to be bound to compatibility with design decisions that turn out to have been wrong once we try to implement them.</p>



<a name="183953011"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183953011" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183953011">(Dec 20 2019 at 16:59)</a>:</h4>
<p>At least for implementers, it would be easy to migrate users from old subscriptions to new one - if they can coexists</p>



<a name="183953169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183953169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183953169">(Dec 20 2019 at 17:01)</a>:</h4>
<p>I would suggest publishing obsolete resources at least one or two next versions with deprecation notes.  That's how backward/forward compat works :)</p>



<a name="183953317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183953317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183953317">(Dec 20 2019 at 17:03)</a>:</h4>
<p>Here is an example of deprecation from guys who know how to be backward compatible  - <a href="http://openjdk.java.net/jeps/277" target="_blank" title="http://openjdk.java.net/jeps/277">http://openjdk.java.net/jeps/277</a></p>



<a name="183953725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183953725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183953725">(Dec 20 2019 at 17:08)</a>:</h4>
<p>Probably we can introduce "deprication" elements into SD and ED like deprecated, shutdownDate etc. <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  what do you think?</p>



<a name="183953762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183953762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183953762">(Dec 20 2019 at 17:08)</a>:</h4>
<p>And simple rule - never delete, rename etc resources and elements - just depreciate them!</p>



<a name="183954160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183954160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183954160">(Dec 20 2019 at 17:13)</a>:</h4>
<p>Here is how Kubernetes handles this <a href="https://kubernetes.io/docs/reference/using-api/deprecation-policy/" target="_blank" title="https://kubernetes.io/docs/reference/using-api/deprecation-policy/">https://kubernetes.io/docs/reference/using-api/deprecation-policy/</a></p>



<a name="183954376"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183954376" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183954376">(Dec 20 2019 at 17:15)</a>:</h4>
<p>The point is that there's no expectation of forward/backward compatibility for STU content.  That's why we <em>have</em> STU instead of jumping right to normative.  We don't want implementers of R5 using the old subscription (or the old anything).  We do follow the approach of deprecation once artifacts hit normative.  And we do seek implementer feedback on resources that are FMM4+.  But for low maturity resources, if we need to turn the resource inside out, we will.  Implementers of low maturity resources need to recognize the risk of change and have plans in place for it going forward.</p>



<a name="183954887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183954887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183954887">(Dec 20 2019 at 17:20)</a>:</h4>
<p>Can we ask  "real FHIR users" - do they really understand and agree with this strategy? Most of them claiming "version hell"  because of incompatibility :(  Or they should wait couple of years for normative features - this will slow down adoption?</p>



<a name="183954973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183954973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183954973">(Dec 20 2019 at 17:21)</a>:</h4>
<p>What we see from "other industries experience" - you can be agile and flexible if you handle changes as first class.</p>



<a name="183955007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183955007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183955007">(Dec 20 2019 at 17:21)</a>:</h4>
<p>I'm generally quite in favor for non-breaking changes.  That said, I think having two mechanisms in the same release that do the same thing but act differently feels like it would be very confusing for adopters.</p>
<p>In my mind, it's weighing the pain in forcing early adopters to move over at R5 (deprecation gives more flexibility for timing, but they still have to do it), vs pain for everyone else has in having both (e.g., if a client is based on R5, they will have some servers one way and some the other).</p>



<a name="183955103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183955103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183955103">(Dec 20 2019 at 17:23)</a>:</h4>
<blockquote>
<p>I'm generally quite in favor for non-breaking changes.  That said, I think having two mechanisms in the same release that do the same thing but act differently feels like it would be very confusing for adopters.</p>
<p>In my mind, it's weighing the pain in forcing early adopters to move over at R5 (deprecation gives more flexibility for timing, but they still have to do it), vs pain for everyone else has in having both (e.g., if a client is based on R5, they will have some servers one way and some the other).</p>
</blockquote>
<p>That's how compatibility works!  If jvm would not do this or your hardware and OS  (32 =&gt; 64)- you would throw it away :)</p>



<a name="183955229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183955229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183955229">(Dec 20 2019 at 17:25)</a>:</h4>
<p>The rule of thumb - it's better to have a redundancy in features and some garbage than force users upgrade immediately in one transaction</p>



<a name="183955545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183955545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183955545">(Dec 20 2019 at 17:29)</a>:</h4>
<p>By providing the mechanism of the coexistence for new and old features you give "such a critical room for maneuver"  to seamlessly migrate/upgrade!</p>



<a name="183955617"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183955617" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183955617">(Dec 20 2019 at 17:30)</a>:</h4>
<p>FHIR is gonna be a distributed system standard - you just could not "stop the world" and install newer version!</p>



<a name="183955624"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183955624" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183955624">(Dec 20 2019 at 17:30)</a>:</h4>
<p>Yes, but if it was marked beta, you'd accept a breaking change - which is what &lt; Normative is</p>



<a name="183955682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183955682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183955682">(Dec 20 2019 at 17:31)</a>:</h4>
<p>Normative looks "too slow"!?</p>



<a name="183955773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183955773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183955773">(Dec 20 2019 at 17:32)</a>:</h4>
<p>How much "normative" FHIR do we have now?</p>



<a name="183955871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183955871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183955871">(Dec 20 2019 at 17:33)</a>:</h4>
<p>Yes it does feel slow.. and if building up to normative requires those additional processes, it will be even slower.</p>



<a name="183955896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183955896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183955896">(Dec 20 2019 at 17:33)</a>:</h4>
<p>Why?</p>



<a name="183956021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956021">(Dec 20 2019 at 17:35)</a>:</h4>
<p>Normative is slow - because people are scared to make a mistake in the decision, they could not change later.</p>



<a name="183956061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956061">(Dec 20 2019 at 17:35)</a>:</h4>
<p>With a depreciation, backward and forward compat practices  - this fear will go away.</p>



<a name="183956120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956120">(Dec 20 2019 at 17:36)</a>:</h4>
<p>Because that's the cost of process?  Finding the line of where to do it is mental load if nothing else.  During the redesign, we've renamed resources, fields, etc.  But, there have been times when it was unchanged for months - what would be the decision there?</p>



<a name="183956184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956184">(Dec 20 2019 at 17:37)</a>:</h4>
<p>Let's imagine how it can be done with Subscription. You froze and deprecate current Subscription - no work to do this - just keep it.</p>



<a name="183956203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956203">(Dec 20 2019 at 17:37)</a>:</h4>
<p>Also, I'm not advocating that this shouldn't be considered in general - just that it would need to be defined before it could be adopted (and Subscription has already been walked down this path).</p>



<a name="183956216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956216">(Dec 20 2019 at 17:37)</a>:</h4>
<p>You design new  TopicSubscription from scratch and publish in R5</p>



<a name="183956285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956285">(Dec 20 2019 at 17:38)</a>:</h4>
<p>It's not yet published. So it is not too late</p>



<a name="183956375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956375">(Dec 20 2019 at 17:39)</a>:</h4>
<p>Or we can add new elements to old Subscriptions to upgrade them to new one - mark obsolete elements</p>



<a name="183956436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956436">(Dec 20 2019 at 17:40)</a>:</h4>
<p>There only few naming clashes.</p>



<a name="183956492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956492">(Dec 20 2019 at 17:41)</a>:</h4>
<p>There is work, and a lot of it is procedural.  What happens to deprecated resources re: technical corrections?  What happens if a related resource/dependency/etc changes?<br>
In the case of Subscription, a lot of behavior is changed, so clients also need to be aware of this (e.g., an endpoint/websocket/etc will receive different data)</p>



<a name="183956498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956498">(Dec 20 2019 at 17:41)</a>:</h4>
<p>And for us as implementers - it would be much nicer to support both of them - than forking implementation between R4 and R5</p>



<a name="183956538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956538">(Dec 20 2019 at 17:41)</a>:</h4>
<blockquote>
<p>And for us as implementers - it would be much nicer to support both of them - than forking implementation between R4 and R5</p>
</blockquote>
<p>But it forces generic R5 clients to support both - since some servers will continue to use the 'deprecated' version</p>



<a name="183956548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956548">(Dec 20 2019 at 17:41)</a>:</h4>
<p>Just create an element Subscription.version</p>



<a name="183956607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956607">(Dec 20 2019 at 17:42)</a>:</h4>
<p>Do you expect this behavior from your browser?</p>



<a name="183956620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956620">(Dec 20 2019 at 17:42)</a>:</h4>
<p>Handle old html documents? :)</p>



<a name="183956677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956677">(Dec 20 2019 at 17:43)</a>:</h4>
<p>If client implementation does not support this  - users of these clients will do it anyway, because they have to connect to two systems with different versions :)</p>



<a name="183956699"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956699" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956699">(Dec 20 2019 at 17:43)</a>:</h4>
<p>I support a couple of clients - users ask for multi-version support all the time</p>



<a name="183956713"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956713" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956713">(Dec 20 2019 at 17:43)</a>:</h4>
<p>You do not solve the problem, you make it worse this way</p>



<a name="183956718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956718">(Dec 20 2019 at 17:43)</a>:</h4>
<p>Other way around - if I am implementing an R5 Subscription client, I only implement the new version.  Then I go to an R5 server, and it has the deprecated one.  I'm out of luck until the server updates, which could be R6 or R7 (using a 2 release example).</p>



<a name="183956788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956788">(Dec 20 2019 at 17:44)</a>:</h4>
<p>All existing clients talking to R4 servers (which they are R4 now) will continue to work</p>



<a name="183956801"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956801" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956801">(Dec 20 2019 at 17:44)</a>:</h4>
<p>That's forward compatibility - a little bit harder :)</p>



<a name="183956847"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956847" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956847">(Dec 20 2019 at 17:45)</a>:</h4>
<p>Use case: I have to subscribe to epic  (R4) and cerner  (R5) and aidbox (R6) - what should i do?</p>



<a name="183956944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956944">(Dec 20 2019 at 17:46)</a>:</h4>
<p>For example, if all of them backward compatible i can do it with R4 client</p>



<a name="183956969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183956969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183956969">(Dec 20 2019 at 17:46)</a>:</h4>
<p>If none of them - I need 3 clients and understand, which server on which version</p>



<a name="183957007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183957007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183957007">(Dec 20 2019 at 17:47)</a>:</h4>
<p>If my client is  multi-version(R4,R5,R6)  - I'm lucky as well</p>



<a name="183957045"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183957045" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183957045">(Dec 20 2019 at 17:47)</a>:</h4>
<p>A good example is Browsers and HTTPs</p>



<a name="183957102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183957102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183957102">(Dec 20 2019 at 17:48)</a>:</h4>
<p>I don't follow.  If the old subscriptions mechanism is deprecated, the odds of an R6 server supporting them are minuscule (especially given that one of the primary drivers of the redesign was <em>because</em> servers weren't able to implement it).</p>



<a name="183957146"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183957146" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183957146">(Dec 20 2019 at 17:48)</a>:</h4>
<p>Same would be true of a new R5 server - they wouldn't implement the deprecated version, so your client would still need both the R4 version and the newer one.</p>



<a name="183957147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183957147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183957147">(Dec 20 2019 at 17:48)</a>:</h4>
<p>In an ideal world, clients are multi-version and servers are backward compatible</p>



<a name="183957203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183957203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183957203">(Dec 20 2019 at 17:49)</a>:</h4>
<p>So new servers need to implement the deprecated version as well?</p>



<a name="183957214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183957214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183957214">(Dec 20 2019 at 17:49)</a>:</h4>
<p>this is a problem that is caused by people deploying STU ... Normative status is the answer. Trying to solve non-normative as if it was normative is folly</p>



<a name="183957285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183957285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183957285">(Dec 20 2019 at 17:50)</a>:</h4>
<blockquote>
<p>So new servers need to implement the deprecated version as well?</p>
</blockquote>
<p>Users are more important than servers and clients :)</p>



<a name="183957292"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183957292" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183957292">(Dec 20 2019 at 17:50)</a>:</h4>
<p>that is to say.. your client, because it chooses to support multiple versions, must deal with multiple versions</p>



<a name="183957441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183957441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183957441">(Dec 20 2019 at 17:52)</a>:</h4>
<p>Again take a look at Browser and HTTP versions</p>



<a name="183957719"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183957719" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183957719">(Dec 20 2019 at 17:56)</a>:</h4>
<blockquote>
<p>In an ideal world, clients are multi-version and servers are backward compatible</p>
</blockquote>
<p>Yes, that would be ideal.  But implementing the old version of subscriptions for production falls somewhere between non-trivial and not-possible (depending on architecture).  Asking servers to implement it, even though it was agreed to be broken doesn't seem like a path forward.</p>
<p>So, even if the old version was left in, any client for R5 or higher would need the new version, because servers won't do the old one.</p>



<a name="183958960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183958960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183958960">(Dec 20 2019 at 18:12)</a>:</h4>
<blockquote>
<p>Again take a look at Browser and HTTP versions</p>
</blockquote>
<p>that is not the same, as those are formal versions. Normative versions. Thus, yes once a portion of FHIR goes normative (e.g. Patient, Observation) then no breaking changes can be made... but resources that are not yet normative MUST be expected to have breaking changes between versions.</p>



<a name="183959076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183959076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183959076">(Dec 20 2019 at 18:14)</a>:</h4>
<blockquote>
<blockquote>
<p>In an ideal world, clients are multi-version and servers are backward compatible</p>
</blockquote>
<p>Yes, that would be ideal.  But implementing the old version of subscriptions for production falls somewhere between non-trivial and not-possible (depending on architecture).  Asking servers to implement it, even though it was agreed to be broken doesn't seem like a path forward.</p>
<p>So, even if the old version was left in, any client for R5 or higher would need the new version, because servers won't do the old one.</p>
</blockquote>
<p>:) We implement server</p>



<a name="183959097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183959097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183959097">(Dec 20 2019 at 18:14)</a>:</h4>
<p>Yes, and was it trivial?  :-)</p>



<a name="183961544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183961544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183961544">(Dec 20 2019 at 18:44)</a>:</h4>
<p>Yes :) couple of days and month of bug fixing</p>



<a name="183961760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183961760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183961760">(Dec 20 2019 at 18:48)</a>:</h4>
<p>But now i do not know - what to do? Make configuration with the version of subscriptions or fork the project. You do not give me options keep my code base together and gracefully migrate my users :(</p>



<a name="183962633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183962633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183962633">(Dec 20 2019 at 18:59)</a>:</h4>
<p>We're trying - it's hard to balance the needs of a large community.  I feel like Subscriptions are particularly painful because they didn't move (forward or backward) for a while.</p>



<a name="183967419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183967419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183967419">(Dec 20 2019 at 19:53)</a>:</h4>
<p>Having two different ways to do subscription just creates a longer period of non-interoperability.  It's no longer enough to know "do you do subscriptions in R5", but now you have to worry about "do you do new subscriptions or old subscriptions"?  When you have deprecated content and new content, you're imposing a burden on implementers.  They either have to support both approaches or they have to deal the the problem that they can't talk to systems that - based on version and use-case, they should be able to.  Deprecation really just means "slower migration" - which in turn means slower ability to actually lock down the standard.  Because to lock down the standard, we need significant implementation of the <em>new</em> approach.  Systems hanging onto a 'deprecated' approach doesn't help us achieve that.</p>
<p>HL7 has significant experience with maintaining backwards compatibility with stuff that got locked down as 'normative' without much implementation experience and turned out to be broken/sub-optimal.  The result is greater implementer inconsistency, increased specification complexity and awkward implementation of use-cases.  The notion of STU exists specifically to avoid that issue.  With STU, we don't make breaking changes 'for fun'.  But if making a breaking change makes the specification more implementable/useable for future users, we'll typically make it.  If it's content that's level 4/5, existing implementers can indicate their disagreement/concerns and those will be taken into account.</p>
<p>From an implementer side of things, implementers want everything that works to stay frozen for ever and everything that doesn't work to be changed yesterday.  The standards process of draft -&gt; STU -&gt; Normative is the mechanism HL7 has to try to balance those desires.  Yes, it takes longer than we'd like.  Get something designed, agreed to and implemented across the range of use-cases and jurisdictions our specifications are intended to cover (which for HL7 Int'l is very wide) takes significant time.  Consensus and implementation experience are hard work.</p>
<p>We've tried to be very clear and up front about what STU means.  In fact, for the first couple of release of FHIR, the section of the spec that talked about STU and the potential for breaking change was the only link in the spec that was bolded.  If you think there are ways we can make the risk of change even more obvious, please suggest.  But, in my opinion,  locking into backward compatibility too soon costs more than the benefit it provides.</p>



<a name="183968483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183968483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183968483">(Dec 20 2019 at 20:07)</a>:</h4>
<p>Lloyd do you know how http was evolved  and how browsers and web servers work?</p>



<a name="183969455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183969455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183969455">(Dec 20 2019 at 20:19)</a>:</h4>
<p>in terms of versions?</p>



<a name="183970165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183970165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183970165">(Dec 20 2019 at 20:29)</a>:</h4>
<p>Just imagine you open google and browser says  - i can not open this page - server is R4 but I'm R5 - please wait until google migrate to R5. Then you go to Facebook and got server is R6 - could not open ;(</p>



<a name="183970758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183970758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183970758">(Dec 20 2019 at 20:37)</a>:</h4>
<p>What is better?  Non-perfect working interop with multiple coexisting versions, or partially working interop with incompatible versions?</p>



<a name="183971156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183971156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183971156">(Dec 20 2019 at 20:42)</a>:</h4>
<p>Or example from java world. You are using library "a", which works on jvm R4. Now you want to use library "b", which works only with jvm R5? If jvm is not backward compat - you are in trouble.  But jvm is usually compatible 5-10 years back - so no problem.</p>



<a name="183971231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183971231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183971231">(Dec 20 2019 at 20:43)</a>:</h4>
<p>You can use "a" and "b" together.  And eventualy migrate to "a2" for R5.</p>



<a name="183971345"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183971345" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183971345">(Dec 20 2019 at 20:45)</a>:</h4>
<p>But FHIR is "working standard". r2, r3, r4 are already in production</p>



<a name="183971357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183971357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183971357">(Dec 20 2019 at 20:45)</a>:</h4>
<p>Nicola, I think Lloyd's point is that between HTTP 1.0 an 1.1 (for instance), there were many features which were tried.  Some worked, some didn't.  What made it into 1.1 had no promise of compatibility with any particular feature in the intermediate time - that's their release process.</p>
<p>The same is true in FHIR, compatibility is preserved once something becomes Normative.  Before it is Normative, it is beta and subject to changes.  Otherwise, there can be an arbitrary line, but the same will continue to be true (e.g., I don't think you're arguing items at FMM 0 cannot be broken).</p>



<a name="183971959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183971959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183971959">(Dec 20 2019 at 20:53)</a>:</h4>
<p>I would argue that we (as a community) should be vigilant in making sure things move (e.g., can't sit at FMM 3 for multiple releases).  I feel like specs should either move upwards (because they are good) or decay out (because there isn't adoption).</p>
<p>That said, it takes the people involved to make those decisions... and people involved are unlikely to say there isn't enough traction to standardize.</p>
<p>What would be your proposal on when something no longer allows breaking changes (generally, not specific to Subscriptions)?</p>
<p>Note: I will be away from this discussion for a bit, but will check in as able.</p>



<a name="183972041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183972041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183972041">(Dec 20 2019 at 20:54)</a>:</h4>
<p>There are countries,  which commited R2 and R4. Isn't this enough to care about compatibility?</p>



<a name="183972229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183972229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183972229">(Dec 20 2019 at 20:56)</a>:</h4>
<p>My proposal is simple - keep non perfect resources unbroken (just deprecate them). Add new versions with new names.</p>



<a name="183972246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183972246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183972246">(Dec 20 2019 at 20:56)</a>:</h4>
<p>It's not so hard to do</p>



<a name="183972309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183972309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183972309">(Dec 20 2019 at 20:57)</a>:</h4>
<p>I'm a user of clojure language  - no one breaking change in 10 years,  even in betta.</p>



<a name="183972425"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183972425" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183972425">(Dec 20 2019 at 20:58)</a>:</h4>
<p><a href="https://youtu.be/oyLBGkS5ICk" target="_blank" title="https://youtu.be/oyLBGkS5ICk">https://youtu.be/oyLBGkS5ICk</a></p>
<div class="youtube-video message_inline_image"><a data-id="oyLBGkS5ICk" href="https://youtu.be/oyLBGkS5ICk" target="_blank" title="https://youtu.be/oyLBGkS5ICk"><img src="https://i.ytimg.com/vi/oyLBGkS5ICk/default.jpg"></a></div>



<a name="183981883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183981883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183981883">(Dec 20 2019 at 23:00)</a>:</h4>
<p>I actually agree with Nicola here on this one. Striking the right balance between breaking changes and other wyas of making changes is a delicate balance. </p>
<p>In this case, we are not 'fixing' something. We are saying 'we don't like the old way subscriptions worked, and we're going to make a new way'. Except that the way we've gone about it also means 'we believe that the old way is so wrong we're eliminating it'. </p>
<p>Yet people are actually using it now, and it works for them. So why eliminate at? We don't <em>need</em> to. We can just define a new kind of subscription, for a new approach, and say, you can keep using the old one.</p>
<p>That obviously raises the concern about supporting 2 different mechanisms going forward, and more work for servers - and it is more work for servers that don't yet exist or haven't yet implemented the old way. Servers that have already implemented the old way, it's little more work to keep the old way about and just build a new one. For servers that haven't yet implemented... that's valid question.</p>
<p>We don't need to deprecate something that's not normative. We can just take it away. but I don't think that's the wise course of action this time.</p>



<a name="183982554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183982554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183982554">(Dec 20 2019 at 23:09)</a>:</h4>
<p>Around minute 34 in the video posted above - how is <code>R5/Subscription</code> different from <code>new-ns/foo</code> from the example given?</p>



<a name="183985290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183985290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183985290">(Dec 20 2019 at 23:56)</a>:</h4>
<p>If the decision is made that we need to support two styles of subscriptions because there are two parallel business cases, that's fine.  That's not a question of backwards compatibility, that's a question of two resources for two different purposes.  But if we decided to refactor how Questionnaire is organized and some folks liked the way the old one was organized, we <em>can't</em> keep both of them because that would break interoperability - same business case handled two different ways.</p>
<p><span class="user-mention" data-user-id="222054">@Gino Canessa</span> is correct.  When W3C was working on HTTP 2.0, they went through several candidate releases.  People wrote code against and implemented those.  But they were under no illusion that the final official HTTP 2.0 would necessarily be compatible across all candidate releases.  That's what the STU process is for FHIR.</p>



<a name="183987527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183987527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183987527">(Dec 21 2019 at 00:44)</a>:</h4>
<p>I would disagree about “fixing” or not.  Based on my understanding, many implementers found the old mechanism un-implementable. There were also several used cases not addressed (e.g., delete operations).</p>
<p>There are use cases it works for, but I could draft a Patient resource that works for just my use case too.</p>
<p>I’m open to trying to find a way to map them (e.g., a SubscriptionTopic that indicates old behavior), but the existing servers would still need to come forward with Payloads, etc. to be compliant for clients.</p>



<a name="183988798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183988798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183988798">(Dec 21 2019 at 01:15)</a>:</h4>
<blockquote>
<p>Based on my understanding, many implementers found the old mechanism un-implementable.</p>
</blockquote>
<p>Sure. that's why we made a new one. There's no discussion about that. the question is about the people who did find that it met their use cases. </p>
<blockquote>
<p>People wrote code against and implemented those. But they were under no illusion that the final official HTTP 2.0 would necessarily be compatible across all candidate releases</p>
</blockquote>
<p>that's true too, but they didn't release 1.0-&gt;4.0 before deciding. I'm not saying we can't, procedurally, because we can. But I do believe we shouldn't dismiss existing implementers so summarily.</p>



<a name="183992494"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183992494" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183992494">(Dec 21 2019 at 03:02)</a>:</h4>
<p>If the new one addresses all of the use-cases the old one supported, then the old one shouldn't be carried over.  Doing so creates two ways of doing things in the same release and creates pain for everyone (new implementers and old).  Yanking the old one only creates pain for old implementers.</p>
<p>If the new one doesn't address all of the old use-cases (and can't be adjusted to do so), then it should be adjusted (as much as feasible) to support only the distinct use-cases and should be retained.</p>



<a name="183996630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183996630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183996630">(Dec 21 2019 at 05:28)</a>:</h4>
<p>I can describe history of subscriptions (as i see it outside). First version was hard to implement for fhir facades like epic and cerner, because it's too "fhirish", but there was no problems in implementation for generic fhir servers. Topic based subscriptions, moved all fhir dependency to topic (which supposed to be hardcoden in fhir facades) and made subscriptions just channel specification and key/value filter (which can be implemented on any existing queues).  For FHIR server and its clients this  almost does not add new value (there are some new features, which can be handled in compatible way).</p>



<a name="183996900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183996900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183996900">(Dec 21 2019 at 05:37)</a>:</h4>
<p>Does the old way offer capability the new way does not?  If not, the old way needs to go away.  The initial solution may have satisfied an initial subset of the stakeholders but didn't work for the complete set.  To support interoperability, everyone needs to move to the solution that can actually work for everyone.  If the old implementers choose to stick with the old approach and those that couldn't use the old approach use the new one, then we lose the interoperability the standard is supposed to achieve.</p>



<a name="183996902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183996902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183996902">(Dec 21 2019 at 05:37)</a>:</h4>
<p>I understand Lloyd concerns about many ways to do same things,  but with deployed to production different FHIR versions this problem does not go away,  it just becomes responsibility of users.</p>



<a name="183996963"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183996963" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183996963">(Dec 21 2019 at 05:40)</a>:</h4>
<p>In kubernetes designers make possible multiple versions coexisting  in same runtime and it works</p>



<a name="183997012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997012">(Dec 21 2019 at 05:41)</a>:</h4>
<p>You can migrate to latest version to be "interoperable" in a safe way</p>



<a name="183997019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997019">(Dec 21 2019 at 05:41)</a>:</h4>
<p>In FHIR clash on resource names makes it tricky</p>



<a name="183997073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997073">(Dec 21 2019 at 05:43)</a>:</h4>
<p>Even after you do something "normative" - in future you will find the "better ways" doing this.</p>



<a name="183997074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997074">(Dec 21 2019 at 05:43)</a>:</h4>
<p>and you should be able introduce it in FHIR</p>



<a name="183997120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997120">(Dec 21 2019 at 05:45)</a>:</h4>
<p>I would say - there should be "one" in a specific point in time recommended "way" to do something.</p>



<a name="183997165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997165">(Dec 21 2019 at 05:46)</a>:</h4>
<p>And this can change. In few years we can discover another "one recommend way" and deprecate previous</p>



<a name="183997171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997171">(Dec 21 2019 at 05:47)</a>:</h4>
<p>What matters is that a client system can talk to a single interface.  When we go normative, we stabilize that interface (at the cost that adding new features/mechanisms may sometimes be clunky).  Prior to normative, the interface isn't stable, which means we don't incur the cost of clunkiness for an initial attempt that didn't satisfy the community.  Over time, it's possible the klunkiness will build up to the point that the community will say "give us a new clean resource and we'll deprecate the old one".  But that's not a place we're in yet.</p>



<a name="183997217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997217">(Dec 21 2019 at 05:48)</a>:</h4>
<p>(And given the cost of the change, the resource would need to have become klunky indeed - for the vast majority of implementers - for an agreement on replacement to occur.)</p>



<a name="183997278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997278">(Dec 21 2019 at 05:51)</a>:</h4>
<p>Ups, this is a problem of point of view  - if we consider fhir as a "working" standard - if R4 published and used isn't this our responsibility to provide smooth migration for our users/early adopters to R5?</p>



<a name="183997318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997318">(Dec 21 2019 at 05:52)</a>:</h4>
<p>This people does not really care about status of standard  - they use it</p>



<a name="183997319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997319">(Dec 21 2019 at 05:52)</a>:</h4>
<p>actually, it's not a big upgrade from the old to the new - pull the query out into a topic....</p>



<a name="183997326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997326">(Dec 21 2019 at 05:53)</a>:</h4>
<p>But imagine a working system on top of generic fhir server</p>



<a name="183997332"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997332" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997332">(Dec 21 2019 at 05:53)</a>:</h4>
<p>you have to in sync deploy new version of service and fhir server</p>



<a name="183997372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997372">(Dec 21 2019 at 05:54)</a>:</h4>
<p>and say you have external users of subscription api</p>



<a name="183997373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997373">(Dec 21 2019 at 05:54)</a>:</h4>
<p>umm. yes. you have to anyway, at the moment</p>



<a name="183997375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997375">(Dec 21 2019 at 05:54)</a>:</h4>
<p>unless the server offers both R4 and R5 services</p>



<a name="183997377"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997377" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997377">(Dec 21 2019 at 05:54)</a>:</h4>
<p>That's mmy point</p>



<a name="183997385"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997385" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997385">(Dec 21 2019 at 05:55)</a>:</h4>
<p>Can  we design with this in mind?</p>



<a name="183997388"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997388" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997388">(Dec 21 2019 at 05:55)</a>:</h4>
<p>what's your point? A general thing about FHIR, or something specific to subscription?</p>



<a name="183997440"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997440" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997440">(Dec 21 2019 at 05:57)</a>:</h4>
<p>Real servers should be able to serve multiple versions</p>



<a name="183997483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997483">(Dec 21 2019 at 05:58)</a>:</h4>
<p>real servers can. I'll check in with an implemenation before the January meeting, but I don't right now see any reason why I couldn't run a dual version server</p>



<a name="183997484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997484">(Dec 21 2019 at 05:58)</a>:</h4>
<p>(feb meeting this time)</p>



<a name="183997487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997487">(Dec 21 2019 at 05:58)</a>:</h4>
<p>No one did it in a proper way ;)</p>



<a name="183997492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997492">(Dec 21 2019 at 05:58)</a>:</h4>
<p>?</p>



<a name="183997499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997499">(Dec 21 2019 at 05:59)</a>:</h4>
<p>Such breaking changes in FHIR make it a real challenge</p>



<a name="183997500"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997500" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997500">(Dec 21 2019 at 05:59)</a>:</h4>
<p>to serve multiple versions</p>



<a name="183997587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997587">(Dec 21 2019 at 06:01)</a>:</h4>
<p>How to make R4 subscriptions work with R5 patient?</p>



<a name="183997632"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997632" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997632">(Dec 21 2019 at 06:02)</a>:</h4>
<p>or R5 subscriptions with R4 patient?</p>



<a name="183997699"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997699" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997699">(Dec 21 2019 at 06:05)</a>:</h4>
<p>We are programmers,  we can solve this somehow</p>



<a name="183997739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997739">(Dec 21 2019 at 06:06)</a>:</h4>
<p>but isn't this multiversion reality should be part of fhir design?</p>



<a name="183997752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997752">(Dec 21 2019 at 06:07)</a>:</h4>
<p>Again i don't see essential difference between  JVM and FHIR</p>



<a name="183997796"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997796" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997796">(Dec 21 2019 at 06:08)</a>:</h4>
<p>Java guys grew the culture of compatibility.</p>



<a name="183997802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997802">(Dec 21 2019 at 06:08)</a>:</h4>
<p>If you ever encounter python 2=&gt;3 hell</p>



<a name="183997814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997814">(Dec 21 2019 at 06:09)</a>:</h4>
<p>or ruby 1.8=&gt;1.9, vb 6=&gt;.net</p>



<a name="183997863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997863">(Dec 21 2019 at 06:10)</a>:</h4>
<p>you know "the wrong way" of making changes</p>



<a name="183997877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997877">(Dec 21 2019 at 06:11)</a>:</h4>
<p>I think,  version migration problem should be responsibility of "breaking changes" makers.</p>



<a name="183997932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183997932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183997932">(Dec 21 2019 at 06:13)</a>:</h4>
<p>if r5 for example will deprecate but keep r4 subscriptions  - it would be straight forward to do fhir server with (r4, r5) support</p>



<a name="183998306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183998306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183998306">(Dec 21 2019 at 06:26)</a>:</h4>
<p>Make old stuff living deprecated in same place with new looks like right balance/tradeoff</p>



<a name="183998408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183998408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183998408">(Dec 21 2019 at 06:30)</a>:</h4>
<p>@Lloyd In case of Questionnaire redesign it is the same problem - imagine a FHR CDR hosted by some provider and dozens of external and internal apps reporting R4 Questionnaire. Now R5 released? How to migrate all of this systems?</p>



<a name="183998467"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183998467" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183998467">(Dec 21 2019 at 06:33)</a>:</h4>
<p>Whose is this problem?</p>



<a name="183998524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183998524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183998524">(Dec 21 2019 at 06:35)</a>:</h4>
<p>if we have Q1 (deprecated) and Q2 both in R5 - we can upgrade CDR</p>



<a name="183998532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183998532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183998532">(Dec 21 2019 at 06:35)</a>:</h4>
<p>Apps will migrate one by one during the year</p>



<a name="183998572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183998572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183998572">(Dec 21 2019 at 06:36)</a>:</h4>
<p>until R6 with Q3 will come :)</p>



<a name="183998682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183998682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183998682">(Dec 21 2019 at 06:41)</a>:</h4>
<p>If you don't do this in a standard,  implementers still have to do it, because of users.</p>



<a name="183998684"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183998684" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183998684">(Dec 21 2019 at 06:41)</a>:</h4>
<p>Everybody love to design from scratch  ....</p>



<a name="183999046"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183999046" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183999046">(Dec 21 2019 at 06:54)</a>:</h4>
<p>(deleted)</p>



<a name="183999108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/183999108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#183999108">(Dec 21 2019 at 06:57)</a>:</h4>
<blockquote>
<p>Around minute 34 in the video posted above - how is <code>R5/Subscription</code> different from <code>new-ns/foo</code> from the example given?</p>
</blockquote>
<p>the difference is small but important,  two namespaces can coexist in one library or runtime.  If fhir would make R4/Subscription and R5/Subscription part of R5 then it would be the same. But we drop R4/Sub from R5  as designers ;(  and pushing it back (R4/Subscriptions into R5 Server)  somehow as implementers</p>



<a name="184009471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184009471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184009471">(Dec 21 2019 at 12:43)</a>:</h4>
<p>I have to say I find the fact that "old subscriptions" are going away kind of troubling too.</p>
<p>I know of many, many production solutions that have taken heavy advantage of the current subscription functionality.</p>
<p>There is a workaround for these people, which is to create a contained topic inside the subscription that keeps their old criteria and nothing else.. But what an ugly workaround.</p>
<p>Personally I don't see why it needs to be either/or. You could keep the "old way" alive in Subscriptions and still support the new way. Nobody is forcing servers to actually support both.</p>



<a name="184012375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184012375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184012375">(Dec 21 2019 at 14:19)</a>:</h4>
<p>I've been mulling this overnight and wanted to consolidate/verify things, if everyone will bear with me..</p>
<p>1) There can be a path from R4 Subscriptions to topic-based, but even then the resources include breaking changes (e.g., what they send as a notification, etc.).  Supporting both will require more work than supporting either one.</p>
<p>2) People that have implemented the existing behavior don't want to change their code (which works for them)</p>
<p>3) Outside of the basic "is this implementable for my architecture", several issues/limitations were identified (e.g., resource deletion vs falling out of criteria, content of notifications, etc.) for the wider community - some of these alone are also breaking changes.</p>
<p>4) Subscription sat at FMM 3 for a while, and people don't look at maturity levels, so they used it in production with the expectation of it remaining stable.</p>
<p>--</p>
<p>a) Even if topic-based subscriptions were implemented side-by-side to the existing model, they are inherently incompatible (notifications are different things) - an R5 client would then need to figure out version an R5 sever supports, and expect to implement both for broad compatibility.</p>
<p>b) Versioning resources is a possible design - but moves version hell from the release version to the resource version (e.g., R5 servers support v1/v2/v3 of any given resource/behavior and my client needs to sort it out by supporting the one I want and all the ones below it).</p>
<p>c) If this is the design paradigm we want, it needs to be defined - what is the rule we are looking for?  Every resource included in a release needs to embrace backwards compatibility?  'Beta' releases alongside the existing ones so people can test things outside this behavior?  Prepend the word 'Draft' to a resource name for testing? etc.</p>
<p>--</p>
<p>So, it will be painful: for people who have implemented the existing resources , for clients trying to connect to servers of a particular release, or for everyone defining specs moving forward (plus one of the other groups).</p>



<a name="184014270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184014270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184014270">(Dec 21 2019 at 15:18)</a>:</h4>
<p>I'm catching up on the robust discussion here after being totally heads down in SMART documentation yesterday. Wow!</p>



<a name="184014445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184014445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184014445">(Dec 21 2019 at 15:24)</a>:</h4>
<p>I don't have an opinion on "replace vs augment" yet, but I wanted to make a couple of comments:</p>
<p>@nicola said:</p>
<blockquote>
<p>First version was hard to implement for fhir facades like epic and cerner, because it's too "fhirish", but there was no problems in implementation for generic fhir servers.</p>
</blockquote>
<p>This wasn't the case -- we received specific feedback from "generic FHIR server" teams (from Google, Microsoft; also <span class="user-mention" data-user-id="191351">@Chris Grenz</span>) that Topic-based subscriptions would give them a scalable path to implementing support, e.g., by taking advantage of existing cloud based queueing services. So we've been thinking of Topic-based Subscriptions as an improvement across architectures.</p>



<a name="184014525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184014525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184014525">(Dec 21 2019 at 15:27)</a>:</h4>
<p>Second comment is about timing: I wish we were having this conversation earlier. We've done WGM seasons and connectathons and Dev Days meetings and webinars and so on. (Heck, <span class="user-mention" data-user-id="191318">@nicola (RIO/SS)</span> I came to St Petersburg and presented this plan to you two months ago.) It's always harder to process this kind of feedback later in the revision process -- which isn't an argument one way or another, it's just a "here's what I'm feeling" comment.</p>



<a name="184015270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184015270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184015270">(Dec 21 2019 at 15:50)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> that was my fault,  i didn't put  "right" attention in "right" time.  I think this discussion not only about Subscriptions, but about how do we handle "breaking changes" in FHIR in general. Some time ago same happened with include:recursive.</p>



<a name="184015329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184015329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184015329">(Dec 21 2019 at 15:52)</a>:</h4>
<p>I think,  we need a mind shift  to honor "backward" and even "forward" compatibility in FHIR community,  because FHIR already in production!</p>



<a name="184015339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184015339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184015339">(Dec 21 2019 at 15:53)</a>:</h4>
<p>And users are really concerned about this.</p>



<a name="184015396"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184015396" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184015396">(Dec 21 2019 at 15:55)</a>:</h4>
<p>I will try to put my thoughts  about this to more structured post.</p>



<a name="184016773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184016773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184016773">(Dec 21 2019 at 16:35)</a>:</h4>
<p>Maybe I am missing something, but can we make sure we understand why R4/Subscription being different from R5/Subscription is worse than having  R5/Subscription and R5/NewSubscription? Is it because R4/Subscription cannot reference R5/Observation (for example)? And yes, I understand that R4 and R5 are not really namespaces, but for the purposes of of this discussions, they seem to serve the same purpose.</p>



<a name="184017327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184017327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184017327">(Dec 21 2019 at 16:53)</a>:</h4>
<p><span class="user-mention" data-user-id="192685">@Vassil Peytchev</span> with NewSubscription you can deprecate but keep R4/Subscription in R5. Like in your library you preserve deprecated code for some time to help your users start with a new version right now and gradually refactor codebase to new API.</p>



<a name="184017711"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184017711" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184017711">(Dec 21 2019 at 17:04)</a>:</h4>
<p>That's what I don't understand. R4/Subscription is not going anywhere - it's still there, and it can be used. What is the exact problem caused by R4/Subscription and R5/Subscription coexisting?</p>



<a name="184017844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184017844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184017844">(Dec 21 2019 at 17:09)</a>:</h4>
<p>Name clash of the resource name.</p>



<a name="184017855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184017855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184017855">(Dec 21 2019 at 17:09)</a>:</h4>
<p>I would call it Homonym problem</p>



<a name="184018259"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184018259" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184018259">(Dec 21 2019 at 17:21)</a>:</h4>
<p>Imagine you have FHIR server and spent one year and implemented dozen of services which use of R4/Subscriptions  - now you want to migrate to R5. FHIR server vendor says you can install R5 and migrate all the data with small downtime, but R5/Subscriptions are different from R4 - so all of your services will be broken (what if you made R4/Subscriptions your public API and some external services use it and they out of your control?).</p>



<a name="184018469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184018469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184018469">(Dec 21 2019 at 17:27)</a>:</h4>
<p>You will definitely do some workaround, keep old API, install new API on new URL, make synchronization between R4 and R5 servers, deprecate old API,  AND  "blame the standard"!</p>



<a name="184018600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184018600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184018600">(Dec 21 2019 at 17:31)</a>:</h4>
<p>If you ever did such upgrades - you understand the "pain" of incompatibility. I claim by simple rules we can make the standard more friendly to upgrades/changes - just don't do breaking changes - only "add" and "deprecate".</p>



<a name="184018908"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184018908" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184018908">(Dec 21 2019 at 17:40)</a>:</h4>
<p>Would you apply this reasoning to changes in resource definitions/models as well? in other words for non-normative resources would you propose that we avoid changing the structure in a breaking way, and instead define new versions of them that can overlap in time? Or do you see this as a different sort of case because it's about API definition rather the data modeling?</p>



<a name="184021718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184021718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184021718">(Dec 21 2019 at 19:02)</a>:</h4>
<p><span class="user-mention" data-user-id="222054">@Gino Canessa</span> :</p>
<blockquote>
<p>Even if topic-based subscriptions were implemented side-by-side to the existing model, they are inherently incompatible (notifications are different things) - an R5 client would then need to figure out version an R5 sever supports, and expect to implement both for broad compatibility.</p>
</blockquote>
<p>I don't think that's how clients have worked in the past - it's servers who've done both, and clients just don't work. But yes, if you want general purpose clients and servers, they would do both.  if we keep both. The question is where we keep the pain. </p>
<blockquote>
<p>If this is the design paradigm we want, it needs to be defined - what is the rule we are looking for? Every resource included in a release needs to embrace backwards compatibility? </p>
</blockquote>
<p>That is probably what Nicola is looking for - but that's not what we're going to do as a general rule and we shouldn't be debating a general rule, only what we're going to do here.</p>



<a name="184021765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184021765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184021765">(Dec 21 2019 at 19:02)</a>:</h4>
<blockquote>
<p>do you see this as a different sort of case because it's about API definition rather the data modeling?</p>
</blockquote>
<p>I think it is different in degree of impact</p>



<a name="184021853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184021853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184021853">(Dec 21 2019 at 19:05)</a>:</h4>
<p>I'm still not sure that this is quite that big an issue. We've been clear that there is the possibility of breaking changes on the API. So here's an existing R4 subscription:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Subscription&quot;</span><span class="p">,</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;generated&quot;</span><span class="p">,</span>
    <span class="nt">&quot;div&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;div xmlns=\&quot;http://www.w3.org/1999/xhtml\&quot;&gt;[Put rendering here]&lt;/div&gt;&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;requested&quot;</span><span class="p">,</span>
  <span class="nt">&quot;contact&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot;phone&quot;</span><span class="p">,</span>
      <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;ext 4123&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;end&quot;</span><span class="p">:</span> <span class="s2">&quot;2021-01-01T00:00:00Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;reason&quot;</span><span class="p">:</span> <span class="s2">&quot;Monitor new neonatal function&quot;</span><span class="p">,</span>
  <span class="nt">&quot;criteria&quot;</span><span class="p">:</span> <span class="s2">&quot;Observation?code=http://loinc.org|1975-2&quot;</span><span class="p">,</span>
  <span class="nt">&quot;channel&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;rest-hook&quot;</span><span class="p">,</span>
    <span class="nt">&quot;endpoint&quot;</span><span class="p">:</span> <span class="s2">&quot;https://biliwatch.com/customers/mount-auburn-miu/on-result&quot;</span><span class="p">,</span>
    <span class="nt">&quot;payload&quot;</span><span class="p">:</span> <span class="s2">&quot;application/fhir+json&quot;</span><span class="p">,</span>
    <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;Authorization: Bearer secret-token-abc-123&quot;</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>



<a name="184021859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184021859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184021859">(Dec 21 2019 at 19:05)</a>:</h4>
<p>here's the R5 equivalent that has exactly the same functionality, I think:</p>



<a name="184022085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184022085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184022085">(Dec 21 2019 at 19:10)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Subscription&quot;</span><span class="p">,</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;contained&quot;</span> <span class="p">:</span> <span class="p">[{</span>
    <span class="nt">&quot;resourceType&quot;</span> <span class="p">:</span> <span class="s2">&quot;Topic&quot;</span><span class="p">,</span>
    <span class="nt">&quot;status&quot;</span> <span class="p">:</span> <span class="s2">&quot;active&quot;</span><span class="p">,</span>
    <span class="nt">&quot;resourceTrigger&quot;</span> <span class="p">{</span>
      <span class="nt">&quot;queryCriteria&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;current&quot;</span> <span class="p">:</span> <span class="s2">&quot;Observation?code=http://loinc.org|1975-2&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}]</span>
  <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;requested&quot;</span><span class="p">,</span>
  <span class="nt">&quot;topic&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;reference&quot;</span> <span class="p">:</span> <span class="s2">&quot;#topic&quot;</span><span class="p">},</span>
  <span class="nt">&quot;contact&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot;phone&quot;</span><span class="p">,</span>
      <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;ext 4123&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;end&quot;</span><span class="p">:</span> <span class="s2">&quot;2021-01-01T00:00:00Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;reason&quot;</span><span class="p">:</span> <span class="s2">&quot;Monitor new neonatal function&quot;</span><span class="p">,</span>
  <span class="nt">&quot;channel&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;rest-hook&quot;</span><span class="p">,</span>
    <span class="nt">&quot;endpoint&quot;</span><span class="p">:</span> <span class="s2">&quot;https://biliwatch.com/customers/mount-auburn-miu/on-result&quot;</span><span class="p">,</span>
    <span class="nt">&quot;payload&quot;</span><span class="p">:</span> <span class="p">{</span>
       <span class="nt">&quot;contentType&quot;</span> <span class="p">:</span> <span class="s2">&quot;application/fhir+json; fhir-version: 4.0&quot;</span><span class="p">,</span>
       <span class="nt">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;full=resource&quot;</span><span class="p">,</span>
     <span class="p">}</span>
    <span class="s2">&quot;header&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;Authorization: Bearer secret-token-abc-123&quot;</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>



<a name="184022107"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184022107" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184022107">(Dec 21 2019 at 19:11)</a>:</h4>
<p>given the other kinds of changes that will happen with R5, I don't think this will be particularly noticeable</p>



<a name="184022115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184022115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184022115">(Dec 21 2019 at 19:11)</a>:</h4>
<ul>
<li>if, that is, the server supports the fhir-version paraemter on the payload</li>
</ul>



<a name="184023384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184023384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184023384">(Dec 21 2019 at 19:49)</a>:</h4>
<p>If I'm right that this is the same functionality, we should add this as an example and make a note on the page about this <span class="user-mention" data-user-id="222054">@Gino Canessa</span></p>



<a name="184025267"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184025267" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184025267">(Dec 21 2019 at 20:48)</a>:</h4>
<p>A difference is on a client side, a client  will need to be prepared to handle a bundle, and to receive all posts at the specified endpoint (rather than sub-paths), etc. In other words receiving notifications (not just creating a subscription) requires breaking changes for the client. I think this is part of what Nicola would like to avoid.</p>



<a name="184025285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184025285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184025285">(Dec 21 2019 at 20:49)</a>:</h4>
<blockquote>
<p>"contentType" : "application/fhir+json; <strong>fhir-version: 4.0</strong>",</p>
</blockquote>
<p>Asking for R4 subscription notification means you get what you used to get</p>



<a name="184025485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184025485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184025485">(Dec 21 2019 at 20:55)</a>:</h4>
<p>That's an interesting way to interpret :) I would have expected R4 resource content (i.e.,the payload content type would be defined this field) with R5 delivery semantics.</p>



<a name="184025527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184025527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184025527">(Dec 21 2019 at 20:56)</a>:</h4>
<p>If we <em>were</em> going to support multiple kinds of delivery semantics with a client-settable switch, I might propose using a distinct field for that switch</p>



<a name="184025528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184025528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184025528">(Dec 21 2019 at 20:56)</a>:</h4>
<p>but R5 delivery semantics are not possible in R4. Further, the document for fhir-version says that it specifies the exchange semantics</p>



<a name="184025544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184025544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184025544">(Dec 21 2019 at 20:57)</a>:</h4>
<p>Can you clarify which document?</p>



<a name="184025595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184025595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184025595">(Dec 21 2019 at 20:58)</a>:</h4>
<p>from <a href="http://hl7.org/fhir/R4/http.html#version-parameter" target="_blank" title="http://hl7.org/fhir/R4/http.html#version-parameter">http://hl7.org/fhir/R4/http.html#version-parameter</a></p>
<blockquote>
<p>When used in an HTTP request, the version parameter may be used on either the Content-Type header, or the Accept header, or both, and applies to the entire interaction (the behavior of the interactions as described on ths page, the search parameters and functionality, and the accompanying conformance resources)</p>
</blockquote>



<a name="184025606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184025606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184025606">(Dec 21 2019 at 20:59)</a>:</h4>
<p>Thanks! I'm interested to get <span class="user-mention" data-user-id="191318">@nicola (RIO/SS)</span>'s  take on this approach. It seems to split the difference and between "replace vs augment", but I'm not sure it addresses Nicola's concern.</p>



<a name="184025746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184025746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184025746">(Dec 21 2019 at 21:03)</a>:</h4>
<p>no but in the sense that it doesn't, that's the bigger question.  We aren't going to start enforcing backwards compatibility until we call things normative. Our main focus for R5 is to move things to that state. People can be impatient,  but it's a big challenge to get to that state. Compared to other things that are going to  change, this is not a big deal. </p>
<p>Otherwise, a lot of people will just stick with R4 completely</p>



<a name="184025807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184025807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184025807">(Dec 21 2019 at 21:04)</a>:</h4>
<blockquote>
<p>Would you apply this reasoning to changes in resource definitions/models as well? in other words for non-normative resources would you propose that we avoid changing the structure in a breaking way, and instead define new versions of them that can overlap in time? Or do you see this as a different sort of case because it's about API definition rather the data modeling?</p>
</blockquote>
<p>Yes - to all released resources and APIs. That's how the "compatibility" mindset can be cultivated.</p>



<a name="184026111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184026111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184026111">(Dec 21 2019 at 21:13)</a>:</h4>
<blockquote>
<p>no but in the sense that it doesn't, that's the bigger question.  We aren't going to start enforcing backwards compatibility until we call things normative. Our main focus for R5 is to move things to that state. People can be impatient,  but it's a big challenge to get to that state. Compared to other things that are going to  change, this is not a big deal. </p>
<p>Otherwise, a lot of people will just stick with R4 completely</p>
</blockquote>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> do you know a success story with such approach in any industry? We will always find a better way, even for normative parts. You recommended book - "In the Land of Invented Languages" - following mainline from this book - only real users will make language work, but you will not get them until 'normative' version :)</p>



<a name="184026165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184026165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184026165">(Dec 21 2019 at 21:15)</a>:</h4>
<p>You were talking about "working" standard - where normative status is less important than real usage?</p>



<a name="184026171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184026171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184026171">(Dec 21 2019 at 21:15)</a>:</h4>
<p>Or I didn't get you right?</p>



<a name="184026223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184026223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184026223">(Dec 21 2019 at 21:16)</a>:</h4>
<p>What is the problem to treat all FHIR releases as 'Normative'?</p>



<a name="184026229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184026229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184026229">(Dec 21 2019 at 21:17)</a>:</h4>
<p>Or let say 'working'</p>



<a name="184028337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184028337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184028337">(Dec 21 2019 at 22:24)</a>:</h4>
<p>Implementers are a creative bunch.  In the right space, pretty much anything can be made to work.  Our objective in the STU phase is to move from our first theoretical stab at what might be workable to something we're pretty confident will be workable long-term.  That doesn't mean that we won't occasionally learn things 5 years down the road that will make us wish we'd taken a different approach, but we can significantly reduce the likelihood.  We <em>don't</em> want to be in a situation where we have to align forever with the very first (and possibly quite mistaken) initial first try of a spec because a group of implementers happen to have found a way to make it work for a portion of the problem space.  We need to keep in mind what's going to be best long term.  As implementers increase and the specification matures (level 4/5) we start considering impact of change on those who've already rolled out.  And, once we have a degree of confidence in the solution across the breadth of the space, we can lock it down.  Placing too high a premium on impact on initial developers (who were warned to prepare for breaking change) rather than on long-term breadth of coverage and ease of use is a trade-off we need to be wary of.</p>



<a name="184085789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184085789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184085789">(Dec 23 2019 at 06:21)</a>:</h4>
<p><span class="user-mention" data-user-id="191318">@nicola (RIO/SS)</span> sorry for the delay.. I'm having a life prior to Xmas</p>



<a name="184085796"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184085796" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184085796">(Dec 23 2019 at 06:21)</a>:</h4>
<p>I thnk that your concerns are very important, but I also think that you're looking at it from the wrong point of view.</p>



<a name="184085857"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184085857" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184085857">(Dec 23 2019 at 06:23)</a>:</h4>
<p>we could indeed maintain backwards compatibility in the API by duplicating things. Yes, we could have Patient1, Patient2, etc. At least for a couple of resources, we'd be up to #3. </p>
<p>I don't know, on the other hand, how that would work at all for some of the API things... we've just made breaking changes to everything. In practice, systems maintain backward compatibility by still maintaining older APIs for those things.... in fact, hold that thought.</p>



<a name="184085907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184085907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184085907">(Dec 23 2019 at 06:25)</a>:</h4>
<p>If we did clone resources when their design changes, so that we have Patient1 and Patient2, which are inconsistent with each other... would a client addressing Patient1 see the same set of patients as a client working with Patient2? Or would they be disjoint subsets? </p>
<p>Would an AllergyIntolerance resource reference Patient1? or Patient2? How would that work?</p>



<a name="184085924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184085924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184085924">(Dec 23 2019 at 06:26)</a>:</h4>
<p>Early on, we decided that the set of questions that brings up were places we just didn't want to go - supremely messy. If servers want to be backwards compatible, they can do it using the API as a group.</p>



<a name="184085955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184085955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184085955">(Dec 23 2019 at 06:26)</a>:</h4>
<p>And, in fact, that's exactly what is happening - we define a new spec, but most servers go on supporting the older versions as well as the new versions.</p>



<a name="184085966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184085966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184085966">(Dec 23 2019 at 06:27)</a>:</h4>
<p>your concern is a software concern, not an API spec concern, and all our tools support releases 2,3, and 4, and I still make bug fixes for R2 (made one yesterday). And the reference implementations all support R2 - R4 as well. Further, we provide bi-directional conversion code</p>



<a name="184086017"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184086017" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184086017">(Dec 23 2019 at 06:29)</a>:</h4>
<p>so I think that we do take backwards compatibility extremely seriously. Just like other infrastructure providers. But we do restrict the chaos by limiting the compatability by major version. Maybe an infrastructure software provider like kubernetes has an easier task than we do - I don't know. But I know that FHIR is not an application development framework, it's an interoperability standard, and so it's a different beast</p>



<a name="184086080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184086080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184086080">(Dec 23 2019 at 06:31)</a>:</h4>
<p>but I do think that the place at which to ask about compatibility is <em>software</em>. And so if you think that supporting both the different ways of doing subscriptions is a problem for software (servers), then I'm all ears. But I think that the conversion example above shows that it won't be too hard (though I will implement it and check!)</p>



<a name="184089650"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184089650" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184089650">(Dec 23 2019 at 08:13)</a>:</h4>
<p>Thank you Grahame. I will try to incorporate this vision into our "software". We and  many people look at FHIR broader than just interop standard,  but as "software platform specification" , that's why expectations are so high. I haven't seen yet "true" multiversion FHIR server implemented  - but challenge is accepted! ;)</p>



<a name="184331101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184331101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184331101">(Dec 27 2019 at 16:46)</a>:</h4>
<blockquote>
<p>If I'm right that this is the same functionality, we should add this as an example and make a note on the page about this <span class="user-mention silent" data-user-id="222054">Gino Canessa</span></p>
</blockquote>
<p>Hopefully in my branch today, otherwise next week.  I will need people more familiar with R4 to review it then, but in broad strokes:</p>
<p>R4-REST:<br>
<em>Ping</em> was requested by leaving off the <code>payload</code> field, which I believe maps to <code>contentType="application/fhir+json; fhir-version: 4.0"</code> with <code>content="empty"</code>.  This will be different for the receiver, as the POST is a bundle instead of empty body (will note).</p>
<p><em>Full Resource</em> was requested by setting the <code>payload</code> field to a valid content-type, which I believe now maps to <code>contentType="application/fhir+json; fhir-version: 4.0"</code> with <code>content="full-resource"</code>.  This will be different for the receiver as well, since the POST will be a bundle instead of a resource (will note).</p>
<p>ID-only is not available in R4, so there is no mapping for it.</p>
<p>R4-WebSockets:<br>
We are still fleshing out WebSockets in R5 - is there any concern about backwards compatibility/mapping for the protocol here (e.g., the requests I've had were to bring functionality up to par with REST, which makes it generally incompatible)?</p>



<a name="184337433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184337433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184337433">(Dec 27 2019 at 18:55)</a>:</h4>
<p>The issue of how and whether to continue supporting R4 Subscriptions is very relevant and unresolved for the Google Cloud implementation. We have something like a multi-version FHIR server - you can't intermingle resources from different versions in one store, but the server is the same. In a DSTU2 store with DSTU2 resources, you can do STU3/R4 API things like PATCH, Patient/$everything with _since, search with _has, etc. Any functionality will typically be available across versions if it doesn't directly conflict with other versions (e.g. DSTU2's conformance statement and _sort syntax).</p>
<p>Our subscriptions support has been sitting in alpha for quite a while, in part because we're not sure if it would be more useful to our users to have an R4 implementation with arbitrary limitations on active subscriptions per store, or force everyone into an R5 style API that we are more comfortable scaling up, or find a way for them to co-exist. So I am definitely sympathetic to Nicola's concerns, because our end goal is to offer a consistent level of API functionality regardless of what resources are being used. But that level has to satisfy certain use cases, and R4 subscriptions don't.</p>
<p>(As a side note, occasionally I get asked to support true multi-version stores with mixed resources. This is technically feasible but we have chosen not to do it - I don't think people asking for it have really considered how difficult it would be to use and how weird it would get.)</p>



<a name="184349269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184349269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184349269">(Dec 27 2019 at 23:18)</a>:</h4>
<p>what weirdness have you identified?</p>



<a name="184350704"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184350704" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184350704">(Dec 27 2019 at 23:59)</a>:</h4>
<p>Having searchset bundles containing a mix of versions presents functional challenges even if the client is capable of parsing such a bundle - we'd have to put the version somewhere in entry. If I'm searching for MedicationAdministration on a patient, can I _include both MedicationOrder and MedicationRequest?</p>
<p>References between versions - you can have an R4 Patient referenced by an STU3 Observation and referencing a DSTU2 Practitioner, that's probably easy to handle because those relationships were stable. Can I have a Reference(Any) field or a typed reference extension on an R4 resource that refers to a resource type that does not exist in R4? If I have a <code>0..*</code> reference field, it could also contain a mix of versions.</p>



<a name="184350907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184350907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184350907">(Dec 28 2019 at 00:04)</a>:</h4>
<p>Can I have a contained resource of a different version than its container? What does my capability statement say I support? How do I $export a mix of resources?</p>



<a name="184350925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Backward%20compatibility/near/184350925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Backward.20compatibility.html#184350925">(Dec 28 2019 at 00:05)</a>:</h4>
<p>There are so many details that haven't been explored. Really what people are saying is "I am getting data from sources in a variety of FHIR versions, how should I deal with it?"</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
