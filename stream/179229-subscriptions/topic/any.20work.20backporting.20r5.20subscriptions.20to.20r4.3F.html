---
layout: page
title: "FHIR Chat  · any work backporting r5 subscriptions to r4? · subscriptions"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/index.html">subscriptions</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html">any work backporting r5 subscriptions to r4?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="191808426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/191808426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#191808426">(Mar 25 2020 at 20:43)</a>:</h4>
<p>I'd thought that I'd seen something about Basic somewhere, but now can't find it.</p>



<a name="191808715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/191808715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#191808715">(Mar 25 2020 at 20:46)</a>:</h4>
<p><a href="https://github.com/argonautproject/subscriptions/blob/master/backport-to-r4.md" title="https://github.com/argonautproject/subscriptions/blob/master/backport-to-r4.md">https://github.com/argonautproject/subscriptions/blob/master/backport-to-r4.md</a></p>



<a name="191810511"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/191810511" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#191810511">(Mar 25 2020 at 21:01)</a>:</h4>
<p>How basic!</p>



<a name="191811819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/191811819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#191811819">(Mar 25 2020 at 21:13)</a>:</h4>
<p>when I find a link for someone it technically counts as googling it, just less efficiently than normal and with fewer ads</p>



<a name="191811988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/191811988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#191811988">(Mar 25 2020 at 21:14)</a>:</h4>
<p>(You can always paste ads here. Pretty sure our community guidelines don't address this... yet.)</p>



<a name="191834167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/191834167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#191834167">(Mar 26 2020 at 02:27)</a>:</h4>
<p>With the cms deadline for ADT notifications, and the r5 publication date  seemingly forever away -- I wonder if there aren't additional options for stabilizing our subscriptions work sooner, so that it can be used in prod.</p>



<a name="191834338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/191834338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#191834338">(Mar 26 2020 at 02:30)</a>:</h4>
<p>I think that subscriptiontopic (and the changes to subscription) are stable, why must we wait for the rest of r5 to use it? I don't consider a profile on basic to be sufficiently accessible to implementers.</p>



<a name="191835637"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/191835637" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#191835637">(Mar 26 2020 at 02:57)</a>:</h4>
<p>They aren't all that stable right now given that I have a backlog of items to update (modeling changes around the bundles+extensions is major, plus a laundry list of minor ones).</p>
<p>Been slightly derailed, or the next pass would be up already.<br>
Edit: current plan is to have it up before April 1.</p>



<a name="191835788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/191835788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#191835788">(Mar 26 2020 at 03:00)</a>:</h4>
<p>Thanks, Gino. I'm pretty sure that the adt notifications requirement is six months from now-ish. What are creative ways to enable fhir subscriptions to meet this requirement?</p>



<a name="191836240"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/191836240" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#191836240">(Mar 26 2020 at 03:10)</a>:</h4>
<p>No problem Isaac.  I'm trying to get this done as aggressively as possible and I'm hopeful that after the next pass we'll be done with breaking changes (the April 1 deadline is so that we can test at the Connectathon in May).</p>
<p>I'd say that we should know where we stand after the Connectathon.  Assuming nothing else major pops up, the models will pretty much be what we need for ballot in the following cycle.  With push from (announcer voice) vendors like you! (/announcer voice), we can try to accelerate more, but I'm drawing a blank on how (will think on it).</p>



<a name="191840403"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/191840403" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#191840403">(Mar 26 2020 at 04:56)</a>:</h4>
<p>Theoretically we could do an STU update.  Technically those can happen without ballot, though we'd have to squint pretty hard to decide that was an appropriate mechanism for such a radical revamp.  Tricky bit is that if we wanted to ballot, the earliest we could do at this point would likely be Sept. - though we might be able to push for an out-of-cycle and do the balloting sooner.</p>



<a name="191875919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/191875919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#191875919">(Mar 26 2020 at 12:24)</a>:</h4>
<p>Until that time, would it be possible to add Extensions to R4 Subscription to handle the basic use cases and address the issues?</p>



<a name="191896253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/191896253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#191896253">(Mar 26 2020 at 14:57)</a>:</h4>
<p>We've looked at this before, and I'm not sure it's possible to merge the two with all of the breaking changes.  Once I have the next pass of updates done I'll revisit to see if it's possible (and encourage everyone else to do the same).</p>



<a name="192069923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/192069923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#192069923">(Mar 27 2020 at 19:39)</a>:</h4>
<blockquote>
<p>Until that time, would it be possible to add Extensions to R4 Subscription to handle the basic use cases and address the issues?</p>
</blockquote>
<p>We started there and decided to use Basic instead... Why is using Basic a problem?</p>



<a name="192070405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/192070405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#192070405">(Mar 27 2020 at 19:44)</a>:</h4>
<p>In my opinion, because of the depth of the extensions necessary to turn basic into a useful Resource.  If we add capabilities to Subscription, we can minimize the need for customization.</p>



<a name="192286887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/192286887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#192286887">(Mar 30 2020 at 17:09)</a>:</h4>
<blockquote>
<p>In my opinion, because of the depth of the extensions necessary to turn basic into a useful Resource. If we add capabilities to Subscription, we can minimize the need for customization.</p>
</blockquote>
<p>Have you looked at the<a href="https://github.com/argonautproject/subscriptions/blob/master/backport-to-r4.md" title="https://github.com/argonautproject/subscriptions/blob/master/backport-to-r4.md">Backported R5 Subscrition proposal</a>?  Is not deeply nested extensions rather a single json string...</p>
<p>e.g.</p>
<div class="codehilite"><pre><span></span>{
  &quot;resourceType&quot;: &quot;Basic&quot;,
  &quot;code&quot;: {
    &quot;coding&quot;: [
      {
        &quot;system&quot;: &quot;http://hl7.org/fhir/resource-types&quot;,
        &quot;code&quot;: &quot;R5Subscription&quot;
      }
    ]
  },
  &quot;subject&quot;: {
    &quot;reference&quot;: &quot;Patient/58&quot;
  },
  &quot;extension&quot;: [
    {
      &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/json-embedded-resource&quot;,
      &quot;valueString&quot;: &quot;{\&quot;resourceType\&quot;:\&quot;Subscription\&quot;,\&quot;channel\&quot;:{\&quot;endpoint\&quot;:\&quot;https://client.subscriptions.argo.run/Endpoints/b962286c-d1c6-4b13-a409-8df2a7208fb8\&quot;,\&quot;header\&quot;:[],\&quot;heartbeatPeriod\&quot;:60,\&quot;payload\&quot;:{\&quot;content\&quot;:\&quot;id-only\&quot;,\&quot;contentType\&quot;:\&quot;application/fhir+json\&quot;},\&quot;type\&quot;:{\&quot;coding\&quot;:[{\&quot;code\&quot;:\&quot;rest-hook\&quot;,\&quot;display\&quot;:\&quot;Rest Hook\&quot;,\&quot;system\&quot;:\&quot;http://terminology.hl7.org/CodeSystem/subscription-channel-type\&quot;,\&quot;userSelected\&quot;:false}],\&quot;text\&quot;:\&quot;REST Hook\&quot;}},\&quot;end\&quot;:\&quot;2019-09-20T15:21:28.427Z\&quot;,\&quot;eventCount\&quot;:0,\&quot;filterBy\&quot;:[{\&quot;matchType\&quot;:\&quot;=\&quot;,\&quot;name\&quot;:\&quot;patient\&quot;,\&quot;value\&quot;:\&quot;Patient/58\&quot;}],\&quot;reason\&quot;:\&quot;Client Testing\&quot;,\&quot;status\&quot;:\&quot;requested\&quot;,\&quot;topic\&quot;:{\&quot;reference\&quot;:\&quot;https://server-r4.subscriptions.argo.run/Basic/1\&quot;}}&quot;
    }
  ]
}
</pre></div>



<a name="192295260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/192295260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#192295260">(Mar 30 2020 at 18:06)</a>:</h4>
<p>What I see there, if I'm reading it correctly, is that you've embedded a resource in a valueString.  I'm not sure that's better than nested extensions nor better than profiling the R4 Subscription resource.  It's likely that I'm coming into this late and the reason for this design isn't clear to me.</p>



<a name="192297626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/192297626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#192297626">(Mar 30 2020 at 18:24)</a>:</h4>
<p>No worries!  From my perspective:</p>
<ul>
<li>There are multiple resources needed (e.g., <code>Subscription</code>, <code>SubscriptionTopic</code>).  Using <code>Basic</code> lowers the implementation burden as far as endpoints, etc.</li>
<li>Various fields in <code>Subscription</code> have moved and/or been renamed - this requires mapping in addition to extensions.</li>
<li>Clarity for versioning (e.g., no interference with existing R4 implementations)</li>
<li><code>Basic</code> works.</li>
<li>R5 is still under development.<ul>
<li>Any R4 modeling would need to be updated consistently.</li>
<li>I haven't heard of anyone volunteering to model the extensions and mappings and keep them in sync.</li>
</ul>
</li>
</ul>
<p>Beyond that, both the 'how' on defining notification triggers and the 'what' of payloads are quite different.  I'm unclear what the advantage is for trying to conflate the two versions, given that an implementation would likely just fork out one vs. the other anyway.</p>



<a name="192299191"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/192299191" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#192299191">(Mar 30 2020 at 18:37)</a>:</h4>
<p>I personally think this is better than adding a dozen extensions or really complex extensions to Subscription</p>



<a name="192300307"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/192300307" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#192300307">(Mar 30 2020 at 18:47)</a>:</h4>
<p>You're probably right. If the goal is to duplicate R5 in R4, then this is likely better/easier.  I was hoping that we could put a uncomplicated fix in to the R4 resource to make something usable for now and let the R5 one get more mature.</p>



<a name="192300549"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/192300549" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#192300549">(Mar 30 2020 at 18:48)</a>:</h4>
<p>Haven't figure out a path for that - if it were just adding a few fields we wouldn't have needed a redesign.</p>



<a name="192300971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/192300971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#192300971">(Mar 30 2020 at 18:51)</a>:</h4>
<p>That makes good sense</p>



<a name="194500244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194500244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194500244">(Apr 17 2020 at 21:08)</a>:</h4>
<p>Getting  back to this, I know Gino is really swamped with many more urgent tasks. In the mean time, is there anything that I can help with the state of R5 subscription, notification and topic changes in the current build? Is there a need to prepare for WG approvals? I am hoping that if there is a decent R5 set of proposed changes, there can be a second look at the Argonaut Subcriptions IG that can go beyond using the Basic resource.</p>



<a name="194502552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194502552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194502552">(Apr 17 2020 at 21:32)</a>:</h4>
<p>Vassil, you have great timing!  I am cleaning up the build right now to push the next pass of changes up.  I hope to have it before end of business today.</p>
<p>From there, I am hopeful that it's mostly documentation (writing/reviewing/etc.).</p>



<a name="194507984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194507984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194507984">(Apr 17 2020 at 22:28)</a>:</h4>
<p>Great! Is this the R5 CI build?</p>



<a name="194508403"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194508403" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194508403">(Apr 17 2020 at 22:34)</a>:</h4>
<p>Yes, still in the branch I've been working on for now.  Unfortunately the resource changes/renames are difficult to sort through.</p>



<a name="194517878"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194517878" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194517878">(Apr 18 2020 at 00:57)</a>:</h4>
<p>Blah.  Issues with the new bundle type and sorting out all the invariants.  Giving up for tonight.</p>



<a name="194522119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194522119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194522119">(Apr 18 2020 at 02:48)</a>:</h4>
<p>If you want to share your branch, I can try to help in figuring these out next week...</p>



<a name="194565128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194565128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194565128">(Apr 18 2020 at 21:45)</a>:</h4>
<p>I don't think there is  an easy way to backport to R4 as discussed above the R4 and R5 are completely different and trying to shoehorn in extensions into R4 is more complex and more work that the proposed Basic approach.</p>



<a name="194565485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194565485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194565485">(Apr 18 2020 at 21:54)</a>:</h4>
<p>I would much rather that the R5 subscription adaptation in R4 still be an actual Subscription. What is the problem with just using extensions?</p>



<a name="194574943"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194574943" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194574943">(Apr 19 2020 at 02:34)</a>:</h4>
<p>This is the difference between the two:<br>
<a href="/user_uploads/10155/WW_SwMxC5VnEs-42Bz2uUzKq/image.png" title="image.png">image.png</a> <br>
And SubscriptionTopic doesn't even exist in R4, and is a critical component.</p>
<div class="message_inline_image"><a href="/user_uploads/10155/WW_SwMxC5VnEs-42Bz2uUzKq/image.png" title="image.png"><img src="/user_uploads/10155/WW_SwMxC5VnEs-42Bz2uUzKq/image.png"></a></div>



<a name="194586873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194586873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194586873">(Apr 19 2020 at 08:52)</a>:</h4>
<p>so put some random fixed value in criteria, and use extensions for the other things.... then you're still using Subscription</p>



<a name="194586880"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194586880" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194586880">(Apr 19 2020 at 08:52)</a>:</h4>
<p>SubscriptionTopic isn't so obvious so I didn't raise that one...</p>



<a name="194586886"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194586886" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194586886">(Apr 19 2020 at 08:53)</a>:</h4>
<p>but hiding R5 resources inside basic.... I don't know why to even bother</p>



<a name="194603859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194603859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194603859">(Apr 19 2020 at 15:47)</a>:</h4>
<p>I was thinking for SubscriptionTopic we could actually have an extension that used valueReference(Binary), where the Binary would actually be the R5 SubscriptionTopic resource content.</p>



<a name="194723896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194723896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194723896">(Apr 20 2020 at 19:49)</a>:</h4>
<p>Or even, an extension in R4 Subscription pointing to a canonical, non-resolvable SubscriptionTopic, and then the R4 IG's define the meaning of the topic using language that equates to an R5's SubscriptionTopic's elements.</p>



<a name="194735857"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194735857" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194735857">(Apr 20 2020 at 21:27)</a>:</h4>
<p>To be clear, I'm not opposed to something "more modeled", but I would like to get the R5 version sorted first.  If we're still modifying those (which we are), then we're just multiplying our work.  This was one of the reasons <code>Basic</code> was proposed when we were pressed for something last year.</p>
<p>That said, if we want to go with a more defined backport for R4:</p>
<ul>
<li><code>Subscription</code> needs extensions/mappings</li>
<li>Need a way to define and link to a <code>SubscriptionTopic</code></li>
<li>Payloads need sorting: current R5 is a new type of <code>Bundle</code> (<code>subscription-notification</code>) containing a new resource (<code>SubscriptionStatus</code>)</li>
<li>anything I've missed? (spent a few minutes thinking, but I haven't been thorough)</li>
</ul>
<p>Nothing feels insurmountable, but there's work there.  I'm happy to help sketch out what is needed, but I don't have cycles to spare until the R5 stuff is ready.</p>



<a name="194736851"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194736851" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194736851">(Apr 20 2020 at 21:37)</a>:</h4>
<p>Perhaps a meeting could be scheduled for this just to review?  I think I have cycles that could be used to work on the backport</p>



<a name="194743410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194743410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194743410">(Apr 20 2020 at 22:54)</a>:</h4>
<p>I am also interested in a meeting.</p>



<a name="194747030"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194747030" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194747030">(Apr 20 2020 at 23:52)</a>:</h4>
<p>I am not....I am am curious why there is a rush to discard the current Basic approach which is easy peasy and straightforward but lets go ahead and make it insanely complicated. ... I thought about adding all these extensions to R4 Subs a year ago when @Josh  ( or @GIno or somebody smarter than me) suggested Basic <a href="https://github.com/argonautproject/subscriptions/blob/master/backport-to-r4.md" title="https://github.com/argonautproject/subscriptions/blob/master/backport-to-r4.md">his reasoning</a> then is equally sound today.</p>



<a name="194772837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194772837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194772837">(Apr 21 2020 at 08:23)</a>:</h4>
<p>Others think the Basic approach is complicated and their approach simpler.  There's no hard and fast rule as to what is easy or hard, it depends on what the assessor of easy/hard is comfortable with.  Rework of any approach sucks, but later rework sucks a lot more than earlier rework.  So it might be worth rehashing.  Your mileage may vary.</p>



<a name="194780152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194780152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194780152">(Apr 21 2020 at 09:43)</a>:</h4>
<p>I don't like the Basic use for subscription because subscription gets special treatment in the server. I don't really want to look at Basic like that</p>



<a name="194824990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194824990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194824990">(Apr 21 2020 at 16:08)</a>:</h4>
<p>Josh initially proposed <code>Basic</code>, but we both fleshed it out with feedback from the Argonaut (and other group) calls.</p>
<p>If implementers think another solution is better now... that's why we do this over time and in the open.  I will stand with Past-Me that <code>Basic</code> was the right call at the time.  I'll even go as far as to say that I'd prefer continuing with <code>Basic</code> until the R5 version is ready for ballot because:</p>
<ul>
<li>I don't want to thrash on this</li>
<li>I don't want backporting to interfere with new development<ul>
<li>double the work (core and extensions need updating)</li>
<li>change resistance from the extra work</li>
<li>trying to shoehorn things in instead of defining them properly</li>
<li>etc.</li>
</ul>
</li>
</ul>
<p>Personally, I think we need to focus on the getting it right for R5 before spending effort backporting (e.g., documenting and revising the current models on <a href="http://build.fhir.org/branches/argonaut-subscription/subscription.html" title="http://build.fhir.org/branches/argonaut-subscription/subscription.html">this branch</a> so it can be merged into master and we can have a good connectathon).  Just looking at the models from when <code>Basic</code> was proposed versus where the models are today, they are vastly different.</p>
<p>With all of that said, if people want to spend time on it - it's not my time to spend  :-).</p>



<a name="194841484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194841484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194841484">(Apr 21 2020 at 18:14)</a>:</h4>
<p>Being able to perform 'special behavior' for Basic resources will, I think, be somewhat normal...</p>



<a name="194852378"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194852378" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194852378">(Apr 21 2020 at 19:48)</a>:</h4>
<p><span class="user-mention" data-user-id="222054">@Gino Canessa</span> I typiclly cut a new version to support the connectathon 5-6 weeks before the connectathon so that people have a stable version to target. I have not done that this time, but I've been asked to do it now. The subscription track is the primary user of R5 in the coming connectathon - what is the likely course towards a stable version?</p>



<a name="194853603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194853603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194853603">(Apr 21 2020 at 19:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , I'm fixing an error Josh noticed (made the channel type a <code>code</code> instead of <code>Coding</code>) right now, but hope to have that pushed in the next few minutes (taking longer because I'm fixing all the codes that are used in multiple resources to be value sets as well).</p>
<p>Documentation is lagging, but as far as I know this has all* the model changes that have been sent to me.  As of right now, we asked for a slot on Monday's FHIR-I call to look it over before merging into the master branch, but to my knowledge that isn't a requirement - so it can be done any time people are happy with it.</p>
<p>*There is one that's been brought up to me but not discussed: adding the ability to define a <code>SubscriptionTopic</code> trigger based on an defined event e.g.: system: HL7V2, code: GMC-C3456789.  I think it makes sense, but would prefer discussion before adding it.</p>



<a name="194853746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194853746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194853746">(Apr 21 2020 at 20:00)</a>:</h4>
<p>so early next week after the FHIR-I call then</p>



<a name="194853868"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/194853868" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#194853868">(Apr 21 2020 at 20:01)</a>:</h4>
<p>That would be my preference.</p>



<a name="197720020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197720020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197720020">(May 15 2020 at 16:49)</a>:</h4>
<p>Hey all, this is a topic at our connectathon that came up and I want to make sure I understand the desired endstate and use cases for the backport. We were considering having a breakout on this. If I look at one of the use cases that <span class="user-mention" data-user-id="191864">@Isaac Vetter</span>  brought up, it was to meet an upcoming CMS use case around ADT. I am curious if there are others.</p>



<a name="197720256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197720256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197720256">(May 15 2020 at 16:51)</a>:</h4>
<p>Some thoughts: this isn't "backporting" R5 to R4, since R5 won't be released in time/timing of R5 is the main driver of the backport. Given that, we're actually going to need to choose a snapshot to backport. As an example, even the changes in build today have trackers we're logging during the connectathon.</p>



<a name="197720399"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197720399" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197720399">(May 15 2020 at 16:51)</a>:</h4>
<p>So even if we think it's "stable" I would assume we'll get feedback to change between the final ballot version for R5 and the final R5. I think that's fine, but want to make sure this is a shared understanding</p>



<a name="197720492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197720492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197720492">(May 15 2020 at 16:52)</a>:</h4>
<p>Second, as a personal opinion: I don't think the target would be to back patch a fully functional R5-like subscription. You may need to give up some functionality to make sure it's "simple"</p>



<a name="197720564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197720564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197720564">(May 15 2020 at 16:53)</a>:</h4>
<p>In that hope, understanding what people want to use this for will help identify what all we need to worry about</p>



<a name="197720597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197720597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197720597">(May 15 2020 at 16:53)</a>:</h4>
<p>IE: does dynamic topic query qualify as a "must have" ?</p>



<a name="197720693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197720693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197720693">(May 15 2020 at 16:54)</a>:</h4>
<p>Or would agreement out of band work for that? IE: here are the canonical "topics" I support (meets the ADT use case), and an extension (there would be more than one) on subscription to define which they are subscribing to?</p>



<a name="197720731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197720731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197720731">(May 15 2020 at 16:54)</a>:</h4>
<p>Jenni - I think that there really is a narrow, do-able path for a backport, involving: rest-hooks only, id-only only, canonical topics only and Notifications. cc/ <span class="user-mention" data-user-id="192587">@David Pyke</span> <br>
Would it make sense to talk about this today?</p>



<a name="197720837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197720837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197720837">(May 15 2020 at 16:55)</a>:</h4>
<p>It would be great if we could find a time. <span class="user-mention" data-user-id="222054">@Gino Canessa</span>  <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191387">@Keith Boone</span>  not sure if you all are available or interested?</p>



<a name="197720848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197720848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197720848">(May 15 2020 at 16:55)</a>:</h4>
<p>I'm good with where things stand.  As we've end-run the need for the project I'm working on and will move to R5 subscriptions when released, I'm happy.</p>



<a name="197720854"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197720854" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197720854">(May 15 2020 at 16:55)</a>:</h4>
<p>I'm cleaning up a list of issues I've run into while tinkering with the backport stuff.  I can post it here and hopefully we can chat.</p>



<a name="197720946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197720946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197720946">(May 15 2020 at 16:56)</a>:</h4>
<p>I'm fairly flexible after about the next hour.</p>



<a name="197722613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197722613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197722613">(May 15 2020 at 17:08)</a>:</h4>
<p>Availability is uncertain.  My primary objective is to be able to point to something that's implementable in R4 that EHRs are actually likely to roll out (given that the consensus seems to be that the subscription approach defined in R4 is problematic).  Some of Da Vinci just needs to be able to monitor for the response to a request (so Task or maybe something else).  The Notification project has a bit wider requirements</p>



<a name="197728456"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197728456" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197728456">(May 15 2020 at 17:54)</a>:</h4>
<p>I'm interested, but it's not clear whether i missed this?</p>



<a name="197729535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197729535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197729535">(May 15 2020 at 18:01)</a>:</h4>
<p>Hasn't had an agreed-to time yet</p>



<a name="197729590"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197729590" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197729590">(May 15 2020 at 18:01)</a>:</h4>
<p>We talked some in the earlier meet-time, and would welcome more at the next at 5:00 EDT.</p>



<a name="197730837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197730837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197730837">(May 15 2020 at 18:11)</a>:</h4>
<p>well, I'm awake and I don't yet have other break outs</p>



<a name="197731175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197731175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197731175">(May 15 2020 at 18:14)</a>:</h4>
<p>Sounds good.  Jenni is in another meeting for the next hour or so, but the <a href="https://zoom.us/j/2565638242">room</a> is open for discussion any time beyond the check-in as well.</p>



<a name="197745699"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197745699" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197745699">(May 15 2020 at 20:01)</a>:</h4>
<p>We have talked about this ADT using Backported Subscriptions specifically for DaVinci Notifications next R4 version.  So I would like to be involved</p>



<a name="197745898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197745898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197745898">(May 15 2020 at 20:03)</a>:</h4>
<p>We can talk about this at our normal 5 EDT Subscription check in if you all can join <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  <span class="user-mention" data-user-id="191401">@Eric Haas</span> <span class="user-mention" data-user-id="191864">@Isaac Vetter</span> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="197746042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197746042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197746042">(May 15 2020 at 20:04)</a>:</h4>
<p>zoom link so you don't have to go to the track page: <a href="https://zoom.us/j/2565638242">https://zoom.us/j/2565638242</a></p>



<a name="197752132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197752132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197752132">(May 15 2020 at 21:04)</a>:</h4>
<p><span class="user-mention" data-user-id="191864">@Isaac Vetter</span>  were you going to be able to join or conflicts?</p>



<a name="197758822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197758822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197758822">(May 15 2020 at 22:19)</a>:</h4>
<p>Here's my attempt at a summary of the May 2020 Connectathon break out call where we discussed this:</p>
<ul>
<li>Use cases are primarily to get subscription functionality as fast as possible - waiting until R5 is final won't work</li>
<li>It is ok to target to specific use case needs<ul>
<li>Limit to RestHook and email (public health and ADT notifications, DaVinci needs fit here)</li>
<li>The SubscriptionTopic agreement can be out of band - not dynamic as R5 allows today.</li>
<li>limit to id-only and empty</li>
</ul>
</li>
<li>Goal: A small IG that defines how to do this<ul>
<li>limited to use cases above</li>
<li>Target date is Sept. DaVinci (or other IGs) can reference the Ballot version.</li>
<li>Done as part of the Subscription PSS, but will need to follow IG proposal process</li>
<li>Will need to be wrapped up by June to meet Sept timeline</li>
<li><span class="user-mention" data-user-id="191401">@Eric Haas</span>  will help with the IG editing/process</li>
<li><span class="user-mention" data-user-id="222054">@Gino Canessa</span>  <span class="user-mention" data-user-id="191864">@Isaac Vetter</span>  and <span class="user-mention" data-user-id="191356">@Jenni Syed</span>  will work on getting examples drafted for extensions on Subscription and the notification (history bundle) with extensions vs. what Basic would look like.</li>
</ul>
</li>
<li>Challenges<ul>
<li>History bundle may be wonky still. <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  will look at what we propose and see what other options we may have.</li>
<li>We think the Topic canonical URL can be provided on Subscription as an extension to indicate topic, could reuse criteria for filters?</li>
</ul>
</li>
</ul>



<a name="197758836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197758836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197758836">(May 15 2020 at 22:19)</a>:</h4>
<p>Let me know if I missed something you all want in there or misstated</p>



<a name="197759203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197759203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197759203">(May 15 2020 at 22:24)</a>:</h4>
<p>just a clarification, we'd also limit to "id-only", right?</p>



<a name="197759415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197759415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197759415">(May 15 2020 at 22:27)</a>:</h4>
<p>I'd lean towards <code>empty</code> and <code>id-only</code> since that's what we landed on for all the other Argonaut pieces (long discussions around them)</p>



<a name="197759543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197759543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197759543">(May 15 2020 at 22:28)</a>:</h4>
<p>I added it above, but <span class="user-mention" data-user-id="191401">@Eric Haas</span>  may need to confirm</p>



<a name="197771443"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197771443" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197771443">(May 16 2020 at 02:22)</a>:</h4>
<p>(deleted)</p>



<a name="197772288"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197772288" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197772288">(May 16 2020 at 02:43)</a>:</h4>
<p>I agree that this IG should focus on empty and id-only but disagree that the we constrain out resource.  I was under the impression the IG would talk cover the content model and transactions  but all the  business externalities that cover safety and security and risk are version agnostic and don't need to be rewritten.   I think that there will be use case where they want to push resources.</p>



<a name="197801278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/197801278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#197801278">(May 16 2020 at 15:38)</a>:</h4>
<p>For me, the concern is what it means to be compliant with the IG.  I don't intend to mean <code>full-resource</code> is be prohibited, but rather that <code>empty</code> and <code>id-only</code> are required for compliance, while servers may choose whether or not to implement <code>full-resource</code>.</p>
<p>This is based on the feedback that many servers do not intend to support <code>full-resource</code> until more of the security implications are understood.</p>



<a name="198019432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/198019432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#198019432">(May 19 2020 at 03:45)</a>:</h4>
<p>R4 Subscriptions next steps...</p>
<ol>
<li>agreed to publish R4 IG ASAP (FHIR-I/Argo) - limited scope for R4</li>
<li>Gino to write/I'll help edit and publish it.</li>
</ol>
<p>What about the ADT use case? :</p>
<ul>
<li>add to Argo guide  or  DaVinci?</li>
</ul>



<a name="198019585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/198019585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#198019585">(May 19 2020 at 03:49)</a>:</h4>
<p>Eric, I'd suggest that adding this to the da vinci guide would have the broader impact.</p>



<a name="198936763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/198936763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#198936763">(May 27 2020 at 19:01)</a>:</h4>
<p>Backport notification question: while talking with <span class="user-mention" data-user-id="191315">@Josh Mandel</span> earlier today, he brought up the idea of making the notifications closer to the R5 versions by making <code>Bundle.entry[0]</code> be a <code>Basic</code> with all the extensions we need instead of putting them on <code>Bundle.meta</code>.</p>
<p>I feel like it's more in line with R5 (easier for consumers to migrate), and will allow extensions on the root level instead of in meta.  But, it's a change from what's been discussed, so figured I would put it out there...  Thoughts?</p>



<a name="198970314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/198970314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#198970314">(May 28 2020 at 00:22)</a>:</h4>
<p>sounds good to me</p>



<a name="198970325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/198970325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#198970325">(May 28 2020 at 00:22)</a>:</h4>
<p>though you could also consider Parameters</p>



<a name="199059944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199059944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199059944">(May 28 2020 at 18:11)</a>:</h4>
<p>Parameters in R4 in Normative and states: </p>
<blockquote>
<p>This resource is a non-persisted resource used to pass information into and back from an operation. <strong>It has no other use</strong>, and there is no RESTful endpoint associated with it.</p>
</blockquote>
<p>So this would be breaking our own rules. ( not that we have not done that before)</p>



<a name="199061658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199061658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199061658">(May 28 2020 at 18:23)</a>:</h4>
<p>There is <a href="http://jira.hl7.org/browse/FHIR-26368">FHIR#26368</a> and the subsequent <a href="http://jira.hl7.org/browse/FHIR-26390">FHIR#26390</a> that try to address the use of Parameters beyond operations. This could be a use case for it, but arguably not in an IG based on R4.</p>



<a name="199063415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199063415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199063415">(May 28 2020 at 18:34)</a>:</h4>
<p>Hmm... I think I'd like to propose that we try to avoid such prohibitive text in the future.</p>
<p>Playing with all the variations, I've liked <code>Parameters</code> the best so far.  I guess that makes it a question for the group-at-large: can it be used here?  I can see the argument either way: the text prohibits it, but can an IG override?<br>
<span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span><br>
Edit: or can this be ignored?</p>



<a name="199069213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199069213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199069213">(May 28 2020 at 19:20)</a>:</h4>
<p>We already agreed that the text Eric quoted is too narrow, though I think that this is a case that meets that intent anyway</p>



<a name="199069356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199069356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199069356">(May 28 2020 at 19:20)</a>:</h4>
<p>so that text should not prevent using Parameters here</p>



<a name="199069459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199069459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199069459">(May 28 2020 at 19:21)</a>:</h4>
<p>If people are comfortable with it, that works for me.</p>



<a name="199083342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199083342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199083342">(May 28 2020 at 20:38)</a>:</h4>
<p><strong>Super</strong> early pass of the backport IG is online at <a href="https://argonautproject.github.io/subscription-backport-ig/">GH</a>.  Only parts of interest right now are the profiles, since documentation is essentially nonexistent (only partially-bulleted out).</p>
<p>Have a voice!  Thoughts and feedback welcome/encouraged.</p>



<a name="199174768"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199174768" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199174768">(May 29 2020 at 16:03)</a>:</h4>
<p>For those of you reviewing, I took a stab at an example Subscription in R5 (snapshot 2) and what it would look like in R4: <a href="https://github.com/argonautproject/subscription-backport-ig/issues/1">https://github.com/argonautproject/subscription-backport-ig/issues/1</a></p>



<a name="199174867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199174867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199174867">(May 29 2020 at 16:04)</a>:</h4>
<p>We would need to describe how to create the criteria... I assume it's using the resulting resource in Topic with the filter as query params, so that's what I modeled there</p>



<a name="199183133"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199183133" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199183133">(May 29 2020 at 17:07)</a>:</h4>
<p>I started adding the <a href="https://argonautproject.github.io/subscription-backport-ig/artifacts.html#example-example-instances">examples</a>.  If you see anything wrong, please let me know.</p>



<a name="199525447"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199525447" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199525447">(Jun 02 2020 at 17:26)</a>:</h4>
<p>Question: writing up the finer details on what's required for conformance with the guide vs. what is described and optional.  Right now, I am leaning towards the same restrictions we came up with during the Argonaut calls: <code>empty</code> and <code>id-only</code>, <code>rest-hook</code> are required, and everything else is optional.</p>
<p>Thoughts?</p>



<a name="199540586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199540586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199540586">(Jun 02 2020 at 19:22)</a>:</h4>
<p>ok, so out of the body/content you get, empty and id-only are required for the server to support, and then for channel type rest-hook?</p>



<a name="199540608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199540608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199540608">(Jun 02 2020 at 19:22)</a>:</h4>
<p>I don't know if I realized id-only was actually required :) lol.</p>



<a name="199540997"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199540997" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199540997">(Jun 02 2020 at 19:26)</a>:</h4>
<p>I assume that's the argo-specific one since the spec doesn't require it.</p>



<a name="199544114"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199544114" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199544114">(Jun 02 2020 at 19:53)</a>:</h4>
<p>Yeah, just trying to open discussion on it really.  We could say that any one supported combination is valid as well.</p>



<a name="199701546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199701546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199701546">(Jun 04 2020 at 03:23)</a>:</h4>
<p>Looking at <span class="user-mention" data-user-id="191356">@Jenni Syed</span>'s example, I wonder why <code>http://hl7.org/fhir/us/subscriptions-backport/StructureDefinition/backport-topic-canonical</code> is a modifier extension? What does it modify?</p>



<a name="199750363"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199750363" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199750363">(Jun 04 2020 at 13:58)</a>:</h4>
<p>I was originally wondering that as well, but realized it changes the interpretation of the criteria field</p>



<a name="199750434"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199750434" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199750434">(Jun 04 2020 at 13:58)</a>:</h4>
<p>IE: you can't just understand criteria to be able to send the notifications that the client requested</p>



<a name="199783323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199783323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199783323">(Jun 04 2020 at 17:41)</a>:</h4>
<p>My thought process is that linking to a <code>SubscriptionTopic</code> modifies the intention/processing of many other fields.  It changes the meaning of the subscription in a substantial way and if you cannot process the extension (e.g., you don't support topic-based subscriptions), you should not attempt to interpret the subscription request.</p>



<a name="199801449"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199801449" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199801449">(Jun 04 2020 at 20:01)</a>:</h4>
<blockquote>
<p>you can't just understand criteria to be able to send the notifications that the client requested</p>
</blockquote>
<p>This is not the same as 'it's a modifier extension'. Does it make the interpretation of the criteria wrong? My interpretation (of the undocumented example) was the criteria is incomplete, not interpreted differently</p>



<a name="199804206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199804206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199804206">(Jun 04 2020 at 20:26)</a>:</h4>
<p>At a high level, I thought that changing the processing from R4-style to R5-style would change the meaning enough to merit a modifier (since the resource has different meaning/must be interpreted differently).  If that isn't the case, I'm fine with changing it back to a regular extension.</p>
<p>My thinking is that if a server receives one of these subscription resources and don't use topics, the behavior will not match what the client expects (e.g., what is sent to the endpoint, when it is triggered, etc.).  I'm not sure what that entails across each endpoint type and if it would cause problems or not.  Since the subscription 'looks' otherwise valid, the server may begin processing it immediately.</p>



<a name="199805475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199805475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199805475">(Jun 04 2020 at 20:38)</a>:</h4>
<p>can we list out the ways in which it would be wrong explicitly? That will help decide the question</p>



<a name="199808298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199808298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199808298">(Jun 04 2020 at 21:04)</a>:</h4>
<p>Sure, here's a quick list (for the sake of current discussion).  This type of info should be included in the IG as well, but I am working on testing the implementation before I spend too much time documenting it (e.g., most of the info is still just in <a href="https://argonautproject.github.io/subscription-backport-ig/artifacts.html">artifacts</a>).</p>
<ul>
<li>Server-side<ul>
<li>Without a Topic, the criteria is evaluated as dataset to look for changes.</li>
<li>This may cause performance issues for the server<ul>
<li>Trying to trigger on every change to every observation (expecting the topic to filter for a particular set of interest)</li>
</ul>
</li>
<li>This may create a subscription for a completely different intention<ul>
<li>Particularly around method-based topic definitions (e.g., topics specifying 'delete' or 'create'), this will produce incorrect behavior</li>
</ul>
</li>
</ul>
</li>
<li>REST<ul>
<li>R4 subscriptions send an empty post to the endpoint.  Backported REST notifications POST a bundle.</li>
<li>Servers expecting a bundle will not process an empty post<ul>
<li>The server will think it is correctly sending notifications and the client will not be receiving them</li>
</ul>
</li>
</ul>
</li>
<li>Email<ul>
<li>The expectations around email are established differently in R5/backport (e.g., body is human-readable, attachments are machine-readable).</li>
<li>Paired with a server (potentially) sending too many messages, a server may get blacklisted, etc.</li>
</ul>
</li>
<li>Messaging<ul>
<li>This wasn't well defined in R4 either, so servers may have different implementations vs expectations</li>
</ul>
</li>
</ul>



<a name="199808957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199808957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199808957">(Jun 04 2020 at 21:11)</a>:</h4>
<p>so... the email thing doesn't sound different to me. At least, no different for my server. The Messaging thing doesn't seem clear. The server side things:</p>
<ul>
<li>performance issues - that doesn't change anything, so far as I can see. The issues already exist...</li>
<li>different intention. Because things might be missed? </li>
</ul>
<p>REST - so you're saying that the presence of that extension triggers different server behavior when sending notiifcations?</p>



<a name="199810139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199810139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199810139">(Jun 04 2020 at 21:23)</a>:</h4>
<p><span class="user-mention" data-user-id="222054">@Gino Canessa</span>  I been looking at the build and examples and playing with a simple custom liquid template for better visualization ...<br>
<a href="/user_uploads/10155/RslzuzSQztGwuGPtTuUOfEEd/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/RslzuzSQztGwuGPtTuUOfEEd/image.png" title="image.png"><img src="/user_uploads/10155/RslzuzSQztGwuGPtTuUOfEEd/image.png"></a></div>



<a name="199810345"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199810345" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199810345">(Jun 04 2020 at 21:25)</a>:</h4>
<p>I'll make a pr and create on for the bundle profiles as well</p>



<a name="199812612"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199812612" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199812612">(Jun 04 2020 at 21:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F/near/199808957">said</a>:</p>
<blockquote>
<ul>
<li>performance issues - that doesn't change anything, so far as I can see. The issues already exist...</li>
<li>different intention. Because things might be missed? </li>
</ul>
</blockquote>
<p>A topic will often specify a different intention from the criteria.  Blah, docs say you can have tables here, but they aren't working for me:</p>
<div class="codehilite"><pre><span></span><code>Topic Trigger                    | Criteria | Result
---------------------------------+----------+-------------------------------------------------------
Delete on Patient                | None     | Notification for every patient Created or Updated
Create on Patient                | None     | Notification for every patient Created or Updated
Create on vital sign observation | None     | Notification for every observation created or updated
</code></pre></div>


<blockquote>
<p>REST - so you're saying that the presence of that extension triggers different server behavior when sending notiifcations?</p>
</blockquote>
<p>Yes, a major part of the changes were to allow for  both subscription information and different levels of content(<code>empty</code>, <code>id-only</code>, or <code>full-resource</code>) in notifications.  The IG defines how to do that <a href="https://argonautproject.github.io/subscription-backport-ig/StructureDefinition-backport-subscription-notification.html">here</a>.</p>



<a name="199812707"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199812707" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199812707">(Jun 04 2020 at 21:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191401">Eric Haas</span> <a href="#narrow/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F/near/199810345">said</a>:</p>
<blockquote>
<p>I'll make a pr and create on for the bundle profiles as well</p>
</blockquote>
<p>I'm still using SUSHI for generating everything, so please be aware of that for the PR</p>



<a name="199815571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199815571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199815571">(Jun 04 2020 at 22:16)</a>:</h4>
<p>The presence of a topic extension changing the behavior of the channel doesn't sit well with me; we should be more explicit, I think.</p>



<a name="199815594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199815594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199815594">(Jun 04 2020 at 22:17)</a>:</h4>
<p>waht does Criteria = none mean?</p>



<a name="199815926"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199815926" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199815926">(Jun 04 2020 at 22:21)</a>:</h4>
<p>Just highlighting that with a Topic, no criteria is valid</p>



<a name="199815947"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199815947" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199815947">(Jun 04 2020 at 22:21)</a>:</h4>
<p>but it's a required element...</p>



<a name="199815950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199815950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199815950">(Jun 04 2020 at 22:21)</a>:</h4>
<p>Could just as easily be an additional filter (e.g., for a specific patient)</p>



<a name="199816044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199816044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199816044">(Jun 04 2020 at 22:22)</a>:</h4>
<p>Hmm.. missed that.  Would likely want to specify something like just the base resource in that scenario (e.g., allow <code>Encounter</code> for the criteria)</p>



<a name="199816108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199816108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199816108">(Jun 04 2020 at 22:23)</a>:</h4>
<p>so, there must be a criteria, and it must minimally specify the resource(s) that will appear in the channel</p>



<a name="199816120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199816120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199816120">(Jun 04 2020 at 22:23)</a>:</h4>
<p>is that a reasonable position?</p>



<a name="199816163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199816163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199816163">(Jun 04 2020 at 22:23)</a>:</h4>
<p>That sounds right to me.</p>



<a name="199816250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199816250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199816250">(Jun 04 2020 at 22:24)</a>:</h4>
<p>so the topic specifies additional filtering applied over and above the criteria</p>



<a name="199816330"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199816330" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199816330">(Jun 04 2020 at 22:25)</a>:</h4>
<p>For R5, the other way around - but yes.  The distinction is important because implementers can optimize the topic-level filtering based on what they support, with the subscription filtering working on the reduced set.</p>



<a name="199816414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199816414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199816414">(Jun 04 2020 at 22:26)</a>:</h4>
<p>I don't follow that. I'm not interested in what's happening behind the scenes, only in the API. The topic applies additional filtering to the criteria - how is that not true?</p>



<a name="199816455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199816455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199816455">(Jun 04 2020 at 22:27)</a>:</h4>
<p>Yes, as far as the API is concerned it's the overlap of the two sets of filters.</p>



<a name="199816557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199816557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199816557">(Jun 04 2020 at 22:28)</a>:</h4>
<p>with additional complexity around delete/modify, since in the absence of a topic, a criteria can't pick them up.</p>



<a name="199816732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199816732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199816732">(Jun 04 2020 at 22:30)</a>:</h4>
<p>Yes. Also, the criteria is restricted per topic - e.g., if a topic only allows <code>Encounters</code> filtered by <code>patient</code> and only by equality test, the server should reject a subscription using unsupported criteria.</p>



<a name="199816785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199816785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199816785">(Jun 04 2020 at 22:31)</a>:</h4>
<p>I don't actually understand that. I assume that somewhere the relationship between what the topic says and what the criteria can say is documented clearly</p>



<a name="199816794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199816794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199816794">(Jun 04 2020 at 22:31)</a>:</h4>
<p>It obviously wouldn't have to, but that was one of the goals for allowing servers to reduce complexity and yet have good communication around what is supported</p>



<a name="199816805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199816805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199816805">(Jun 04 2020 at 22:32)</a>:</h4>
<p>so let's say that a client posts a subscription to a server. The server is running unmodified R4 subscription semantics. The client adds a topic extension (not a modifier extension, in this thought bubble), but the server doesn't know about that extension, and so it ignores the topic, and proceeds as if it doesn't exist. </p>
<p>In this case, the client can immediately tell that the subscription is being processed wrongly when it receives the first notification, right?</p>



<a name="199816858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199816858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199816858">(Jun 04 2020 at 22:32)</a>:</h4>
<p>Yes, in <a href="http://build.fhir.org/subscriptiontopic-definitions.html#SubscriptionTopic.canFilterBy">Subscription.canFilterBy</a></p>



<a name="199816943"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199816943" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199816943">(Jun 04 2020 at 22:33)</a>:</h4>
<p>The client likely wouldn't get the notification, even though the server thinks it went through fine.  My implementation wouldn't forward a POST with no body - it doesn't have context to do so.</p>



<a name="199816969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199816969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199816969">(Jun 04 2020 at 22:33)</a>:</h4>
<p>So, the server thinks all is well and continues sending and the client just never gets a notification.</p>



<a name="199817036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199817036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199817036">(Jun 04 2020 at 22:34)</a>:</h4>
<p>I don't understand why the client doesn't get a notification. The server is sending something through the channel that the client nominated, no?</p>



<a name="199817105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199817105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199817105">(Jun 04 2020 at 22:35)</a>:</h4>
<p>In R4, a <code>rest-hook</code> subscription does a <code>POST</code> with no body.  In R5 (and the backport), the body is always a Bundle.  Without a bundle, my server has nothing <em>to</em> forward.</p>



<a name="199817187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199817187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199817187">(Jun 04 2020 at 22:36)</a>:</h4>
<p>(sorry to run - family is waiting on dinner, will check back after)</p>



<a name="199817205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199817205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199817205">(Jun 04 2020 at 22:36)</a>:</h4>
<p>I don't follow. I'm not asking about your server, I'm asking about a client that expects the new subscription behavior connecting to a server that supports the old behavior</p>



<a name="199820934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199820934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199820934">(Jun 04 2020 at 23:23)</a>:</h4>
<p>Yep - there is a (client) http server that is hosting the REST endpoint.</p>



<a name="199823797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199823797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199823797">(Jun 05 2020 at 00:04)</a>:</h4>
<p>right. and that's under the control of the client through some private arrangement. So as soon as it gets the first notification, it knows that the server doesn't support the new subscription framework.</p>



<a name="199824987"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199824987" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199824987">(Jun 05 2020 at 00:24)</a>:</h4>
<p>Fair enough.  I have been keeping the http server as dumb as possible to emulate proxies (e.g., converting the POST to a push notification), but that could be added as guidance on that side</p>



<a name="199825077"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199825077" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199825077">(Jun 05 2020 at 00:24)</a>:</h4>
<p>it could. The obvious problem is that the client doesn't know the server doesn't support topic support until the first notification. Which in some (corner) cases, never comes. Is this a problem?</p>



<a name="199825685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199825685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199825685">(Jun 05 2020 at 00:37)</a>:</h4>
<p>Hmm...the flow is different.  The client will never receive the handshake, so it could use some sort of timeout there to assume it's broken.  That would still likely end up with manual resolution (e.g., the server will say it's working, the client will know it isn't).</p>
<p>We could just put the onus on the client to check the Capabilities Statement (haven't added that yet), and not send in the subscription if it doesn't find the IG.</p>



<a name="199825785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199825785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199825785">(Jun 05 2020 at 00:39)</a>:</h4>
<p>I think that latter is where I was heading towards. And I think that the extension is not a modifier. There is clearly risk here, but it's not around the statement that the topic is making, but in the interaction expectations of the client and server</p>



<a name="199825789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199825789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199825789">(Jun 05 2020 at 00:40)</a>:</h4>
<p>It still feels odd to me that it doesn't use a modifier, given that it is changing the meaning and the behavior, but <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span> <br>
In that case, it probably makes sense to move the topic to the criteria (where I had it originally) as an extension, yes?</p>



<a name="199825838"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199825838" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199825838">(Jun 05 2020 at 00:40)</a>:</h4>
<p>I</p>



<a name="199825843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199825843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199825843">(Jun 05 2020 at 00:40)</a>:</h4>
<p>I'm not sure</p>



<a name="199825951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199825951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199825951">(Jun 05 2020 at 00:43)</a>:</h4>
<p>I can do a poll  <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="199826656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199826656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199826656">(Jun 05 2020 at 00:56)</a>:</h4>
<p>/poll Should the Backport IG have a ModifierExtension for linking to a topic?<br>
Yes - It changes the intention of the subscription (criteria)<br>
No - Extension on Subscription<br>
No - Extension on Criteria</p>



<a name="199826920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199826920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199826920">(Jun 05 2020 at 01:01)</a>:</h4>
<p>I would keep as an extension on Subscription</p>



<a name="199826985"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199826985" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199826985">(Jun 05 2020 at 01:02)</a>:</h4>
<p>I think that's what (1) means. But <span class="user-mention" data-user-id="222054">@Gino Canessa</span> your poll is either ambiguous or not binary</p>



<a name="199826989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199826989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199826989">(Jun 05 2020 at 01:02)</a>:</h4>
<p>(or both)</p>



<a name="199827102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199827102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199827102">(Jun 05 2020 at 01:04)</a>:</h4>
<p>There, first no leaves it on subscription - I'd edit but it doesn't let me</p>



<a name="199923527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199923527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199923527">(Jun 05 2020 at 19:30)</a>:</h4>
<p>I was going to volunteer drafting the CapStatements., but what is the current status of this whole effort?  The whole R4a thing is a huge potential monkey wrench from left field? I assume it is wait and see the outcome before devoting any more time to it?</p>



<a name="199932503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199932503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199932503">(Jun 05 2020 at 20:50)</a>:</h4>
<p>I'm moving forward with making sure the models are there and working for now.  If R4A happens and includes Subscriptions, I'll pivot then.<br>
For the capabilities, I thought a base one for indicating core support (e.g., <code>$topic-list</code>, <code>$status</code>, etc.) and combinations for server support would make sense.  E.g., separate statements for:</p>
<ul>
<li><code>rest-hook</code> + <code>empty</code></li>
<li><code>rest-hook</code> + <code>id-only</code><br>
...<br>
That way, a client can determine if the server generally supports the backport and what combination of channels/payloads it can work with.</li>
</ul>
<p>With all that said, I understand if you'd prefer not to invest anymore time right now.  Please just let me know so that we don't duplicate effort (capability checking is about two items down on my list right now).</p>



<a name="199933291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199933291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199933291">(Jun 05 2020 at 20:58)</a>:</h4>
<blockquote>
<p>what combination of channels/payloads it can work with</p>
</blockquote>
<p>That could be a profile on subscription, right?</p>



<a name="199933610"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199933610" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199933610">(Jun 05 2020 at 21:00)</a>:</h4>
<p>Probably? Haven't gotten to it yet, so "profile on subscription" sounds like a good starting place to me.</p>



<a name="199933673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199933673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199933673">(Jun 05 2020 at 21:01)</a>:</h4>
<p>what options are there in supporting back port? What topics are allowed? Can you support back-port without any topics?</p>



<a name="199934535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199934535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199934535">(Jun 05 2020 at 21:10)</a>:</h4>
<p>I have been thinking I would define all the options from R5 (<code>rest-hook</code>, <code>email</code>, <code>websocket</code>, <code>messaging</code> :: <code>empty</code>, <code>id-only</code>, <code>full-resource</code>) and letting servers establish from there.  This would also show a model for if people wanted to extend into custom channels, etc.</p>
<p>For topics, there's an <a href="https://argonautproject.github.io/subscription-backport-ig/OperationDefinition-Backport-subscriptiontopic-list.html">operation</a> which returns a <code>Bundle</code> with SubscriptionTopic canonical URLs.  Looking at it right now, I think I have them in the <code>entry.fullUrl</code> field, though they should be in <code>entry.link</code> instead.</p>
<p>I've been struggling with what 'minimum' compliance would look like, and so far have what I described above - compliance means you have the required operations and understand the extensions.  This allows servers to only implement the parts they are planning on actually using (e.g., if I just need public health emails, I don't want to implement rest-hooks at all), while allowing clients to figure it out without the guessing game of what's supported (e.g., try every combination until you figure out what's supported).</p>



<a name="199934584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199934584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199934584">(Jun 05 2020 at 21:11)</a>:</h4>
<p>I don't think any particular topic/s should be specified in the guide - just like having R5 support doesn't include a minimum set of topics</p>



<a name="199934956"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/199934956" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#199934956">(Jun 05 2020 at 21:15)</a>:</h4>
<p>So far in R5, we've left topics out of capabilities altogether (other than resource support).  Clients can query that resource in order to find desired topics</p>



<a name="204504859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/204504859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#204504859">(Jul 21 2020 at 01:41)</a>:</h4>
<p>FYI on the procedural end there is an HL7 <a href="https://confluence.hl7.org/display/FHIRI/Backporting+R5+Subscriptions+to+R4+as+an+Implementation+Guide">PSS here </a> to be reviewed by: </p>
<ul>
<li>FHIR-I (voted and approved)</li>
<li>FMG</li>
<li>
<p>Steering Committee and TSC</p>
</li>
<li>
<p>Will move the repro to HL7 shortly - let me know if you want access to contribute ( along with you github name ( <span class="user-mention" data-user-id="191356">@Jenni Syed</span> ?)</p>
</li>
<li>Need a list of implementers / projects who intend to implement  (only need 2)</li>
<li>Next steps  Notice of Intent to ballot ,  draft, connectathon, publish for ballot</li>
</ul>



<a name="204718761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/any%20work%20backporting%20r5%20subscriptions%20to%20r4%3F/near/204718761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F.html#204718761">(Jul 22 2020 at 20:29)</a>:</h4>
<p><a href="https://hackmd.io/3z0KefXUQQyez5-go9HCZQ?view">Project Punchlist</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
