---
layout: page
title: "FHIR Chat  · Event Definition · subscriptions"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/index.html">subscriptions</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html">Event Definition</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="161823174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/161823174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#161823174">(Mar 27 2019 at 02:42)</a>:</h4>
<p>Several connectathons ago, we looked at tieing subscriptions to event definitions, so that systems could offer a small set of possible subscriptions to consumers, to limit the system exposure to indefinite amounts of processing. What happened with that - anyone still interested? </p>
<p><span class="user-mention" data-user-id="191356">@Jenni Syed</span> <span class="user-mention" data-user-id="191864">@Isaac Vetter</span> <span class="user-mention" data-user-id="195589">@Joyce Dunlop</span></p>



<a name="161861476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/161861476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#161861476">(Mar 27 2019 at 14:00)</a>:</h4>
<p>I don't think I participated in that directly outside of some discussions around making Subscription more event driven or leaving the definitions more "rest-like"</p>



<a name="161861528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/161861528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#161861528">(Mar 27 2019 at 14:00)</a>:</h4>
<p>If there's interest, I could add something to the upcoming connectathon track</p>



<a name="161867480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/161867480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#161867480">(Mar 27 2019 at 14:59)</a>:</h4>
<p>looking at subscription for Argonauat and will definately look at this as a topic</p>



<a name="161884874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/161884874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#161884874">(Mar 27 2019 at 18:03)</a>:</h4>
<p>I hadn't heard of that approach but sounds interesting to me, would be interested to talk about it in May.</p>



<a name="161887550"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/161887550" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#161887550">(Mar 27 2019 at 18:33)</a>:</h4>
<p>I still think this is a tremendous idea.. Less because of the coded event definitions (which are neat but less useful to me), but I loved the model for using a FHIRPath expression. I'd be in for participating in a connectathon track around it.</p>



<a name="161890679"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/161890679" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#161890679">(Mar 27 2019 at 19:05)</a>:</h4>
<p>the EHR interest was around capping the workload associated with processing subscriptions. e.g. event + patient. My current subscription model does not scale to 100k+ subscriptions</p>



<a name="164702633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/164702633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#164702633">(May 02 2019 at 12:21)</a>:</h4>
<p>Following up around this conversation: we've been thinking about using EventDefinnition as the basis of some of our subscription work in <a class="stream" data-stream-id="179175" href="/#narrow/stream/179175-argonaut">#argonaut</a> this year. "Simple" use cases include subscribing to admission events for a given patient, or for all patients with a given Patient.givenPractitioner. It wasn't clear how to do this with simple EventDefinitions, so I've written up <a href="https://gist.github.com/jmandel/f57fda6ce92174af663abe13cbb4612e" target="_blank" title="https://gist.github.com/jmandel/f57fda6ce92174af663abe13cbb4612e">some thoughts here</a> about how to filter a very broad event stream, with a simple/small set of pre-defined filters (each backed by a FHIRPath expression, for systems that know/speak FHIRPath).</p>



<a name="164707867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/164707867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#164707867">(May 02 2019 at 13:30)</a>:</h4>
<p>I think the idea of parameterization is really key to scaling - if there are use cases that genuinely require subscribing to many thousands of arbitrary and unrelated FHIR search queries, I'd be interested to hear of them but they're going to be prohibitively expensive to support. A few parameterized conditions with thousands of instantiations (triggers) is much better.</p>
<p>In your proposal, what gets communicated to the endpoint? It might be very helpful to have a general-purpose endpoint that receives the trigger values in the notification payload.</p>



<a name="164709900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/164709900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#164709900">(May 02 2019 at 13:56)</a>:</h4>
<p>Also, if your conditions can look at both the previous and updated state of the resource, can they trigger on deletions? Whatever syntax handles creates (%previous doesn't exist) ought to also handle the updated state not existing.</p>



<a name="164712306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/164712306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#164712306">(May 02 2019 at 14:25)</a>:</h4>
<blockquote>
<p>In your proposal, what gets communicated to the endpoint? It might be very helpful to have a general-purpose endpoint that receives the trigger values in the notification payload.</p>
</blockquote>
<p>For the Argonaut use cases: just a ping (i.e., a POST with empty payload) meets the basic requirements.</p>



<a name="164712395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/164712395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#164712395">(May 02 2019 at 14:26)</a>:</h4>
<blockquote>
<p>I think the idea of parameterization is really key to scaling</p>
</blockquote>
<p>Agreed; that's why I'm hoping we can get down to a few key filters, parameterized in this way (but I can't tell if you're agreeing with this parameterized approach I'm proposing, or if you're expressing a critique ;-))</p>



<a name="164712481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/164712481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#164712481">(May 02 2019 at 14:27)</a>:</h4>
<blockquote>
<p>can they trigger on deletions? Whatever syntax handles creates (%previous doesn't exist) ought to also handle the updated state not existing.</p>
</blockquote>
<p>Yes, that's right on both counts (either <code>%previous</code> or <code>this</code> may be null)</p>



<a name="164727746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/164727746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#164727746">(May 02 2019 at 17:32)</a>:</h4>
<p>I'm also not sure if I'm agreeing or critiquing, that depends on whether I can come up with a highly scalable implementation of EventFilter evaluation. ;-)</p>
<p>It's a good design in terms of expressive power. I just want to be confident that it's a direction that will really address scalability. Are the expressions on EventFilter.condition limited to "&lt;field&gt; = &lt;parameter&gt;"?</p>



<a name="164849818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/164849818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Cosmo <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#164849818">(May 04 2019 at 04:47)</a>:</h4>
<p>In your example, your subscription is tied to a single patient through the eventStreamParameter:</p>
<p>"eventStreamParameter": [<br>
    {"name": "patientId", "value": "Patient/123"}]</p>
<p>Assuming we are monitoring very large numbers of patients, we either end up with a very large number of subscriptions (if there are different endpoints for different patients), or (if they’re all going to the same endpoint) perhaps just one subscription with a very large number of patientId values in the eventStreamParameter list (I’m assuming the patientId parameter can be repeated):</p>
<p>"eventStreamParameter": [<br>
    {"name": "patientId", "value": "Patient/1”},<br>
    {"name": "patientId", "value": "Patient/2”},<br>
     …<br>
    {"name": "patientId", "value": "Patient/n”},<br>
]</p>
<p>In these examples, it’s the patient ID that’s the factor that results in a large number of expression evaluations that we want to be sure we can optimize for. Or more specifically, every resource change will need to be evaluated once for EACH eventStreamParameter value, to check if that resource matches that value.</p>
<p>If we’re monitoring 10,000 patients, then we’re going to need to evaluate the EventFilter expression (which is where the eventStreamParameter value is actually used) 10,000 times for every resource change (to see if that change matches any one of the 10,000 patients we’re interested in). There might be some interesting optimizations we can do if we can keep that filter expression simple and make some assumptions about it, but that gets very tricky. Right now, I think that expression could even be changed to “not equals” ("expression": "%current.subject != %patientId”), in which case the list of patientIds becomes the patients we’re NOT interested in (probably no real use case for that, but theoretically possible).</p>
<p>However, if we had a mechanism that could be read as “notify me when &lt;Field&gt; has one of these &lt;values&gt; AND &lt;complicated expression&gt;”, then we could optimize with a pre-filter on the 1st half of that statement and only have to evaluate the &lt;complicated expression&gt; if the pre-filter is passed.</p>
<p>In the patient example, this would read as “notify me when &lt;Patient ID&gt; has one of these &lt;list of patient ID values&gt; AND &lt;complicated expression&gt;”. The pre-filter is whether “this” patient is one of the patients in our list.</p>
<p>This would allow you to build an index that maps field (e.g. Patient ID) to Subscriptions. When a resource change comes in, you could look up this index to find the set of Subscriptions that might be relevant to this change. Which would be only the set of Subscriptions relevant to the one patient, a small set. Then evaluating &lt;complicated filtering expression&gt; is only being done for the patients it needs to be done for, and only once per patient.</p>
<p>One way to do this might be to add a “targetedResources” (better name needed?) list to the subscription, which becomes our pre-filter:</p>
<p>{<br>
  "resourceType": "Subscription",<br>
  "eventStream": [<br>
    {"reference": "EventDefinition/admission"},<br>
  “targetedResources”: [<br>
    {“field”: “%current.subject“, “values”: [<br>
    “Patient/1”,<br>
    “Patient/2”,<br>
    “Patient/n”,<br>
    ]<br>
    }]<br>
}</p>
<p>The interpretation of this is that for every entry in targetedResources, the specified field must have one of the specified values, or the subscription doesn’t apply. In this case, the patient must be one of those in the list, else you can ignore this subscription.</p>



<a name="164868992"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/164868992" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#164868992">(May 04 2019 at 13:46)</a>:</h4>
<p>For those at the connectathon, we have a breakout scheduled today at 4pm Eastern in Salon 1 to discuss this</p>



<a name="164869678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/164869678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#164869678">(May 04 2019 at 14:06)</a>:</h4>
<blockquote>
<p>Are the expressions on EventFilter.condition limited to "&lt;field&gt; = &lt;parameter&gt;"?</p>
</blockquote>
<p>In general no, though of course a server might impose limitations -- and some servers might just have a fixed list of expressions they support (i.e., just named events, without really using the fhirpath)</p>



<a name="164869934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/164869934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#164869934">(May 04 2019 at 14:12)</a>:</h4>
<p>For efficient server implementations: many distinct client subscriptions need to land in and be evaluated by consolidated servers processes -- i.e., a new client creating a new (small/narrow) subscription might update a behind-the-scenes list of patients for which the "by-patient" filter is applied (or any other filter, for that matter).</p>



<a name="164888503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/164888503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#164888503">(May 04 2019 at 21:48)</a>:</h4>
<p>Notes from the previous conversation are now on the track page: <a href="https://confluence.hl7.org/display/FHIR/2019-05+Subscriptions+Track#id-2019-05SubscriptionsTrack-NotesfromSaturdayBreakout" target="_blank" title="https://confluence.hl7.org/display/FHIR/2019-05+Subscriptions+Track#id-2019-05SubscriptionsTrack-NotesfromSaturdayBreakout">https://confluence.hl7.org/display/FHIR/2019-05+Subscriptions+Track#id-2019-05SubscriptionsTrack-NotesfromSaturdayBreakout</a></p>



<a name="164888508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/164888508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#164888508">(May 04 2019 at 21:48)</a>:</h4>
<p>The next breakout for this topic is Sunday at 3pm in Salon 6</p>



<a name="164888529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/164888529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#164888529">(May 04 2019 at 21:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> <span class="user-mention" data-user-id="191864">@Isaac Vetter</span>  Feel free to add more context to the notes where it's missing</p>



<a name="165083103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/165083103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#165083103">(May 07 2019 at 15:42)</a>:</h4>
<p>I have an alternative proposal: <a href="https://github.com/CareEvolution/Public/blob/master/Subscriptions.md" target="_blank" title="https://github.com/CareEvolution/Public/blob/master/Subscriptions.md">https://github.com/CareEvolution/Public/blob/master/Subscriptions.md</a></p>



<a name="165134329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/165134329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#165134329">(May 08 2019 at 04:53)</a>:</h4>
<p>Will you be at Q1 discussion tomorrow (Wed) <span class="user-mention" data-user-id="191912">@Michele Mottini</span> ?</p>



<a name="165134476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/165134476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#165134476">(May 08 2019 at 04:56)</a>:</h4>
<p>Re: your proposal, thanks for writing this up! The following:</p>
<blockquote>
<p>that fire when the data set changes = the List change = resources are added or removed from it or any of their associated properties change.</p>
</blockquote>
<p>Seems to indicate that there's no way to restrict firing of subscription events to specific events (e.g., specific status changes on the set of resources that belong to the list). Is that right?</p>



<a name="165134558"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/165134558" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#165134558">(May 08 2019 at 04:58)</a>:</h4>
<p>Also, for a list like "Admissions in last 24 hours", where is the constraint of "24 hours" expressed? Just in the description?</p>



<a name="165134570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/165134570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#165134570">(May 08 2019 at 04:59)</a>:</h4>
<p>(And otherwise, how do Lists avoid growing arbitrarily large over time?)</p>



<a name="165150711"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/165150711" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#165150711">(May 08 2019 at 10:26)</a>:</h4>
<p>In preparation for FHIR-I Q1: The <a href="https://docs.google.com/document/d/1FkrBY6gykrCFkeRWLWdrpdIPSho6s-yvVu_CaZ9lQhs/edit?ts=5ccf3464" target="_blank" title="https://docs.google.com/document/d/1FkrBY6gykrCFkeRWLWdrpdIPSho6s-yvVu_CaZ9lQhs/edit?ts=5ccf3464">proposal discussed</a> in the Sunday meeting that is linked to from the notes, seems not to be publicly accessible. <span class="user-mention" data-user-id="191315">@Josh Mandel</span> <span class="user-mention" data-user-id="191356">@Jenni Syed</span> ?</p>



<a name="165153816"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/165153816" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#165153816">(May 08 2019 at 11:19)</a>:</h4>
<p>Thsnks -- I'm fixing this</p>



<a name="165153908"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/165153908" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#165153908">(May 08 2019 at 11:21)</a>:</h4>
<p>Hmm, it looks like it <a href="https://docs.google.com/document/d/1FkrBY6gykrCFkeRWLWdrpdIPSho6s-yvVu_CaZ9lQhs/edit?usp=drivesdk" target="_blank" title="https://docs.google.com/document/d/1FkrBY6gykrCFkeRWLWdrpdIPSho6s-yvVu_CaZ9lQhs/edit?usp=drivesdk">should already be accessible here</a></p>



<a name="165158791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Event%20Definition/near/165158791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Event.20Definition.html#165158791">(May 08 2019 at 12:40)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> : no, I am no longer in Montreal, I was there only for the conectathon</p>
<blockquote>
<p>Seems to indicate that there's no way to restrict firing of subscription events to specific events </p>
</blockquote>
<p>Yes, you can - changes in the data sets (List with properties) are the events, so you can restrict to whatever you are interested in - assuming the server knows how to identify that thing.</p>
<blockquote>
<p>Also, for a list like "Admissions in last 24 hours", where is the constraint of "24 hours" expressed? Just in the description?</p>
</blockquote>
<p>How the data sets are defined is not specified - so there is no definition there of what count as an admission, or an admission in the last 24 hours. It is assumed that the server knows (more likely it has some internal logic to define those things) and that knowledge is exposed in the data sets. (I am thinking about a way to define data sets using query criteria and paths)</p>
<blockquote>
<p>(And otherwise, how do Lists avoid growing arbitrarily large over time?)</p>
</blockquote>
<p>Depends on the list - if there is some kind of time limit like 'Admission in 24 hours' they won't grow too much, but of course if you have just 'Admissions' eventually it can be as large as your entire patient population (if it is a pretty sick population...)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
