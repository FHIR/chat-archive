---
layout: page
title: "FHIR Chat  · Appropriate way to manage subscriptions · subscriptions"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/index.html">subscriptions</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Appropriate.20way.20to.20manage.20subscriptions.html">Appropriate way to manage subscriptions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="176417213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Appropriate%20way%20to%20manage%20subscriptions/near/176417213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Appropriate.20way.20to.20manage.20subscriptions.html#176417213">(Sep 23 2019 at 22:57)</a>:</h4>
<p>On the page describing the Subscription resource it states that the client should delete the Subscription when it is done. I am not 100% sure how I should interpret that. If I have an app that subscribes to something, does that mean when the app quits, I shall delete the subscription, or is that only the case when the app will never restart? The app could update the subscription to turn it from active to off, save the subscription logical id, exit, and on restart update the subscription to make it active (or requested, if active is not allowed to be set by the client).</p>
<p>What is the exact procedure?</p>



<a name="176467726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Appropriate%20way%20to%20manage%20subscriptions/near/176467726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Appropriate.20way.20to.20manage.20subscriptions.html#176467726">(Sep 24 2019 at 14:17)</a>:</h4>
<p>Interesting. In connectathons, we've had the client set it to off - not delete. <span class="user-mention" data-user-id="192228">@Brian Reinhold</span>  That type of behavior may depend on the app. In the spec, it calls out that the server may set it to off if it fails to deliver too many times as well. If the endpoint to notify goes away when a specific instance of the app is closed, you would likely want to control the lifecycle on the app side (otherwise you'll have to check if the server shut it off anyway due to errors)</p>



<a name="176467858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Appropriate%20way%20to%20manage%20subscriptions/near/176467858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Appropriate.20way.20to.20manage.20subscriptions.html#176467858">(Sep 24 2019 at 14:18)</a>:</h4>
<p>Most of the apps in the tests have been server side that can then deliver to specific instances - so the server was always there.</p>



<a name="176472777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Appropriate%20way%20to%20manage%20subscriptions/near/176472777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Appropriate.20way.20to.20manage.20subscriptions.html#176472777">(Sep 24 2019 at 15:06)</a>:</h4>
<p>That text was added in an effort to reduce orphaned subscriptions.  If a client will no longer need notifications (e.g., the user is removing an account, the app is being removed, etc.), it should remove the subscription.  This is probably just wishful thinking, as apps will likely be deleted without being given the opportunity.</p>
<p>In the case that the app will just be offline (and the endpoint will either be offline or cannot queue messages for the client), then setting to off would be more appropriate since the app will want to re-enable it when it comes alive again.</p>
<p>We have not discussed the fine-grained process for re-enabling a subscription which is off.  I can see arguments for either status (requested or active directly).  Do server implementers have a preference?</p>



<a name="176510743"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Appropriate%20way%20to%20manage%20subscriptions/near/176510743" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Appropriate.20way.20to.20manage.20subscriptions.html#176510743">(Sep 24 2019 at 22:00)</a>:</h4>
<p>servers should probably clean out subscriptions over time. Especially app added ones, though I'm not sure how that differentiation would be made</p>



<a name="176511236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Appropriate%20way%20to%20manage%20subscriptions/near/176511236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Appropriate.20way.20to.20manage.20subscriptions.html#176511236">(Sep 24 2019 at 22:06)</a>:</h4>
<p>There is an <code>end</code> (<code>instant</code>) field which should be filled out (and extended if needed).  It is optional, but I can see servers requiring it for that reason.</p>



<a name="176601281"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Appropriate%20way%20to%20manage%20subscriptions/near/176601281" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Appropriate.20way.20to.20manage.20subscriptions.html#176601281">(Sep 25 2019 at 20:10)</a>:</h4>
<p>In the Argonaut encounters IG (for instance), we've discussed wherever we should require clients to set an end date (and requiring that it be no more than xx months in the future).</p>



<a name="176787913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Appropriate%20way%20to%20manage%20subscriptions/near/176787913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Appropriate.20way.20to.20manage.20subscriptions.html#176787913">(Sep 27 2019 at 21:31)</a>:</h4>
<p>I like that idea of an end date. (A)live apps can just update the date as they periodically check their subscriptions' statuses.</p>



<a name="177909272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Appropriate%20way%20to%20manage%20subscriptions/near/177909272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Appropriate.20way.20to.20manage.20subscriptions.html#177909272">(Oct 11 2019 at 14:01)</a>:</h4>
<p>We use end date for that reason in current implementations, and default it if not set via a business rule.  There's a process that cleans them out periodically based on end date.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
