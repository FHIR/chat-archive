---
layout: page
title: "FHIR Chat  · Fhirpath triggers · subscriptions"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/index.html">subscriptions</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html">Fhirpath triggers</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="209640291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209640291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209640291">(Sep 10 2020 at 13:36)</a>:</h4>
<blockquote>
<p>Many of the people I've talked with feel the computational load for search and FHIRPath based topics is too high to be supported.  Many are expecting to have thousands or tens of thousands of subscriptions simultaneously and want to maintain a reasonable response time (&lt;5 minutes).</p>
</blockquote>
<p>David, are you saying you want to remove this from the definitions, or just saying that you don't expect some servers to support it? in general servers choose which topics to support and a server that does not want to support any topics based on fhirpath do not need to. it's also worth noting that a server might support specific highly optimized expressions and not others; there is no expectation that a server needs to support generic topic definitions dynamically at runtime.</p>



<a name="209642111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209642111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209642111">(Sep 10 2020 at 13:42)</a>:</h4>
<p><span class="user-mention" data-user-id="192587">@David Pyke</span>  Discovery of support for specific topics would be by searching the server for topics available. </p>
<p>If you're thinking about ways to discover proactively whether a server will accept a specific topic that you try to post to it... right now we have a way for a server to say you can post a new topics or you can't. I don't know that modeling the details beyond that is going to be very helpful -- but of course fhir Capability Statements let you specify a list of profiles for any resource type if you want to go that route. (I don't think we would have to do something specific in subscriptions.)</p>



<a name="209643533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209643533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209643533">(Sep 10 2020 at 13:50)</a>:</h4>
<p>I think we need to have a way of listing if you support dynamic or not, rather than what types of resources you can do dynamically.</p>



<a name="209643818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209643818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209643818">(Sep 10 2020 at 13:52)</a>:</h4>
<p>It may end up needing a dynamic resource and a non-dynamic element on subscription.  That way if you opt out of dynamic, you can just use a codelist/uri on Subscription and show that the dynamic based Topic resource being not supported</p>



<a name="209658847"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209658847" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209658847">(Sep 10 2020 at 14:59)</a>:</h4>
<p>When you say support dynamic... is that essentially equivalent to advertising support of SubscriptionTopic create in conformance? Or are you looking more specifically at how flexible those can be (which may be, to Josh's point, advertising profiles of SubscriptionTopic?)</p>



<a name="209659445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209659445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209659445">(Sep 10 2020 at 15:03)</a>:</h4>
<p>I'm thinking advertising support of SubscriptionTopic.  Those that don't support that can use a codelist/uri</p>



<a name="209659559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209659559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209659559">(Sep 10 2020 at 15:04)</a>:</h4>
<p>For R5, SubscriptionTopic is required. In R4, there's a query for "known" uris for the patch back</p>



<a name="209659642"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209659642" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209659642">(Sep 10 2020 at 15:04)</a>:</h4>
<p>the fully dynamic query is one thing we specifically dropped from R5 because of performance concerns</p>



<a name="209659726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209659726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209659726">(Sep 10 2020 at 15:04)</a>:</h4>
<p>So it's declaration of "I only support the R5 back port profile of Subscription" maybe...</p>



<a name="209659794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209659794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209659794">(Sep 10 2020 at 15:05)</a>:</h4>
<p>Right, so I'm suggesting that SubscriptionTopic get moved to optional and Subscription gains a Topic element.  SubscriptionTopic gets all search and FHIRPath capabilites</p>



<a name="209660028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209660028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209660028">(Sep 10 2020 at 15:06)</a>:</h4>
<p>I'm not sure I'm following</p>



<a name="209660200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209660200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209660200">(Sep 10 2020 at 15:08)</a>:</h4>
<p>Subscripton's link to SubscriptionTopic becomes 0..1 and gains topicCode or topicUri 0..*  SubscriptionTopic has all search based or FHIRPath based capabilities.</p>



<a name="209660336"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209660336" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209660336">(Sep 10 2020 at 15:08)</a>:</h4>
<p>Possibly with a invariant that forces either a reference to SubscriptionTopic or a topicCode/Uri to have an entry</p>



<a name="209662591"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209662591" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209662591">(Sep 10 2020 at 15:21)</a>:</h4>
<p>What would this accomplish? Currently every SubscriptionTopic has a canonical URI and you can use that just the way you'd use the "topicUri" you're proposing -- but the canonical URLs are better because you can <em>also</em> optionally make them resolve, document behaviors, authorship, relation to other topics, etc.</p>



<a name="209662907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209662907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209662907">(Sep 10 2020 at 15:23)</a>:</h4>
<p>It gives a simple implementation path for systems that don't need/want to have those capabilities</p>



<a name="209663093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663093">(Sep 10 2020 at 15:24)</a>:</h4>
<p>It's no simpler: if you have a "topicUri", just consider that as a SubscriptionTopic.url (canonical URL). You don't need to make it resolve or anything.</p>



<a name="209663165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663165">(Sep 10 2020 at 15:24)</a>:</h4>
<p>For example, <a href="http://build.fhir.org/subscriptionstatus-definitions.html#SubscriptionStatus.topic">http://build.fhir.org/subscriptionstatus-definitions.html#SubscriptionStatus.topic</a> is just a canonical reference.</p>



<a name="209663178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663178">(Sep 10 2020 at 15:24)</a>:</h4>
<p>But with my changes, you don't have to implement the SubscriptionTopic resource</p>



<a name="209663243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663243">(Sep 10 2020 at 15:25)</a>:</h4>
<p>You shouldn't have to anyway.</p>



<a name="209663273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663273">(Sep 10 2020 at 15:25)</a>:</h4>
<p>You do if it's required for the Subscription resource</p>



<a name="209663293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663293">(Sep 10 2020 at 15:25)</a>:</h4>
<p>You're referring to <a href="http://build.fhir.org/subscription-definitions.html#Subscription.topic">http://build.fhir.org/subscription-definitions.html#Subscription.topic</a> ?</p>



<a name="209663323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663323">(Sep 10 2020 at 15:25)</a>:</h4>
<p>It could be contained, but you will lose the capability for people to discover what topics you allow</p>



<a name="209663347"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663347" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663347">(Sep 10 2020 at 15:26)</a>:</h4>
<p>Yes</p>



<a name="209663378"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663378" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663378">(Sep 10 2020 at 15:26)</a>:</h4>
<p>which was why we did this - it follows pub/sub patterns outside of FHIR</p>



<a name="209663405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663405">(Sep 10 2020 at 15:26)</a>:</h4>
<p>that lack of capability to discover was a big deal</p>



<a name="209663409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663409">(Sep 10 2020 at 15:26)</a>:</h4>
<p>I actually don't remember why <a href="http://build.fhir.org/subscription-definitions.html#Subscription.topic">http://build.fhir.org/subscription-definitions.html#Subscription.topic</a> can't be a canonical reference. Jenni, do you?</p>



<a name="209663441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663441">(Sep 10 2020 at 15:26)</a>:</h4>
<p>Agreed that a first-class discovery API to ask a server about topics is super helpful!</p>



<a name="209663444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663444">(Sep 10 2020 at 15:26)</a>:</h4>
<p>Discovery</p>



<a name="209663464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663464">(Sep 10 2020 at 15:26)</a>:</h4>
<p>was the main reason</p>



<a name="209663491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663491">(Sep 10 2020 at 15:26)</a>:</h4>
<p>Being able to discover a codelist would be just as good, in my mind</p>



<a name="209663498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663498">(Sep 10 2020 at 15:27)</a>:</h4>
<p>Using a canonical at <a href="http://build.fhir.org/subscription-definitions.html#Subscription.topic">http://build.fhir.org/subscription-definitions.html#Subscription.topic</a> wouldn't prevent discovery.</p>



<a name="209663603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663603">(Sep 10 2020 at 15:27)</a>:</h4>
<p>i.e. a client could always ask the server "which topics do you support" and the server can choose to respond. That's distinct from whether a server-local reference is required within Subscription.topic.</p>



<a name="209663689"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663689" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663689">(Sep 10 2020 at 15:28)</a>:</h4>
<p>In any case, I don't see any "simplification" from offering <em>multiple</em> ways to do this <span class="user-mention" data-user-id="192587">@David Pyke</span></p>



<a name="209663749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663749">(Sep 10 2020 at 15:28)</a>:</h4>
<p>How would they ask what is supported with the canonical reference?</p>



<a name="209663990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209663990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209663990">(Sep 10 2020 at 15:30)</a>:</h4>
<p>Witha topicCode element in Subscription, they can not implement the SubscriptionTopic resource, mark the CapabilityStatement with a lack of support for it (eliminating dynamics) and then pull the codelist for supported codes and their meanings</p>



<a name="209664117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209664117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209664117">(Sep 10 2020 at 15:31)</a>:</h4>
<p>If we have an HL7 defined list of basic supported codes (extensible), that makes it even easier to support</p>



<a name="209664180"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209664180" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209664180">(Sep 10 2020 at 15:31)</a>:</h4>
<blockquote>
<p>How would they ask what is supported with the canonical reference?</p>
</blockquote>
<p><code>GET /SubscriptionTopic</code>, just like today if the server wants to support it. But yeah, I don't actually understand the underlying pain point here.</p>



<a name="209664291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209664291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209664291">(Sep 10 2020 at 15:32)</a>:</h4>
<blockquote>
<p>then pull the codelist for supported codes</p>
</blockquote>
<p>This is a new API, right? That means ... another additional discovery mechanism.</p>



<a name="209664316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209664316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209664316">(Sep 10 2020 at 15:32)</a>:</h4>
<p>Why is it easier to host <em>that</em> one vs hosting a fixed list of SubscriptionTopics?</p>



<a name="209664386"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209664386" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209664386">(Sep 10 2020 at 15:32)</a>:</h4>
<p>I think there's something I'm missing.</p>



<a name="209664497"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209664497" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209664497">(Sep 10 2020 at 15:33)</a>:</h4>
<p>IF you can have a fixed list of SubscriptionTopics and list them and be able to show a lack of search or FHIRpath based topics, then the problem isn't difficult</p>



<a name="209666307"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209666307" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209666307">(Sep 10 2020 at 15:44)</a>:</h4>
<p>If you have a fixed list, I'm not sure what it means to "be able to show a lack of search or FHIRpath based topics" -- you'd just have a fixed list, and presumably the items on it wouldn't be fhirpath-based topics.</p>



<a name="209667134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209667134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209667134">(Sep 10 2020 at 15:50)</a>:</h4>
<p>Good point.</p>



<a name="209667919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209667919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209667919">(Sep 10 2020 at 15:55)</a>:</h4>
<p>Jumping back a bit to the canonical question (Josh), we discussed it somewhat recently.  The discussion ended with:</p>
<ul>
<li>the client needs to have access to a <code>SubscriptionTopic</code> resource</li>
<li>if we allow canonicals, servers may not keep a definition copy locally</li>
</ul>



<a name="209669934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209669934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209669934">(Sep 10 2020 at 16:09)</a>:</h4>
<p>Okay, so if canonicals are not appropriate, I'd like to go back to must suggestion</p>



<a name="209670416"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209670416" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209670416">(Sep 10 2020 at 16:12)</a>:</h4>
<p>I am not sure I understand this part:</p>
<blockquote>
<p>the client needs to have access to a <code>SubscriptionTopic</code> resource</p>
</blockquote>
<p>Why is that? Josh was just saying that resolving the canonical was not necessary.</p>



<a name="209671595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209671595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209671595">(Sep 10 2020 at 16:21)</a>:</h4>
<p>Right now, a client creating a Subscription needs to populate Subscrition.topic with some kind of valid reference. We generally expect that'll be a server-local FHIR reference like <code>{"reference": "SubscriptionTopic/891247142"}</code>  but in theory it <em>could</em> be a canonical URL based reference like <code>{"reference": "https://argo.run/example-topics/admission"}</code>, if a server chooses to allow this.</p>



<a name="209671935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209671935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209671935">(Sep 10 2020 at 16:23)</a>:</h4>
<p>... but either way, the client wants some way to know which topics it'll be <em>allowed</em> to subscribe to, which is to say some discovery mechanism. And this means it's really most convenient if the server supports enumeration of its SubscriptionTopics via "GET /SubscriptionTopic". (A server could maybe just say "discovery is out of band, don't ask me about SubscriptionTopics," but I don't hear anyone advocating for that as a good practice :-))</p>



<a name="209672139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209672139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209672139">(Sep 10 2020 at 16:25)</a>:</h4>
<p>I would prefer that topic is a canonical(SubscriptionTopic) not a Reference(SubscriptionTopic); I haven't followed the issue why it shouldn't be. And <span class="user-mention" data-user-id="192587">@David Pyke</span> I haven't understand what you're trying to achieve at all</p>



<a name="209672405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209672405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209672405">(Sep 10 2020 at 16:27)</a>:</h4>
<p>I'm trying to achieve a subscription system that uses a fixed codelist of specific events</p>



<a name="209672463"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209672463" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209672463">(Sep 10 2020 at 16:27)</a>:</h4>
<p>but that's already how it works, if you want - a fixed list of specific topics</p>



<a name="209672862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209672862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209672862">(Sep 10 2020 at 16:30)</a>:</h4>
<p>Okay, then I'm completely stumped where such a code is entered.</p>



<a name="209673058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209673058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209673058">(Sep 10 2020 at 16:31)</a>:</h4>
<p>Subscription points to SubscriptionTopic  which has a resourceTrigger</p>



<a name="209673237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209673237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209673237">(Sep 10 2020 at 16:32)</a>:</h4>
<p>SubscriptionTopic has a canonical to another SubscriptionTopic that it's derived from</p>



<a name="209673398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209673398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209673398">(Sep 10 2020 at 16:33)</a>:</h4>
<p>"such a code" - what kind of code?</p>



<a name="209673446"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209673446" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209673446">(Sep 10 2020 at 16:33)</a>:</h4>
<p>A code list "admit" that says trigger when an admission for patientX happens</p>



<a name="209673570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209673570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209673570">(Sep 10 2020 at 16:34)</a>:</h4>
<p>That's what the topic is</p>



<a name="209674518"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209674518" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209674518">(Sep 10 2020 at 16:41)</a>:</h4>
<p>Okay, I'm obviously not getting this.  how do you express "Trigger when PatientX is admitted" without having to use search or FHIRPath logic?</p>



<a name="209674850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209674850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209674850">(Sep 10 2020 at 16:44)</a>:</h4>
<p>I don't know. How do you express that without saying what it actually means?</p>



<a name="209674978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209674978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209674978">(Sep 10 2020 at 16:44)</a>:</h4>
<p>I think what you want is for some magic to happen somewhere where by you can say what you want without defining how it happens</p>



<a name="209675052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209675052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209675052">(Sep 10 2020 at 16:45)</a>:</h4>
<p>for me, this is what derivedFrom is about.</p>



<a name="209675105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209675105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209675105">(Sep 10 2020 at 16:45)</a>:</h4>
<p>Personally, I'd like a subscription that has a link to a patient and a codelist that has "admit" as one of the codes.  In the back end, there would be something processing the codes and handling this.  There is a blackbox attribute to it but I have a number of people wanting this.</p>



<a name="209675219"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209675219" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209675219">(Sep 10 2020 at 16:46)</a>:</h4>
<p>Having to use search or FHIRPath logic is seen as too computationally expensive</p>



<a name="209675339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209675339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209675339">(Sep 10 2020 at 16:47)</a>:</h4>
<p>HL7 can define a base list of topics, which correspond to widely supported events. We publish formally correct definitions of them, both in narrative and using search/fhirpath. Because they are well known definitions, people can treat them as magic, ignore the formal definitions, and implement them as they want in their system. </p>
<p>Then they can advertise HL7's well known definitions as 'the ones they support'</p>



<a name="209675408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209675408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209675408">(Sep 10 2020 at 16:47)</a>:</h4>
<p>That works for me.  AS long as there's a fixed list somewhere</p>



<a name="209675448"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209675448" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209675448">(Sep 10 2020 at 16:48)</a>:</h4>
<p>because of course people won't necessarily implement using search or FHIRPath.</p>



<a name="209675473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209675473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209675473">(Sep 10 2020 at 16:48)</a>:</h4>
<p>but it does mean that someone has to do the work to define them.</p>



<a name="209675554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209675554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209675554">(Sep 10 2020 at 16:49)</a>:</h4>
<p>they can even advertise their variations in support for the underlying topic, but still link back to the base topic using derivedFrom</p>



<a name="209675578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209675578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209675578">(Sep 10 2020 at 16:49)</a>:</h4>
<p>I have a base list that I'm using for Carequality that we could translate</p>



<a name="209675611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209675611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209675611">(Sep 10 2020 at 16:49)</a>:</h4>
<p>this, btw, is why I think it's clearer for it to be a canonical()</p>



<a name="209676060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209676060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209676060">(Sep 10 2020 at 16:52)</a>:</h4>
<p>Personally, I think a codelist and patient reference are simpler but that's me</p>



<a name="209676261"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209676261" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209676261">(Sep 10 2020 at 16:54)</a>:</h4>
<p>handling fewer requirements is always simpler. Doesn't make it better</p>



<a name="209676477"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209676477" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209676477">(Sep 10 2020 at 16:55)</a>:</h4>
<p>I think that a Subscription </p>
<div class="codehilite"><pre><span></span><code>  topic = http://carequality.org/SubscriptionTopic/Admit
  filterBy
    searchParamName = patient
   searchModifier = =
   value = &quot;X&quot;
</code></pre></div>


<p>seems pretty straight foward</p>



<a name="209676597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209676597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209676597">(Sep 10 2020 at 16:56)</a>:</h4>
<p>BTW, the way you advertise that canonical on the SubscriptionTopic today is via the url &amp; derivedFrom fields</p>



<a name="209676626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209676626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209676626">(Sep 10 2020 at 16:57)</a>:</h4>
<p>(that the topic is a reference to another canonical)</p>



<a name="209676809"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209676809" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209676809">(Sep 10 2020 at 16:58)</a>:</h4>
<p>But <span class="user-mention" data-user-id="222054">@Gino Canessa</span> it would be more align with FHIR elsewhere for it to be :</p>
<div class="codehilite"><pre><span></span><code>topic = http://carequality.org/SubscriptionTopic/Admit
  filterBy
    parameter = patient
    op = =
    value = &quot;X&quot;
</code></pre></div>


<p>Because there's no actual requirement that the parameter be a search parameter - it can be just a parameter that you can filter by as defined in the topic</p>



<a name="209676814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209676814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209676814">(Sep 10 2020 at 16:58)</a>:</h4>
<p>But Grahame's example is also valid as tht still references a SubscriptionTopic</p>



<a name="209676889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209676889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209676889">(Sep 10 2020 at 16:58)</a>:</h4>
<p>That works</p>



<a name="209676944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209676944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209676944">(Sep 10 2020 at 16:59)</a>:</h4>
<p>Making it canonical means that sometimes a client will be able to get a definitional resource (for checking things like allowed filters) and sometimes it won't.  For specific use cases, this is fine.  For generic clients, this is problematic.</p>
<p>At the end of the day, I'm fine with either - just relaying the last round of discussions on the topic.</p>



<a name="209676973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209676973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209676973">(Sep 10 2020 at 16:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  for "discovery" - would you still expect it to be listed in a SubscriptionTopic search or would it just be a profile advertised?</p>



<a name="209677163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209677163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209677163">(Sep 10 2020 at 17:00)</a>:</h4>
<p>Jenni, I'm not sure the difference you're drawing there, maybe because I don't know what you mean by 'profile advertised"</p>
<p>And Gino, why would it make any difference?</p>



<a name="209677227"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209677227" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209677227">(Sep 10 2020 at 17:00)</a>:</h4>
<p>The way a client discovers what they can subscribe to today is by search on SubscriptionTopic</p>



<a name="209677234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209677234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209677234">(Sep 10 2020 at 17:00)</a>:</h4>
<p>a reference or a canonical can be unresolvable</p>



<a name="209677245"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209677245" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209677245">(Sep 10 2020 at 17:00)</a>:</h4>
<p>they can search by canonical</p>



<a name="209677352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209677352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209677352">(Sep 10 2020 at 17:01)</a>:</h4>
<p>I thought it was GET [base]/Subscription/$topic-list</p>



<a name="209677396"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209677396" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209677396">(Sep 10 2020 at 17:01)</a>:</h4>
<p>that's in patch back</p>



<a name="209677431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209677431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209677431">(Sep 10 2020 at 17:01)</a>:</h4>
<p>in R5, SubscriptionTopic is its own resource</p>



<a name="209677569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209677569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209677569">(Sep 10 2020 at 17:02)</a>:</h4>
<p>So it's GET /SubscriptionTopic</p>



<a name="209677640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209677640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209677640">(Sep 10 2020 at 17:03)</a>:</h4>
<p>well, either way. if you search SubscriptionTopic, you'll get a list of topics. These might have carequality or hl7 canonical urls, or your own ones with derivations to the carequality or hl7 ones, or they might just be your own ones</p>



<a name="209677749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209677749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209677749">(Sep 10 2020 at 17:03)</a>:</h4>
<p>It does look like it would work as the only required fields are the url and status</p>



<a name="209677956"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209677956" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209677956">(Sep 10 2020 at 17:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179229-subscriptions/topic/Fhirpath.20triggers/near/209676809">said</a>:</p>
<blockquote>
<p>But <span class="user-mention silent" data-user-id="222054">Gino Canessa</span> it would be more align with FHIR elsewhere for it to be :</p>
<div class="codehilite"><pre><span></span><code>topic = http://carequality.org/SubscriptionTopic/Admit
  filterBy
    parameter = patient
    op = =
    value = &quot;X&quot;
</code></pre></div>


<p>Because there's no actual requirement that the parameter be a search parameter - it can be just a parameter that you can filter by as defined in the topic</p>
</blockquote>
<p>We don't have a mechanism for defining parameters like that, so we were using search parameters.  If we want to open that up, we need to add content around how to describe them.</p>



<a name="209678067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209678067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209678067">(Sep 10 2020 at 17:05)</a>:</h4>
<p>could that be as simple as a text description or would you need fhirpath?</p>



<a name="209678334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209678334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209678334">(Sep 10 2020 at 17:07)</a>:</h4>
<blockquote>
<p>We don't have a mechanism for defining parameters like that</p>
</blockquote>
<p>What is SubscriptionTopic.canFilterBy but a mechanism for that. I suppose that if you wanted to define your own, you'd really need a canonical(SearchParameter) to formally define it as well as the name</p>



<a name="209678367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209678367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209678367">(Sep 10 2020 at 17:07)</a>:</h4>
<p>Jenni - not sure what the context of that is?</p>



<a name="209679850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209679850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209679850">(Sep 10 2020 at 17:20)</a>:</h4>
<p>Proposal for the method to define instead of SearchParameter reference :)</p>



<a name="209680073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209680073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209680073">(Sep 10 2020 at 17:22)</a>:</h4>
<p>the computable definition parts are optional</p>



<a name="209681097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209681097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209681097">(Sep 10 2020 at 17:30)</a>:</h4>
<p><span class="user-mention" data-user-id="222054">@Gino Canessa</span> on the subject of String vs Canonical, the backport has something else again: uri</p>



<a name="209681121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209681121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209681121">(Sep 10 2020 at 17:31)</a>:</h4>
<p>but that aligns with canonical, I guess</p>



<a name="209683234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Fhirpath%20triggers/near/209683234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Fhirpath.20triggers.html#209683234">(Sep 10 2020 at 17:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179229-subscriptions/topic/Fhirpath.20triggers/near/209680073">said</a>:</p>
<blockquote>
<p>the computable definition parts are optional</p>
</blockquote>
<p>The part of interest was the <code>canFilterBy</code> fields, IIRC.  It just means a developer needs to know what filters are allowed out-of-band if the canonical doesn't resolve.  Not terrible, just needs to be documented.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
