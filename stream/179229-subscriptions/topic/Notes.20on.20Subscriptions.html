---
layout: page
title: "FHIR Chat  · Notes on Subscriptions · subscriptions"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/index.html">subscriptions</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html">Notes on Subscriptions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="185581308"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185581308" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185581308">(Jan 14 2020 at 10:16)</a>:</h4>
<p>Subscription.eventCount a does not look like a good element for definition resource - it's part of something like SubscriptionStatus. Logical check - when I PUT Subscription with eventCount=0 - what does it mean? The same about Subscription.error. Do you consider introduce SubscriptionStatus resource or at least move all these status attributes in complex element like <code>Subscription.status = {error, count}</code>?</p>



<a name="185581377"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185581377" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185581377">(Jan 14 2020 at 10:17)</a>:</h4>
<p>We can use same pattern as k8s - <a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#pod-and-container-status" target="_blank" title="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#pod-and-container-status">https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#pod-and-container-status</a></p>



<a name="185581515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185581515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185581515">(Jan 14 2020 at 10:18)</a>:</h4>
<p>Subscription.channel.type is CodeableConcept! Do you expect such a complicated classification? Why code is not enough (or  Coding)?</p>



<a name="185581816"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185581816" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185581816">(Jan 14 2020 at 10:23)</a>:</h4>
<p>For elements like contact, reason, name etc - can we keep Sub elements at a minimum required? Such meta-info can be added by extensions - if extensions will become popular - after couple of years - move it to the core.</p>



<a name="185581951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185581951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185581951">(Jan 14 2020 at 10:25)</a>:</h4>
<p>Element heartbeatPeriod is very implementation-specific (80/20?). I would suggest publishing official extensions for such  cases</p>



<a name="185582117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185582117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185582117">(Jan 14 2020 at 10:27)</a>:</h4>
<p>Structure of filterBy looks kinda naive - I can imagine a lot of different filter engines - can we make it extensible by design?</p>



<a name="185582253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185582253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185582253">(Jan 14 2020 at 10:29)</a>:</h4>
<p>Something like: filter: { type: code, expression: any, ....};</p>



<a name="185583279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185583279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185583279">(Jan 14 2020 at 10:43)</a>:</h4>
<p>Instead of playing this "bundle reuse game" why not use specialized envelope:</p>
<div class="codehilite"><pre><span></span>type: handshake | notification | heartbit
event: created
timestamp: ......
resource:
  resourceType: Patient
  id: pt-1
  .....
</pre></div>



<a name="185595847"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185595847" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185595847">(Jan 14 2020 at 13:37)</a>:</h4>
<p>For web-hooks as we know <code>timeout</code> parameter is quite important</p>



<a name="185596145"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185596145" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185596145">(Jan 14 2020 at 13:41)</a>:</h4>
<p>It would be nice to be able to "inject" constant context data into payload for multi-service subscribers.</p>



<a name="185598040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185598040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185598040">(Jan 14 2020 at 14:02)</a>:</h4>
<blockquote>
<p>Subscription.eventCount a does not look like a good element for definition resource - it's part of something like SubscriptionStatus. Logical check - when I PUT Subscription with eventCount=0 - what does it mean? The same about Subscription.error. Do you consider introduce SubscriptionStatus resource or at least move all these status attributes in complex element like <code>Subscription.status = {error, count}</code>?</p>
</blockquote>
<p>Indeed, now that we're adding SubscriptionStatus, these will migrate to SubscriptionStaus</p>



<a name="185598188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185598188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185598188">(Jan 14 2020 at 14:04)</a>:</h4>
<blockquote>
<p>Subscription.channel.type is CodeableConcept! Do you expect such a complicated classification? Why code is not enough (or  Coding)?</p>
</blockquote>
<p>Agreed -- needs to be Coding to allow for extensibility, but not CodeableConcept.</p>



<a name="185598264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185598264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185598264">(Jan 14 2020 at 14:05)</a>:</h4>
<blockquote>
<p>For elements like contact, reason, name etc - can we keep Sub elements at a minimum required? Such meta-info can be added by extensions - if extensions will become popular - after couple of years - move it to the core.</p>
</blockquote>
<p>Gino and I would have left all these out. <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> has kind of insisted that these be included "because the definition pattern requires them" (not a verbatim quote). I'd happily trim these...</p>



<a name="185598373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185598373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185598373">(Jan 14 2020 at 14:07)</a>:</h4>
<p>Heartbeat is an interesting one: the details change but the concept is relevant for many channel types including our most important ones today (rest hook, web socket), so I'm not sure I like the idea of taking it away from the core design.</p>



<a name="185598901"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185598901" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185598901">(Jan 14 2020 at 14:12)</a>:</h4>
<p>Regarding, FilterBy: the super flexible "code, expression" -- is your comment here just about Subscription.filterBy, or also about SubscriptionTopic.canFilterBy? (There, we avoided the totally generic approach, because it didn't let us express the things we actually wanted, like</p>
<div class="codehilite"><pre><span></span>queryCriteria&quot;: { &quot;previous&quot;: &quot;status:not=in-progress&quot;, &quot;current&quot;: &quot;status=in-progress&quot;, &quot;requireBoth&quot;: true },
</pre></div>



<a name="185599109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185599109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185599109">(Jan 14 2020 at 14:14)</a>:</h4>
<p>As for a specialized envelope type, I'm sort of ambivalent. It's kind of charming that FHIR only has one resource that directly embeds others ("contained" shenanigans aside). What would the main gain be, over defining a Bundle.type of "subscription"?</p>



<a name="185599143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185599143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185599143">(Jan 14 2020 at 14:14)</a>:</h4>
<p>BTW Nicola, thanks much for the comments and close read!</p>



<a name="185599229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185599229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185599229">(Jan 14 2020 at 14:15)</a>:</h4>
<p>Bundle.type may work with  subs-handshake |  subs-heartbeat  | subs-notification</p>



<a name="185599354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185599354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185599354">(Jan 14 2020 at 14:17)</a>:</h4>
<p>I would like to see event name like 'created', 'updated', 'deleted' instead of parsing HTTP string</p>



<a name="185599375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185599375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185599375">(Jan 14 2020 at 14:17)</a>:</h4>
<p>But that's probably can be done as an extension of Bundle.entry</p>



<a name="185599483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185599483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185599483">(Jan 14 2020 at 14:18)</a>:</h4>
<p>Do we specify that this bundle should always contain one resource? Or it can be batch notification?</p>



<a name="185599744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185599744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185599744">(Jan 14 2020 at 14:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> what do you think about <code>channel.timeout</code> - as we see from our trial it's quite important for server and client. Otherwise, it's hard to find the implicit configuration without confusing one of them</p>



<a name="185600015"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185600015" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185600015">(Jan 14 2020 at 14:23)</a>:</h4>
<p>As well unique id of the notification may be helpful for tracking duplicates ("exactly one" semantic is hard to make work)</p>



<a name="185607585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185607585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185607585">(Jan 14 2020 at 15:41)</a>:</h4>
<p>I'm pretty sure Lloyd didn't insist on adding those.  Following the Definition pattern is expected for resources that are defining what kinds of activities are possible to occur.  Of the various resources in the subscription space that might meet that intention, only 'Topic' really meets that definition.  Subscription is an event, not a definition.  (It would be nice if you considered alignment with the Event pattern there - though as usual, alignment with a pattern is "consider these elements, either as core or as extensions and consider aligning with these names".  Patterns never <em>force</em> a resource to include anything.</p>



<a name="185616580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185616580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185616580">(Jan 14 2020 at 17:09)</a>:</h4>
<p>Ok, think I'm catching up.. some of my comments will echo Josh's, but I need to consolidate for sanity.  First, <span class="user-mention" data-user-id="191318">@nicola (RIO/SS)</span>, thanks for the feedback!  I have a few questions on items below, if you wouldn't mind clarifying/giving context.  If there's anything I missed or have wrong, please let me know as well.</p>
<ul>
<li>
<p>re: <code>Subscription.eventCount</code>: Yes, <code>eventCount</code> will to move into the <code>SubscriptionStatus</code> resource (drafting in progress).  As a note, both the <code>eventCount</code> and <code>status</code> fields had (or would have) guidance regarding what values acceptable to PUT/POST (e.g., initial requests, resetting from errors, etc.).  Beyond that, it would be up to the server implementer to decide what to do (e.g., reject, accept modified, etc.).</p>
</li>
<li>
<p>re: data type of <code>Subscription.channel.type</code>: <code>Code</code> is an issue because of extensibility.  I do like moving it to <code>Coding</code>  though.  I will ask to see if anyone has a reason for not changing it.</p>
</li>
<li>
<p>re: general fields: Echoing Josh, many of these fields have been requested for resources in general (from knowledge gained in other areas).  <strong>They are optional and not too many, so what is the driving concern to oppose them?</strong></p>
</li>
<li>
<p>re: <code>Subscription.channel.heartbeatPeriod</code>: Josh discussed, but to summarize: we've felt this is core to the spec and useful across all channel types.</p>
</li>
<li>
<p>re: <code>Subscription.filterBy</code>: These are paired with <code>SubscriptionTopic.canFilterBy</code> elements.  We've (so far) found that using Search parameters and modifiers allow for powerful filtering, while not over-committing servers.  <strong>What use case do you have that doesn't fit this?</strong></p>
</li>
<li>
<p>re: "bundle reuse game": Current feedback is to define a new bundle type and include the new (coming soon) <code>SubscriptionStatus</code> resource as the first <code>entry</code> in the bundle (similar in concept to a message header).  This allows for those types to be first-class members and should clean all that up.  <strong>Does that work, or do you still have concerns?</strong></p>
</li>
<li>
<p>re: <code>timeout</code> parameter: Is that important for a client to be able to set?  I've always felt it was a server concern (e.g., what I will allow for a timeout on http calls).  I'm not opposed to proposing the add, but would like to understand more context around why you feel so strongly, if possible.  Ahh, looks like this is from another area that it became important (leaving original notes for myself).  I'll put it on the list to add.</p>
</li>
<li>
<p>re: event types: you don't need an extension (why we used <code>history</code> and will also be allowed in the new bundle type), you can just use <code>Bundle.request.method</code> and include the <code>HTTPVerb</code></p>
</li>
</ul>
<p>Edit: fixed formatting, bolded questions for Nicola</p>



<a name="185618278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185618278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185618278">(Jan 14 2020 at 17:25)</a>:</h4>
<p>Missed one, the server is allowed to batch notifications together. That is part of justification for bundleEventCount, so that empty notifications can represent multiple events.</p>



<a name="185624725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185624725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185624725">(Jan 14 2020 at 18:32)</a>:</h4>
<p>re patterns and Lloyd insisting...  I insisted on the pattern elements in Topic but for  Subscriptions I don't see any pattern. in fact seems more like a request than event.  Those elements were inherited from the R4 subscriptions and we added name.</p>



<a name="185625208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185625208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185625208">(Jan 14 2020 at 18:37)</a>:</h4>
<p>I think what @nicola is asking for in the Bundle game comment is more that  a subscription type, but a whole heirarchy of types .... e.g subscription-event, subs-handshake | subs-heartbeat | subs-notification</p>



<a name="185625404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185625404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185625404">(Jan 14 2020 at 18:39)</a>:</h4>
<p>and I am not understand how bundleEnevtCount,  = batch notification if the notification is not empty.</p>



<a name="185625770"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185625770" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185625770">(Jan 14 2020 at 18:42)</a>:</h4>
<p>and @nicola asked for a "event trigger code"<br>
 in SubscriptionHeader</p>
<blockquote>
<p>I would like to see event name like 'created', 'updated', 'deleted' instead of parsing HTTP string</p>
</blockquote>
<p>is that something that is being considered?</p>



<a name="185626007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185626007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185626007">(Jan 14 2020 at 18:44)</a>:</h4>
<blockquote>
<p>and I am not understand how bundleEventCount,  = batch notification if the notification is not empty.</p>
</blockquote>
<p>The issue we discovered was if you have <code>Subscription.channel.payload.content</code> set to <code>empty</code>, there are no contents to index from.  So, a bundle representing a single event and one batched to include 10 would look identical.  Adding the field <code>bundleEventCount</code> makes it so the server can communicate how many events are included in the notification, which clears that up.</p>
<p>Edit: In the cases of <code>id-only</code> or <code>full-resource</code> payloads, batching is detectable without the <code>bundleEventCount</code> (since each entry would represent one notification), but the group felt the count was still useful in those cases.</p>
<p>Edit #2: I'll also note that there has been discussion about how to describe server batching and/or responsibilities (e.g., if a server wants to batch per second, that's within general expectations - if a server wants to batch per day, that wouldn't be).  I don't think anything more concrete than "yeah, that should be addressed" has come out of it yet.</p>



<a name="185626709"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185626709" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185626709">(Jan 14 2020 at 18:51)</a>:</h4>
<blockquote>
<p>and @nicola asked for a "event trigger code"<br>
 in SubscriptionHeader</p>
<blockquote>
<p>I would like to see event name like 'created', 'updated', 'deleted' instead of parsing HTTP string<br>
is that something that is being considered?</p>
</blockquote>
</blockquote>
<p>Right now, we have been assuming <code>Bundle.request.method</code> and <code>Bundle.response.status</code> can be used to clarify anything ambiguous from the topic.</p>
<p>Re-reading, I guess the ask is for another field for specific FHIR interactions (e.g., update, patch, create, etc.)?  I'm not sure how I feel about that given how much discussion we're having about reducing the number of fields.</p>



<a name="185628411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185628411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185628411">(Jan 14 2020 at 19:07)</a>:</h4>
<blockquote>
<p>and @nicola asked for a "event trigger code"<br>
 in SubscriptionHeader</p>
<blockquote>
<p>I would like to see event name like 'created', 'updated', 'deleted' instead of parsing HTTP string<br>
is that something that is being considered?</p>
</blockquote>
</blockquote>
<p>Splitting this up for my sanity (re: response codes above), there is a separate discussion (short, in the <a href="#narrow/stream/179229-subscriptions/topic/State.20Changes.20Blog" title="#narrow/stream/179229-subscriptions/topic/State.20Changes.20Blog">State Changes Blog</a> thread) about adding to triggers around this (for SubscriptionTopic definitions).</p>
<p>Probably buried enough that I'll start a new thread about just that.</p>



<a name="185630270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185630270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185630270">(Jan 14 2020 at 19:24)</a>:</h4>
<p>Can we discuss extensibility on the channel type element? The current channel list is <code>rest-hook | websocket | email | message</code>. What additional channels would be considered as grounds for extensibility, and able to be added using the existing elements?</p>



<a name="185630321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185630321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185630321">(Jan 14 2020 at 19:25)</a>:</h4>
<p>also, Subscription.channel.payload seems like a pointless element. we should collapse it's children into the parent</p>



<a name="185631217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185631217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185631217">(Jan 14 2020 at 19:33)</a>:</h4>
<p>re: extensible channel types - we'll support Google Cloud Pub/Sub, the channel.endpoint is the pubsub topic. It's not a full URL, just a GCP resource path like "projects/X/topics/Y". There might be a similar pattern for Kafka and other message queues.</p>



<a name="185631400"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185631400" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185631400">(Jan 14 2020 at 19:34)</a>:</h4>
<p>you'll have to define some scheme prefix for the GC Pub/sub</p>



<a name="185631625"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185631625" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185631625">(Jan 14 2020 at 19:36)</a>:</h4>
<p>or put it in an extension</p>



<a name="185631859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185631859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185631859">(Jan 14 2020 at 19:38)</a>:</h4>
<p>... maybe. but it's surprising that it doesn't already have a scheme to me</p>



<a name="185631867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185631867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185631867">(Jan 14 2020 at 19:38)</a>:</h4>
<blockquote>
<p>Can we discuss extensibility on the channel type element? The current channel list is <code>rest-hook | websocket | email | message</code>. What additional channels would be considered as grounds for extensibility, and able to be added using the existing elements?</p>
</blockquote>
<p>Off the bat, I can see something like a message-queue channel (for reliable delivery on servers that want to support it).  Similarly, things like Azure Event Hub (or their AWS or GCP equivalents) would be useful to people building on those platforms.</p>
<p>In most of the cases people have discussed with me, the fields we have are good for the base but they will probably need an extension or two (e.g., a public key, etc.).</p>



<a name="185631948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185631948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185631948">(Jan 14 2020 at 19:39)</a>:</h4>
<blockquote>
<p>also, Subscription.channel.payload seems like a pointless element. we should collapse it's children into the parent</p>
</blockquote>
<p>Works for me.</p>



<a name="185632265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185632265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185632265">(Jan 14 2020 at 19:43)</a>:</h4>
<p>(re: type extensibility) Or, are you suggesting changing<code>Subscription.channel.type</code> to <code>Coding</code>?</p>



<a name="185632279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185632279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185632279">(Jan 14 2020 at 19:43)</a>:</h4>
<p>Hmm, I guess it's just <a href="https://pubsub.googleapis.com/v1/projects/X/topics/Y" target="_blank" title="https://pubsub.googleapis.com/v1/projects/X/topics/Y">https://pubsub.googleapis.com/v1/projects/X/topics/Y</a>.</p>



<a name="185632677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185632677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185632677">(Jan 14 2020 at 19:47)</a>:</h4>
<p>there's 4 ways to handle channel:</p>
<ul>
<li>not to be extensible (my preference but I can see that won't win)</li>
<li>to make it a <code>code</code> and use some external system (a la mime type)</li>
<li>make it a coding and define our own codes </li>
<li>make it a CodeableConcept (worst option)</li>
</ul>



<a name="185632693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185632693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185632693">(Jan 14 2020 at 19:47)</a>:</h4>
<p>is there a vocabulary from some other external rfc on this matter?</p>



<a name="185632725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185632725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185632725">(Jan 14 2020 at 19:47)</a>:</h4>
<blockquote>
<p>What additional channels would be considered as grounds for extensibility,</p>
</blockquote>
<p>We've also discussed messaging systems like kafka, and additional web standards like Server-Sent Events.</p>



<a name="185632838"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185632838" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185632838">(Jan 14 2020 at 19:48)</a>:</h4>
<p>I think it really should be extensible. Honestly I think our approach to MIME is not super great, because it makes validation harder. <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> do you prefer <code>code</code> (extensible) to <code>coding</code>? If so, why?</p>



<a name="185632859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185632859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185632859">(Jan 14 2020 at 19:48)</a>:</h4>
<p>I don't know of any relevant pre-existing vocabularies.</p>



<a name="185632884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185632884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185632884">(Jan 14 2020 at 19:49)</a>:</h4>
<p>(other than <a href="http://hl7.org/fhir/subscription-channel-type" target="_blank" title="http://hl7.org/fhir/subscription-channel-type">http://hl7.org/fhir/subscription-channel-type</a> ;-))</p>



<a name="185633048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185633048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185633048">(Jan 14 2020 at 19:50)</a>:</h4>
<p>I can't find any RFC that matches... the closest thing I can think of is URL protocols, but there would be collisions (in this thread already from rest-hook to GC pub/sub).</p>



<a name="185633156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185633156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185633156">(Jan 14 2020 at 19:51)</a>:</h4>
<blockquote>
<p>our approach to MIME is not super great, because it makes validation harde</p>
</blockquote>
<p>hmm. in what respect? I'm thinking about that and not sure how</p>



<a name="185633252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185633252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185633252">(Jan 14 2020 at 19:52)</a>:</h4>
<blockquote>
<p>do you prefer code (extensible) to coding</p>
</blockquote>
<p>I prefer code over Coding when there's an existing grammar from an RFC to use that saves us from doing definitions, yes. I don't prefer code over coding if we're going to do the definitions</p>



<a name="185633593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185633593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185633593">(Jan 14 2020 at 19:55)</a>:</h4>
<p>Re: MIME, I just mean that we publish valuests for MIME types liek: <a href="http://hl7.org/fhir/valueset-mimetypes.html" target="_blank" title="http://hl7.org/fhir/valueset-mimetypes.html">http://hl7.org/fhir/valueset-mimetypes.html</a>, which leads to:</p>
<p><a href="/user_uploads/10155/n-_AtsSwyt90K3ugYjPF2Jsd/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/n-_AtsSwyt90K3ugYjPF2Jsd/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/n-_AtsSwyt90K3ugYjPF2Jsd/pasted_image.png"></a></div>



<a name="185633708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185633708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185633708">(Jan 14 2020 at 19:56)</a>:</h4>
<p>This causes developers not to do as much validation as they might if an off-the-shelf valuset was bound to these fields (like we'd presumably want to do for channel types).</p>



<a name="185633885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185633885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185633885">(Jan 14 2020 at 19:58)</a>:</h4>
<p>from a methodology view point, we could specify a listed set, but mime types don't actually work like that</p>



<a name="185633963"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185633963" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185633963">(Jan 14 2020 at 19:59)</a>:</h4>
<p>I agree, and FHIR's approach to MIME types isn't the wrong call. I'm just saying it's a pain point for developers; I wouldn't want to cause that pain for channel types if we can reasonably avoid it.</p>



<a name="185685746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185685746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185685746">(Jan 15 2020 at 10:32)</a>:</h4>
<p><span class="user-mention" data-user-id="222054">@Gino Canessa</span> explicit timeout is important because otherwise, the server wants to set a timeout, but it does not know which. If it's small - the client may have problems, if it's too long - the server spends resources. It's definitely "recommended by client" timeout which server can override.</p>



<a name="185712138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/185712138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#185712138">(Jan 15 2020 at 16:05)</a>:</h4>
<p><span class="user-mention" data-user-id="191318">@nicola (RIO/SS)</span> Yes, that is what I ended up with in my notes.  I don't necessarily agree in practice - from the server side I have a timeout for HTTP connections and I would not change it based on what a client requests.  But, I can see the general usefulness and agree that other people are nicer than me  :-)</p>



<a name="188584416"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/188584416" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#188584416">(Feb 19 2020 at 20:55)</a>:</h4>
<p>Can we flatten out Subscription even more,  why do we need channel object.  its all max = 1 so could these all be first class elements :<br>
...<br>
channelType (codeable)<br>
endpoint<br>
etc<br>
...</p>



<a name="188585254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/188585254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#188585254">(Feb 19 2020 at 21:05)</a>:</h4>
<p>Looks like it works.</p>
<ul>
<li>Pro: simpler</li>
<li>Con: loses logical grouping</li>
</ul>
<p>Any strong feelings?</p>



<a name="188595568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/188595568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#188595568">(Feb 19 2020 at 23:05)</a>:</h4>
<p>I actually like the backbone element that gives logical grouping.</p>



<a name="188597286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/188597286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#188597286">(Feb 19 2020 at 23:36)</a>:</h4>
<p>General recommendation in FHIR resource design is to not use grouping unless:</p>
<ul>
<li>the group repeats</li>
<li>it makes sense to mark the group as optional or required as a collection</li>
<li>the group represents a logical context for extensions</li>
</ul>



<a name="188597293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/188597293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#188597293">(Feb 19 2020 at 23:37)</a>:</h4>
<p>(though I don't think that last bullet is actually written down anywhere...)</p>



<a name="188598180"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/188598180" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#188598180">(Feb 19 2020 at 23:51)</a>:</h4>
<p>second bullet makes no sense to me.  </p>
<p>group 0..1 and all children 1..1<br>
group 1..1 and all children 0..1 </p>
<p>?</p>



<a name="188599343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/188599343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#188599343">(Feb 20 2020 at 00:10)</a>:</h4>
<p>Second bullet doesn't place cardinality constraints on the children, it just says that it makes sense to turn them on or off as a group.  E.g. CapabilityStatement.software - none of the elements are mandatory, but it does make sense to turn them off as a group if you're dealing with an IG-level CapabilityStatement.</p>



<a name="188607382"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/188607382" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#188607382">(Feb 20 2020 at 03:24)</a>:</h4>
<p>If we wound up getting rid of the grouping, we would probably need to push the name "channel" down from the grouping level into a prefix for each of the individual property names.</p>



<a name="188607383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/188607383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#188607383">(Feb 20 2020 at 03:24)</a>:</h4>
<p>I think the grouping is actually pretty useful.</p>



<a name="188609713"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/188609713" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#188609713">(Feb 20 2020 at 04:34)</a>:</h4>
<p>I only see channelType as being necessary everything else could stay the same since your context is that channel type.   There is no functional reason for nesting only to make it pretty and neat from a modeling perspective.   Its a pretty simple resource so I think is make it look more complex than it is</p>



<a name="188611037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/188611037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#188611037">(Feb 20 2020 at 05:13)</a>:</h4>
<p>Agreed there is no functional reason for nesting.</p>



<a name="188611100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/188611100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#188611100">(Feb 20 2020 at 05:15)</a>:</h4>
<p>Looking back through all the subelement names, I think I agree that channel type is the only really critical one to include the word "channel" in. So I think you've convinced me :-)</p>



<a name="189235295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/189235295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#189235295">(Feb 27 2020 at 17:30)</a>:</h4>
<p><a href="/user_uploads/10155/m42QPKxaJKaiqbDHWl9OEqqr/darth-vader-nooooo.jpg" target="_blank" title="darth-vader-nooooo.jpg">darth-vader-nooooo.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/m42QPKxaJKaiqbDHWl9OEqqr/darth-vader-nooooo.jpg" target="_blank" title="darth-vader-nooooo.jpg"><img src="/user_uploads/10155/m42QPKxaJKaiqbDHWl9OEqqr/darth-vader-nooooo.jpg"></a></div>



<a name="189235311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Notes%20on%20Subscriptions/near/189235311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Notes.20on.20Subscriptions.html#189235311">(Feb 27 2020 at 17:30)</a>:</h4>
<p>Ok fine <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
