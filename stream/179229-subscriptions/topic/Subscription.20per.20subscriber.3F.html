---
layout: page
title: "FHIR Chat  · Subscription per subscriber? · subscriptions"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/index.html">subscriptions</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html">Subscription per subscriber?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="164923647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164923647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164923647">(May 05 2019 at 15:16)</a>:</h4>
<p>One of the discussions we had at the table during the connectathon was around the awkwardness of the Subscription resource to subscriber. A basic summary:</p>
<ul>
<li>For email, SMS, and resHook, it is clearly a subscription:subscriber (many:1) relationship because the subscription has data that is obviously specific to the subscriber. </li>
<li>for WebSockets, there was some confusion around this. The websocket endpoint is common to all subscribers - though there are other details on subscription that definitely define the subscriber. It feels interesting to require every websocket to be unique even if the criteria is the same.</li>
</ul>



<a name="164923656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164923656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164923656">(May 05 2019 at 15:16)</a>:</h4>
<p>In the first case, the server can still fan out - essentially gather the same subscriptions behind the scenes and send the message to all interested parties</p>



<a name="164923856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164923856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164923856">(May 05 2019 at 15:22)</a>:</h4>
<p>The websocket modality is a little different. We're requiring different binds when technically, the server should be able to handle the common subscriptions on the same bind when the criteria are the same</p>



<a name="164923860"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164923860" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164923860">(May 05 2019 at 15:23)</a>:</h4>
<p>This gets closer to the topic conversation that came up during our Event conversations</p>



<a name="164923870"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164923870" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164923870">(May 05 2019 at 15:23)</a>:</h4>
<p>I'm leaving this conversation here for others to add or extend... :)</p>



<a name="164924131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164924131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164924131">(May 05 2019 at 15:31)</a>:</h4>
<p>I haven't really understood this thread - the fact that there is one websocket end-point doesn't mean that you run more than one subscription per web-socket connection?</p>



<a name="164924336"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164924336" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164924336">(May 05 2019 at 15:37)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  The general opinion here is that a server would likely (if subscriptions wasn't defined like this) have all subscribers that have the same criteria bind to the same "topic" vs binding to each subscription uniquely</p>



<a name="164924339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164924339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164924339">(May 05 2019 at 15:37)</a>:</h4>
<p>eg: if 1000 people want Observation?category=laboratory, they would all have the same bind</p>



<a name="164924383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164924383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164924383">(May 05 2019 at 15:38)</a>:</h4>
<p>but today, they would bind to 1000 different messages</p>



<a name="164924384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164924384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164924384">(May 05 2019 at 15:38)</a>:</h4>
<p>that is, if the were only a few topics</p>



<a name="164924390"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164924390" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164924390">(May 05 2019 at 15:38)</a>:</h4>
<p>no, even if the server was really amazingly scalable and had a whole compute stack ;)</p>



<a name="164924408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164924408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164924408">(May 05 2019 at 15:39)</a>:</h4>
<p>IE the server behind the scenes is finding the commonalities anyway today for scale/sanity</p>



<a name="164924608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164924608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164924608">(May 05 2019 at 15:45)</a>:</h4>
<p>Requiring different binds for web socket means also that the same client will generate new subscriptions every time it re-starts (assuming it does not go through the trouble of deleting the old one - that for a browser-based client is difficult)</p>



<a name="164924661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164924661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164924661">(May 05 2019 at 15:46)</a>:</h4>
<p>But sharing bindings is not really possible because if the client actually _do_ delete the subscription it will break it for everyone</p>



<a name="164925163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164925163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164925163">(May 05 2019 at 16:00)</a>:</h4>
<p>the way the current subscription works, the client can subscribe to whatever it can describe. given that, I don't find the idea of 1000 clients subscribing to the same thing very compelling</p>



<a name="164925169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164925169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164925169">(May 05 2019 at 16:00)</a>:</h4>
<p>are we saying that we think the current method is jsut crap and we want to toast it in the interests of scaling the implementations?</p>



<a name="164925259"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164925259" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brandon Pollett <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164925259">(May 05 2019 at 16:03)</a>:</h4>
<p>If you have 1000 patients all using the same client application, it would be much more efficient if they all listened to the same subscription</p>



<a name="164925316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164925316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brandon Pollett <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164925316">(May 05 2019 at 16:04)</a>:</h4>
<p>The server could realize it needs to ping all these websocket connections given this single subscription fired.</p>



<a name="164925413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164925413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164925413">(May 05 2019 at 16:06)</a>:</h4>
<p>1000 patients would have to listening to differnet subscriptions, since it's different patients. No?</p>



<a name="164925439"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164925439" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brandon Pollett <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164925439">(May 05 2019 at 16:07)</a>:</h4>
<p>Depends on the criteria.</p>



<a name="164925489"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164925489" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164925489">(May 05 2019 at 16:08)</a>:</h4>
<p>well, I presume you don't mean 1000 patients all listening to the same patient results - I presume you mean that somehow the patient-ness of the subscription is... implicit....</p>



<a name="164925516"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164925516" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brandon Pollett <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164925516">(May 05 2019 at 16:09)</a>:</h4>
<p>Or not required... something like the application wants to know when a slot becomes available.</p>



<a name="164925523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179229-subscriptions/topic/Subscription%20per%20subscriber%3F/near/164925523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179229-subscriptions/topic/Subscription.20per.20subscriber.3F.html#164925523">(May 05 2019 at 16:09)</a>:</h4>
<p>sounds like a fun auction.... but ok</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
