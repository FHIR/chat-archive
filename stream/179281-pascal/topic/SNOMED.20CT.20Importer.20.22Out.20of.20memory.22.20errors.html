---
layout: page
title: "FHIR Chat  · SNOMED CT Importer &quot;Out of memory&quot; errors · pascal"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/index.html">pascal</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/SNOMED.20CT.20Importer.20.22Out.20of.20memory.22.20errors.html">SNOMED CT Importer &quot;Out of memory&quot; errors</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="225641509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/SNOMED%20CT%20Importer%20%22Out%20of%20memory%22%20errors/near/225641509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/SNOMED.20CT.20Importer.20.22Out.20of.20memory.22.20errors.html#225641509">(Feb 09 2021 at 03:23)</a>:</h4>
<p>It looks like we have a rather serious problem with the the latest version(s) of the SNOMED CT Importer that are included in the FHIR Console.  After that work was done, on Dec 7 I tried to import the Swedish Edition, but that failed with an "Out of memory" error on <a href="http://tx.fhir.org">tx.fhir.org</a>.  The question was raised about possibly increasing the available RAM on the the server, but instead <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> suggested doing the import using a local instance.  And, Grahame's statement at the time that "the server is more of a ram consumer than it used to be" turns out possibly to be the biggest understatement of the year (even in the year of COVID-19!). :)  When I finally tried doing that, I found that the imports (this time of the International Edition) were still failing with "Out of memory", even on Windows 10 VMs with increasingly large amounts of RAM - up until my attempt today which failed with 256 GB (see attached screenshots)!  This is obviously completely unworkable, and it makes no sense to try anything further.  So at this point I can't import and load the 20210131 International Edition, which is now available and I was asked for last week, or probably any other SNOMED CT Edition.  So we need to get this fixed (I assume I should submit a GH issue?). <a href="user_uploads/10155/dg7f_iMsWyPODhPZB8FR4_ac/Screen-Shot-2021-02-08-at-18.35.03.png">Screen-Shot-2021-02-08-at-18.35.03.png</a> <a href="user_uploads/10155/v-MxFb9FP2anVXhtLtDbYiFf/Screen-Shot-2021-02-08-at-18.41.23.png">Screen-Shot-2021-02-08-at-18.41.23.png</a></p>
<div class="message_inline_image"><a href="user_uploads/10155/dg7f_iMsWyPODhPZB8FR4_ac/Screen-Shot-2021-02-08-at-18.35.03.png" title="Screen-Shot-2021-02-08-at-18.35.03.png"><img src="user_uploads/10155/dg7f_iMsWyPODhPZB8FR4_ac/Screen-Shot-2021-02-08-at-18.35.03.png"></a></div><div class="message_inline_image"><a href="user_uploads/10155/v-MxFb9FP2anVXhtLtDbYiFf/Screen-Shot-2021-02-08-at-18.41.23.png" title="Screen-Shot-2021-02-08-at-18.41.23.png"><img src="user_uploads/10155/v-MxFb9FP2anVXhtLtDbYiFf/Screen-Shot-2021-02-08-at-18.41.23.png"></a></div>



<a name="225747592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/SNOMED%20CT%20Importer%20%22Out%20of%20memory%22%20errors/near/225747592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/SNOMED.20CT.20Importer.20.22Out.20of.20memory.22.20errors.html#225747592">(Feb 09 2021 at 19:54)</a>:</h4>
<p>where's the easiest place for me to get the source for the international edition?</p>



<a name="225755735"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/SNOMED%20CT%20Importer%20%22Out%20of%20memory%22%20errors/near/225755735" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/SNOMED.20CT.20Importer.20.22Out.20of.20memory.22.20errors.html#225755735">(Feb 09 2021 at 20:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  It's on <a href="http://tx.fhir.org">tx.fhir.org</a> in D:\download\SnomedCT_InternationalRF2_PRODUCTION_20210131T120000Z (the complete release).</p>



<a name="225784027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/SNOMED%20CT%20Importer%20%22Out%20of%20memory%22%20errors/near/225784027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/SNOMED.20CT.20Importer.20.22Out.20of.20memory.22.20errors.html#225784027">(Feb 10 2021 at 01:36)</a>:</h4>
<p>well, I can reproduce the problem. That's using crazy amounts of memory</p>



<a name="225784177"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/SNOMED%20CT%20Importer%20%22Out%20of%20memory%22%20errors/near/225784177" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/SNOMED.20CT.20Importer.20.22Out.20of.20memory.22.20errors.html#225784177">(Feb 10 2021 at 01:38)</a>:</h4>
<p>Yes.  At least you're seeing the same thing - that should be the first step in getting it fixed.</p>



<a name="225789224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/SNOMED%20CT%20Importer%20%22Out%20of%20memory%22%20errors/near/225789224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/SNOMED.20CT.20Importer.20.22Out.20of.20memory.22.20errors.html#225789224">(Feb 10 2021 at 03:04)</a>:</h4>
<p><a href="http://healthintersections.com.au/snomed_20210131_intl.zip">http://healthintersections.com.au/snomed_20210131_intl.zip</a> but I'll have to do a new release in order to use it</p>



<a name="225790302"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/SNOMED%20CT%20Importer%20%22Out%20of%20memory%22%20errors/near/225790302" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/SNOMED.20CT.20Importer.20.22Out.20of.20memory.22.20errors.html#225790302">(Feb 10 2021 at 03:27)</a>:</h4>
<p>Looks like you're getting there?</p>



<a name="225790933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/SNOMED%20CT%20Importer%20%22Out%20of%20memory%22%20errors/near/225790933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/SNOMED.20CT.20Importer.20.22Out.20of.20memory.22.20errors.html#225790933">(Feb 10 2021 at 03:41)</a>:</h4>
<p>And primarily you're removing (commented out) some of the sorting code?</p>



<a name="225791478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/SNOMED%20CT%20Importer%20%22Out%20of%20memory%22%20errors/near/225791478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/SNOMED.20CT.20Importer.20.22Out.20of.20memory.22.20errors.html#225791478">(Feb 10 2021 at 03:53)</a>:</h4>
<p>I reduced the amount of memory allocated to undertanding the relationships. not sure why it was consuming so much memory</p>



<a name="225794447"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/SNOMED%20CT%20Importer%20%22Out%20of%20memory%22%20errors/near/225794447" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/SNOMED.20CT.20Importer.20.22Out.20of.20memory.22.20errors.html#225794447">(Feb 10 2021 at 04:53)</a>:</h4>
<p>ok it's all released now</p>



<a name="225794480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/SNOMED%20CT%20Importer%20%22Out%20of%20memory%22%20errors/near/225794480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/SNOMED.20CT.20Importer.20.22Out.20of.20memory.22.20errors.html#225794480">(Feb 10 2021 at 04:54)</a>:</h4>
<p>I'll upgrade <a href="http://tx.fhir.org">tx.fhir.org</a> shortly</p>



<a name="226149165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/SNOMED%20CT%20Importer%20%22Out%20of%20memory%22%20errors/near/226149165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/SNOMED.20CT.20Importer.20.22Out.20of.20memory.22.20errors.html#226149165">(Feb 12 2021 at 15:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I assumed "all released" would mean that it is updated on the Tools Release page, but the version there is still v0.0.369 dated 2020-12-18.  I still haven't finished working out the openssl issue for launching my compiled version, so if I can get the updated binary for now that will be good.</p>



<a name="226718611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/SNOMED%20CT%20Importer%20%22Out%20of%20memory%22%20errors/near/226718611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/SNOMED.20CT.20Importer.20.22Out.20of.20memory.22.20errors.html#226718611">(Feb 17 2021 at 20:15)</a>:</h4>
<p>.370 for me - you have a caching problem?</p>



<a name="226738629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/SNOMED%20CT%20Importer%20%22Out%20of%20memory%22%20errors/near/226738629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/SNOMED.20CT.20Importer.20.22Out.20of.20memory.22.20errors.html#226738629">(Feb 17 2021 at 22:35)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  I don't think so.  On the 12th when I posted that it was still .369 - but now today (before I saw your reply above) it's .370.  So, with that, I was <strong>finally</strong> able to get a successful cache file generated for the 2021-01-31 International Edition and now that is loaded on <a href="http://tx.fhir.org">tx.fhir.org</a>.  But it's still using large amounts of RAM - though fortunately somewhat smaller than before (screen shot attached).  So I was able to do the import with the 256 GB VM, and it looks like I should be able to scale it back and it would work (barely) with 128 GB - but that's still pretty massive, and much more than we ever needed in the past. <a href="/user_uploads/10155/ht3i0eaM91cabzPw39MEdVmy/Screen-Shot-2021-02-17-at-14.42.55.png">Screen-Shot-2021-02-17-at-14.42.55.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/ht3i0eaM91cabzPw39MEdVmy/Screen-Shot-2021-02-17-at-14.42.55.png" title="Screen-Shot-2021-02-17-at-14.42.55.png"><img src="/user_uploads/10155/ht3i0eaM91cabzPw39MEdVmy/Screen-Shot-2021-02-17-at-14.42.55.png"></a></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
