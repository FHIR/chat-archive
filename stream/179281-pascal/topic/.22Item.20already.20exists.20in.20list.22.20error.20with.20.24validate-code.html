---
layout: page
title: "FHIR Chat  · &quot;Item already exists in list&quot; error with $validate-code · pascal"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/index.html">pascal</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html">&quot;Item already exists in list&quot; error with $validate-code</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="245926415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/245926415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#245926415">(Jul 14 2021 at 07:09)</a>:</h4>
<p>When I try to validate a code on <a href="http://tx.fhir.org">tx.fhir.org</a> with <code>POST http://tx.fhir.org/r4/ValueSet/$validate-code?system=http://snomed.info/sct&amp;code=256303006</code> and this <a href="/user_uploads/10155/cnv5Uephwy1ghzbPyPqOxd5a/ValueSet-allergy-intolerance-substance-product-gps-uv-ips.json">value set</a> as the body, I'm getting this error:</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot; : &quot;Parameters&quot;,
  &quot;parameter&quot; : [
    {
      &quot;name&quot; : &quot;result&quot;,
      &quot;valueBoolean&quot; : false
    },
    {
      &quot;name&quot; : &quot;message&quot;,
      &quot;valueString&quot; : &quot;Item already exists in list (http://terminology.hl7.org/ValueSet/snomed-intl-gps=D7ED3B00)&quot;
    },
    {
      &quot;name&quot; : &quot;cause&quot;,
      &quot;valueString&quot; : &quot;unknown&quot;
    }
  ]
}
</code></pre></div>
<p>If I remove the <code>expansion</code> element from the value set instance I still get the same result, so that doesn't seem to be causing the issue.  If I validate the code directly with the GPS value set with <code>GET http://tx.fhir.org/r4/ValueSet/$validate-code?url=http://terminology.hl7.org/ValueSet/snomed-intl-gps&amp;system=http://snomed.info/sct&amp;code=256303006</code>, that works correctly.  The <code>http://terminology.hl7.org/ValueSet/snomed-intl-gps</code> value set is both loaded directly on <a href="http://tx.fhir.org">tx.fhir.org</a> from the packages and also is now published in the THO CI build.  It was unclear how that would be handled and what effect it would have - and maybe that could be the source of the duplication?</p>



<a name="245926984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/245926984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#245926984">(Jul 14 2021 at 07:17)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="246525265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/246525265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#246525265">(Jul 19 2021 at 22:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> Would you be interested in helping me to chase this error down and figure out how we can fix it?</p>



<a name="246525357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/246525357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#246525357">(Jul 19 2021 at 22:54)</a>:</h4>
<p>Yes. Tomorrow? You'll have to run the debugging because I can't</p>



<a name="246525914"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/246525914" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#246525914">(Jul 19 2021 at 23:01)</a>:</h4>
<p>Yeah, that probably can work.  Would 14:00 CEST be good for you (7:00 AM for me)?  I have an IPS-related meeting at 15:00, so we could look at it for up to an hour.  And if more is needed we can schedule a follow-up?</p>



<a name="246654942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/246654942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#246654942">(Jul 20 2021 at 21:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span> is your lazarus able to compile the server?</p>



<a name="246656347"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/246656347" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#246656347">(Jul 20 2021 at 21:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span>  Yes, it is - when I last tried it a little while ago.  I never actually tried launching the server from it, though, as I didn't have the database set up and didn't spend the time at that time to deternmin what I actually needed for that.</p>



<a name="246656539"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/246656539" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#246656539">(Jul 20 2021 at 21:59)</a>:</h4>
<p>The console built and launches fine - but I only used it so far for the terminology import functions.  I need to try it again and make sure that everything is still working ok.</p>



<a name="246657571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/246657571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#246657571">(Jul 20 2021 at 22:10)</a>:</h4>
<p>is your code up to date with the github repo?</p>



<a name="246657587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/246657587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#246657587">(Jul 20 2021 at 22:11)</a>:</h4>
<p>i can't get it to compile. it has too many missing files</p>



<a name="246658909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/246658909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#246658909">(Jul 20 2021 at 22:30)</a>:</h4>
<p>Let me try to check it again in a moment.  I'll first make sure it compiles ok with the version I have now.  Then, assuming that still is working ok, I'll update it and we'll see that happens.</p>



<a name="246883103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/246883103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#246883103">(Jul 22 2021 at 17:56)</a>:</h4>
<p>what doesn't compile?</p>



<a name="246895856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/246895856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#246895856">(Jul 22 2021 at 19:45)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  I compiled fhirserver successfully on Delphi last night.  Jose and I have just walked through getting the db set up.  There are still a few straggling issues at the moment, but nothing that looks too bad.  But the "Item already exists in list" error is still definitely an issue.</p>



<a name="247000175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/247000175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#247000175">(Jul 23 2021 at 16:32)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> and I just finished working through the remaining details, and now we both have working fhirserver (terminology server) instances.  And I will finish adding the needed terminologies on mine and I'll get back to looking at this "Item already exists in list" error.  If you run into anything or want to look into that further, too, Jose, let me know.  I still need to get this one solved.</p>



<a name="247007473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/247007473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#247007473">(Jul 23 2021 at 17:28)</a>:</h4>
<p>fixing this will be a three stage thing - figuring out what list, fixing the code to say what's a duplicate, and then figuring out why a duplicate is being added. that's usually complicated - a bad underlying assumption somewhere</p>



<a name="247007628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/247007628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#247007628">(Jul 23 2021 at 17:29)</a>:</h4>
<p>Makes sense.  I wasn't assuming it would be too easy. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="249748938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/%22Item%20already%20exists%20in%20list%22%20error%20with%20%24validate-code/near/249748938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/.22Item.20already.20exists.20in.20list.22.20error.20with.20.24validate-code.html#249748938">(Aug 17 2021 at 17:09)</a>:</h4>
<p>I just submitted <a href="https://github.com/grahamegrieve/fhirserver/pull/126">PR #126</a> to fix this.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
