---
layout: page
title: "FHIR Chat  · server updates · pascal"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/index.html">pascal</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html">server updates</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154004635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/154004635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#154004635">(Oct 02 2018 at 14:32)</a>:</h4>
<p>I think the server command line syntax changed... what is the basic command line to get the server running locally ? <br>
I noticed something that looks like a bug</p>



<a name="154004641"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/154004641" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#154004641">(Oct 02 2018 at 14:43)</a>:</h4>
<p>issue:<br>
search for patients, click on a link to one of the results. The link is {base}/r4/entry/1 but should be {base/r4/<strong>Patient</strong>/1 .</p>



<a name="154004642"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/154004642" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#154004642">(Oct 02 2018 at 14:46)</a>:</h4>
<p>first guess: could it be FHIR.Server.XhtmlComp.pas line 455?<br>
(e.fhirType vs e.resource.fhirType)</p>



<a name="154004730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/154004730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#154004730">(Oct 02 2018 at 16:16)</a>:</h4>
<p>I thought I just fixed that</p>



<a name="154004731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/154004731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#154004731">(Oct 02 2018 at 16:16)</a>:</h4>
<p>-cmd exec</p>



<a name="154004736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/154004736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#154004736">(Oct 02 2018 at 16:18)</a>:</h4>
<p>you fixed line 450 recently indeed, but not line 455</p>



<a name="154004737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/154004737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#154004737">(Oct 02 2018 at 16:19)</a>:</h4>
<p><a href="/user_uploads/10155/TWu3ewR7wHnMF5-W2q2Pbv3-/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/TWu3ewR7wHnMF5-W2q2Pbv3-/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/TWu3ewR7wHnMF5-W2q2Pbv3-/pasted_image.png"></a></div>



<a name="154004738"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/154004738" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#154004738">(Oct 02 2018 at 16:20)</a>:</h4>
<p>i'm on it</p>



<a name="154004739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/154004739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#154004739">(Oct 02 2018 at 16:20)</a>:</h4>
<p>btw, where is / how to configure the server endpoint?</p>



<a name="154004740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/154004740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#154004740">(Oct 02 2018 at 16:21)</a>:</h4>
<p>/open no longer works</p>



<a name="154004751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/154004751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#154004751">(Oct 02 2018 at 16:24)</a>:</h4>
<p>and -cmd remount fails</p>



<a name="154004781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/154004781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#154004781">(Oct 02 2018 at 17:00)</a>:</h4>
<p>why does it fail?</p>



<a name="154004784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/154004784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#154004784">(Oct 02 2018 at 17:05)</a>:</h4>
<p>9:04:33 00:00:00 FHIR Service 1.0.200. Using ini file C:\HL7\fhir4Server\fhirserver.ini with stack dumps on<br>
19:04:33 00:00:00 EFslException: unknown version</p>
<p>(0000000003BB4241){FHIRServer.exe} [0000000003FB5241] FHIR.Server.Kernel._ZN4Fhir6Server6Kernel12TFHIRService17UnInstallDatabaseEN6System13UnicodeStringE + $1C1<br>
(0000000003BAB892){FHIRServer.exe} [0000000003FAC892] JclDebug._ZN8Jcldebug17TJclStackInfoListC3EbiPvbS1_ + $82<br>
(0000000003BAD740){FHIRServer.exe} [0000000003FAE740] JclDebug._ZN8Jcldebug21GetExceptionStackInfoEPN6System16TExceptionRecordE + $160<br>
(0000000000049307){FHIRServer.exe} [000000000044A307] System.SysUtils._ZN6System8Sysutils9Exception16RaisingExceptionEPNS_16TExceptionRecordE + $27<br>
(0000000000049C0B){FHIRServer.exe} [000000000044AC0B] System.SysUtils._ZN6System8Sysutils17RaiseExceptObjectEPNS_16TExceptionRecordE + $2B<br>
(0000000000011566){FHIRServer.exe} [0000000000412566] System._ZN6System14_RaiseAtExceptEPNS_7TObjectEPv + $E6<br>
(00000000000115B1){FHIRServer.exe} [00000000004125B1] System._ZN6System12_RaiseExceptEPNS_7TObjectE + $11<br>
(0000000003BB4241){FHIRServer.exe} [0000000003FB5241] FHIR.Server.Kernel._ZN4Fhir6Server6Kernel12TFHIRService17UnInstallDatabaseEN6System13UnicodeStringE + $1C1<br>
(0000000003BAEF4D){FHIRServer.exe} [0000000003FAFF4D] FHIR.Server.Kernel._ZN4Fhir6Server6Kernel17ExecuteFhirServerEv + $67D</p>



<a name="175036083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036083">(Sep 06 2019 at 05:07)</a>:</h4>
<p>server does not compile since yesterday's update. Is it me?</p>



<a name="175036151"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036151" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036151">(Sep 06 2019 at 05:09)</a>:</h4>
<p>hmm why not?</p>



<a name="175036161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036161">(Sep 06 2019 at 05:09)</a>:</h4>
<p>should do know - I just did a full release</p>



<a name="175036168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036168">(Sep 06 2019 at 05:09)</a>:</h4>
<p>ok let me restart ide and rebuild</p>



<a name="175036241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036241">(Sep 06 2019 at 05:11)</a>:</h4>
<p>ok it's linking</p>



<a name="175036281"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036281" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036281">(Sep 06 2019 at 05:12)</a>:</h4>
<p>false alarm, sorry</p>



<a name="175036286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036286">(Sep 06 2019 at 05:12)</a>:</h4>
<p>np. I think I missed something yesterday</p>



<a name="175036307"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036307" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036307">(Sep 06 2019 at 05:13)</a>:</h4>
<p>I found a bug where the DB connection class was allowing re-use with out proper clean up, so I've added an assertion that this doesn't happen anymore, and also that proper clean up does happen. Let me know if it fires anywhere</p>



<a name="175036317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036317">(Sep 06 2019 at 05:14)</a>:</h4>
<p>ok so my command line is this<br>
-cmd remount -debug -ini "C:\HL7\fhir4Server\fhirserver.ini"  -password DBroot123 -endpoint open</p>



<a name="175036358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036358">(Sep 06 2019 at 05:14)</a>:</h4>
<p>and it breaks with this:</p>



<a name="175036364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036364">(Sep 06 2019 at 05:14)</a>:</h4>
<p>07:13:35 00:00:00 Connect to dbr4 (mysql://jctasus.local/fhirDB)<br>
07:13:35 00:00:00 mount endpoint dbr4<br>
07:13:36 00:00:00 EODBC: [Microsoft][ODBC Driver Manager] Function sequence error</p>
<p>(0000000000C47864){FHIRServer.exe} [0000000001048864] FHIR.Database.ODBC.Objects._ZN4Fhir8Database4Odbc7Objects17TODBCErrorHandler10RaiseErrorEPNS2_11TODBCObjectEs (Line 2990, "FHIR.Database.ODBC.Objects.pas" + 18) + $0<br>
(0000000004226A52){FHIRServer.exe} [0000000004627A52] JclDebug._ZN8Jcldebug17TJclStackInfoListC3EbiPvbS1_ (Line 5377, "JclDebug.pas" + 2) + $0<br>
(00000000042289F3){FHIRServer.exe} [00000000046299F3] JclDebug._ZN8Jcldebug21GetExceptionStackInfoEPN6System16TExceptionRecordE (Line 7219, "JclDebug.pas" + 39) + $3B<br>
(00000000000497D7){FHIRServer.exe} [000000000044A7D7] System.SysUtils._ZN6System8Sysutils9Exception16RaisingExceptionEPNS_16TExceptionRecordE + $27<br>
(000000000004A0DB){FHIRServer.exe} [000000000044B0DB] System.SysUtils._ZN6System8Sysutils17RaiseExceptObjectEPNS_16TExceptionRecordE + $2B<br>
(0000000000011566){FHIRServer.exe} [0000000000412566] System._ZN6System14_RaiseAtExceptEPNS_7TObjectEPv + $E6<br>
(00000000000115B1){FHIRServer.exe} [00000000004125B1] System._ZN6System12_RaiseExceptEPNS_7TObjectE + $11<br>
(0000000000C47864){FHIRServer.exe} [0000000001048864] FHIR.Database.ODBC.Objects._ZN4Fhir8Database4Odbc7Objects17TODBCErrorHandler10RaiseErrorEPNS2_11TODBCObjectEs (Line 2990, "FHIR.Database.ODBC.Objects.pas" + 18) + $0<br>
(0000000000C47CE3){FHIRServer.exe} [0000000001048CE3] FHIR.Database.ODBC.Objects._ZN4Fhir8Database4Odbc7Objects8TOdbcEnv15TerminateHandleEv (Line 3102, "FHIR.Database.ODBC.Objects.pas" + 8) + $0<br>
(0000000000C47A37){FHIRServer.exe} [0000000001048A37] FHIR.Database.ODBC.Objects._ZN4Fhir8Database4Odbc7Objects8TOdbcEnvD0Ev (Line 3036, "FHIR.Database.ODBC.Objects.pas" + 6) + $0<br>
(000000000000F078){FHIRServer.exe} [0000000000410078] System._ZN6System7TObject4FreeEv + $18<br>
(0000000000C643EE){FHIRServer.exe} [00000000010653EE] FHIR.Database.ODBC._ZN4Fhir8Database4Odbc15TKDBOdbcManagerD0Ev (Line 880, "FHIR.Database.ODBC.pas" + 4) + $0<br>
(00000000002871A9){FHIRServer.exe} [00000000006881A9] FHIR.Support.Base._ZN4Fhir7Support4Base10TFslObject4FreeEv (Line 765, "FHIR.Support.Base.pas" + 8) + $10<br>
(000000000422F814){FHIRServer.exe} [0000000004630814] FHIR.Server.Kernel._ZN4Fhir6Server6Kernel12TFHIRService15InstallDatabaseEN6System13UnicodeStringENS0_11Dbinstaller26TFHIRInstallerSecurityModeE (Line 981, "FHIR.Server.Kernel.pas" + 84) + $14<br>
(0000000000010FF9){FHIRServer.exe} [0000000000411FF9] System._ZN6System23_DelphiExceptionHandlerEPNS_16TExceptionRecordEyPvS2_ + $589<br>
(00000000000A37FF){ntdll.dll   } [00007FFC294747FF] Unknown function at __chkstk + $19F<br>
(000000000000500C){ntdll.dll   } [00007FFC293D600C] RtlUnwindEx + $51C<br>
(0000000000010E59){FHIRServer.exe} [0000000000411E59] System._ZN6System23_DelphiExceptionHandlerEPNS_16TExceptionRecordEyPvS2_ + $3E9<br>
(00000000000A377F){ntdll.dll   } [00007FFC2947477F] Unknown function at __chkstk + $11F<br>
(0000000000003BEF){ntdll.dll   } [00007FFC293D4BEF] Unknown function at RtlWalkFrameChain + $14BF<br>
(00000000000A24EE){ntdll.dll   } [00007FFC294734EE] KiUserExceptionDispatcher + $2E<br>
(0000000000038129){KERNELBASE.dll} [00007FFC26219129] RaiseException + $69<br>
(00000000042181DB){FHIRServer.exe} [00000000046191DB] JclHookExcept._ZN13Jclhookexcept20HookedRaiseExceptionEjjjPNS_19TExceptionArgumentsE (Line 380, "JclHookExcept.pas" + 14) + $0<br>
(0000000000011586){FHIRServer.exe} [0000000000412586] System._ZN6System14_RaiseAtExceptEPNS_7TObjectEPv + $106<br>
(00000000000115F8){FHIRServer.exe} [00000000004125F8] System._ZN6System11_RaiseAgainEv + $38<br>
(000000000079D6AE){FHIRServer.exe} [0000000000B9E6AE] FHIR.Database.Manager._ZN4Fhir8Database7Manager11TKDBManager13GetConnectionEN6System13UnicodeStringE (Line 1390, "FHIR.Database.Manager.pas" + 23) + $5<br>
(000000000422F5C0){FHIRServer.exe} [00000000046305C0] FHIR.Server.Kernel._ZN4Fhir6Server6Kernel12TFHIRService15InstallDatabaseEN6System13UnicodeStringENS0_11Dbinstaller26TFHIRInstallerSecurityModeE (Line 953, "FHIR.Server.Kernel.pas" + 56) + $13<br>
(000000000422A293){FHIRServer.exe} [000000000462B293] FHIR.Server.Kernel._ZN4Fhir6Server6Kernel17ExecuteFhirServerEv (Line 249, "FHIR.Server.Kernel.pas" + 75) + $0<br>
(0000000004235CD0){FHIRServer.exe} [0000000004636CD0] FHIRServer._ZN10Fhirserver14initializationEv (Line 400, "FHIRServer.dpr" + 11) + $5<br>
(0000000000016974){KERNEL32.DLL} [00007FFC28F27974] BaseThreadInitThunk + $14<br>
(0000000000069271){ntdll.dll   } [00007FFC2943A271] RtlUserThreadStart + $21</p>
<p>EODBC: [Microsoft][ODBC Driver Manager] Function sequence error</p>



<a name="175036382"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036382" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036382">(Sep 06 2019 at 05:15)</a>:</h4>
<p>i think it is something in odbc but the ODBC manager says connection is ok. any idea what to try next?</p>



<a name="175036506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036506">(Sep 06 2019 at 05:18)</a>:</h4>
<p>well, the stack is trash - probably not a debug build? can you run that under the debugger and paste the stack here?</p>



<a name="175036524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036524">(Sep 06 2019 at 05:19)</a>:</h4>
<p>function sequence error means trying to access a result set when there isn't one available or similar</p>



<a name="175036593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036593">(Sep 06 2019 at 05:20)</a>:</h4>
<p>? this is what I am doing</p>



<a name="175036594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036594">(Sep 06 2019 at 05:20)</a>:</h4>
<p><a href="/user_uploads/10155/Y296zt0vH2ICkLoc3Ujd_znz/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/Y296zt0vH2ICkLoc3Ujd_znz/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/Y296zt0vH2ICkLoc3Ujd_znz/pasted_image.png"></a></div>



<a name="175036609"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036609" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036609">(Sep 06 2019 at 05:21)</a>:</h4>
<p>then i do Run (F9)</p>



<a name="175036624"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036624" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036624">(Sep 06 2019 at 05:21)</a>:</h4>
<p>let me see where it breaks</p>



<a name="175036890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036890">(Sep 06 2019 at 05:29)</a>:</h4>
<p>fails here:<br>
FHIRServer.Kernel    function TFHIRService.InstallDatabase<br>
...<br>
    try<br>
      conn := db.GetConnection('setup');</p>



<a name="175036920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036920">(Sep 06 2019 at 05:30)</a>:</h4>
<p>then in <br>
function TKDBManager.GetConnection(const AUsage: String): TKDBConnection;</p>



<a name="175036945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036945">(Sep 06 2019 at 05:30)</a>:</h4>
<div class="codehilite"><pre><span></span>  try
    result := ConnectionFactory;
</pre></div>



<a name="175036947"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175036947" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175036947">(Sep 06 2019 at 05:30)</a>:</h4>
<p>but ConnectionFactory is nil</p>



<a name="175037044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037044">(Sep 06 2019 at 05:32)</a>:</h4>
<p>what's the stack at that point?</p>



<a name="175037101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037101">(Sep 06 2019 at 05:34)</a>:</h4>
<p>FHIR.Database.Manager.TKDBManager.GetConnection('setup')<br>
FHIR.Server.Kernel.TFHIRService.InstallDatabase('open',ismUnstated)<br>
FHIR.Server.Kernel.ExecuteFhirServer<br>
FHIRServer.FHIRServer</p>



<a name="175037257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037257">(Sep 06 2019 at 05:39)</a>:</h4>
<p>line 953 in FHIR.Server.Kernel ?</p>



<a name="175037260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037260">(Sep 06 2019 at 05:39)</a>:</h4>
<p>yes</p>



<a name="175037265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037265">(Sep 06 2019 at 05:39)</a>:</h4>
<p>what does the fhirserver.ini say?</p>



<a name="175037266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037266">(Sep 06 2019 at 05:39)</a>:</h4>
<p>for database?</p>



<a name="175037331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037331">(Sep 06 2019 at 05:41)</a>:</h4>
<p>nut connectionFactory can't be nil - it's an abstract method. ...</p>



<a name="175037383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037383">(Sep 06 2019 at 05:42)</a>:</h4>
<p>[database]<br>
type=mysql<br>
server=jctasus.local<br>
database=fhirDB<br>
username=sa<br>
password=pass<br>
driver=MySQL ODBC 8.0 Unicode Driver</p>
<p>[databases]<br>
dbr4= server: jctasus.local; database: fhirDB; username: sa; password: DBroot123; type: mysql; driver: "MySQL ODBC 8.0 Unicode Driver"; when-testing: true</p>



<a name="175037390"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037390" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037390">(Sep 06 2019 at 05:42)</a>:</h4>
<p>let me see if using another ODBC connector works</p>



<a name="175037444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037444">(Sep 06 2019 at 05:44)</a>:</h4>
<p>well, that's embarrassing..</p>



<a name="175037448"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037448" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037448">(Sep 06 2019 at 05:44)</a>:</h4>
<p>it seemed to work</p>



<a name="175037461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037461">(Sep 06 2019 at 05:45)</a>:</h4>
<p>what is the command line to run the server?<br>
-cmd run?</p>



<a name="175037466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037466">(Sep 06 2019 at 05:45)</a>:</h4>
<p>-cmd exec I think</p>



<a name="175037518"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037518" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037518">(Sep 06 2019 at 05:46)</a>:</h4>
<p>it's good, i think<br>
only complains at <br>
Unable to load package hl7.fhir.core v 4.0.0 as it doesn't exist</p>



<a name="175037522"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037522" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037522">(Sep 06 2019 at 05:47)</a>:</h4>
<p>what is easiest way to get this package? toolkit?</p>



<a name="175037528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037528">(Sep 06 2019 at 05:47)</a>:</h4>
<p>you can install it if you run the server cmd -manager</p>



<a name="175037532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037532">(Sep 06 2019 at 05:47)</a>:</h4>
<p>the packages..find packages</p>



<a name="175037641"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037641" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037641">(Sep 06 2019 at 05:51)</a>:</h4>
<p>neat, did not know that this had a manager gui.</p>



<a name="175037715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037715">(Sep 06 2019 at 05:53)</a>:</h4>
<p>07:52:11 00:00:09   .. Load Package hl7.fhir.org#4.0.0<br>
07:52:14 00:00:12 EDefinitionException: Unknown base profile: "<a href="http://hl7.org/fhir/StructureDefinition/Composition" target="_blank" title="http://hl7.org/fhir/StructureDefinition/Composition">http://hl7.org/fhir/StructureDefinition/Composition</a>"</p>



<a name="175037718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037718">(Sep 06 2019 at 05:53)</a>:</h4>
<p>why is this? shold i do a remount after i install the package?</p>



<a name="175037915"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037915" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037915">(Sep 06 2019 at 05:58)</a>:</h4>
<p>i did remount, still same issue</p>



<a name="175037943"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037943" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037943">(Sep 06 2019 at 05:59)</a>:</h4>
<p>don't know. that's odd</p>



<a name="175037948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175037948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175037948">(Sep 06 2019 at 05:59)</a>:</h4>
<p>what's the stack when it raises that?</p>



<a name="175038004"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175038004" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175038004">(Sep 06 2019 at 06:00)</a>:</h4>
<p>(0000000002AB9480){FHIRServer.exe} [0000000002EBA480] FHIR.R4.Profiles._ZN4Fhir2R48Profiles20TBaseWorkerContextR411SeeResourceEPNS0_9Resources13TFhirResourceE (Line 1858, "FHIR.R4.Profiles.pas" + 9) + $0<br>
(0000000004226A52){FHIRServer.exe} [0000000004627A52] JclDebug._ZN8Jcldebug17TJclStackInfoListC3EbiPvbS1_ (Line 5377, "JclDebug.pas" + 2) + $0<br>
(00000000042289F3){FHIRServer.exe} [00000000046299F3] JclDebug._ZN8Jcldebug21GetExceptionStackInfoEPN6System16TExceptionRecordE (Line 7219, "JclDebug.pas" + 39) + $3B<br>
(00000000000497D7){FHIRServer.exe} [000000000044A7D7] System.SysUtils._ZN6System8Sysutils9Exception16RaisingExceptionEPNS_16TExceptionRecordE + $27<br>
(000000000004A0DB){FHIRServer.exe} [000000000044B0DB] System.SysUtils._ZN6System8Sysutils17RaiseExceptObjectEPNS_16TExceptionRecordE + $2B<br>
(0000000000011566){FHIRServer.exe} [0000000000412566] System._ZN6System14_RaiseAtExceptEPNS_7TObjectEPv + $E6<br>
(00000000000115B1){FHIRServer.exe} [00000000004125B1] System._ZN6System12_RaiseExceptEPNS_7TObjectE + $11<br>
(0000000002AB9480){FHIRServer.exe} [0000000002EBA480] FHIR.R4.Profiles._ZN4Fhir2R48Profiles20TBaseWorkerContextR411SeeResourceEPNS0_9Resources13TFhirResourceE (Line 1858, "FHIR.R4.Profiles.pas" + 9) + $0<br>
(0000000003C51BEC){FHIRServer.exe} [0000000004052BEC] FHIR.Server.ValidatorR4._ZN4Fhir6Server11Validatorr426TFHIRServerWorkerContextR411SeeResourceEPNS_2R49Resources13TFhirResourceE (Line 211, "FHIR.Server.ValidatorR4.pas" + 29) + $13<br>
(0000000002AB92A5){FHIRServer.exe} [0000000002EBA2A5] FHIR.R4.Profiles._ZN4Fhir2R48Profiles20TBaseWorkerContextR411seeResourceEPNS_4Base7Objects14TFHIRResourceVE (Line 1827, "FHIR.R4.Profiles.pas" + 2) + $0<br>
(000000000052BE02){FHIRServer.exe} [000000000092CE02] FHIR.Base.Factory._ZN4Fhir4Base7Factory29TFHIRWorkerContextWithFactory16loadResourceJsonEN6System13UnicodeStringES4_PNS3_7Classes7TStreamE (Line 404, "FHIR.Base.Factory.pas" + 7) + $0<br>
(00000000005F8E62){FHIRServer.exe} [00000000009F9E62] FHIR.Cache.PackageManager._ZN4Fhir5Cache14Packagemanager19TFHIRPackageManager11loadPackageEN6System13UnicodeStringES4_PNS_7Support4Base13TFslStringSetEU9__closurePFvS4_S4_PNS3_7Classes7TStreamEEU9__closurePFvPNS3_7TObjectEibS4_E (Line 726, "FHIR.Cache.PackageManager.pas" + 20) + $0<br>
(0000000003A262E1){FHIRServer.exe} [0000000003E272E1] FHIR.Server.Database._ZN4Fhir6Server8Database25TFHIRNativeStorageService10InitialiseEv (Line 5471, "FHIR.Server.Database.pas" + 139) + $0<br>
(000000000422EAD0){FHIRServer.exe} [000000000462FAD0] FHIR.Server.Kernel._ZN4Fhir6Server6Kernel12TFHIRService20InitialiseRestServerENS_4Base7Objects12TFHIRVersionE (Line 871, "FHIR.Server.Kernel.pas" + 51) + $0<br>
(000000000422B7DA){FHIRServer.exe} [000000000462C7DA] FHIR.Server.Kernel._ZN4Fhir6Server6Kernel12TFHIRService8CanStartEv (Line 453, "FHIR.Server.Kernel.pas" + 14) + $0<br>
(00000000039C0C51){FHIRServer.exe} [0000000003DC1C51] FHIR.Support.Service._ZN4Fhir7Support7Service14TSystemService15InternalExecuteEv (Line 381, "FHIR.Support.Service.pas" + 3) + $14<br>
(00000000039C0920){FHIRServer.exe} [0000000003DC1920] FHIR.Support.Service._ZN4Fhir7Support7Service14TSystemService14ConsoleExecuteEv (Line 312, "FHIR.Support.Service.pas" + 8) + $0<br>
(000000000422A500){FHIRServer.exe} [000000000462B500] FHIR.Server.Kernel._ZN4Fhir6Server6Kernel17ExecuteFhirServerEv (Line 288, "FHIR.Server.Kernel.pas" + 114) + $C<br>
(0000000004235CD0){FHIRServer.exe} [0000000004636CD0] FHIRServer._ZN10Fhirserver14initializationEv (Line 400, "FHIRServer.dpr" + 11) + $5<br>
(0000000000016974){KERNEL32.DLL} [00007FFC28F27974] BaseThreadInitThunk + $14<br>
(0000000000069271){ntdll.dll   } [00007FFC2943A271] RtlUserThreadStart + $21</p>



<a name="175038369"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175038369" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175038369">(Sep 06 2019 at 06:11)</a>:</h4>
<p>oh</p>



<a name="175040040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175040040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175040040">(Sep 06 2019 at 06:50)</a>:</h4>
<p>alright, try that change</p>



<a name="175040737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175040737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175040737">(Sep 06 2019 at 07:07)</a>:</h4>
<p>works</p>



<a name="175040743"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175040743" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175040743">(Sep 06 2019 at 07:07)</a>:</h4>
<p>now only one issue, i guess it is on me:</p>



<a name="175040824"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175040824" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175040824">(Sep 06 2019 at 07:08)</a>:</h4>
<p>which of these should I keep?</p>
<div class="codehilite"><pre><span></span>; fhir ini file, and documentation
[database]
type=mysql
server=jctasus.local
database=fhirDB
username=sa
password=passs
driver=MySQL ODBC 5.3 Unicode Driver


[databases]
dbr4= server: jctasus.local; database: fhirDB; username: sa; password: pass; type: mysql; driver: &quot;MySQL ODBC 5.3 Unicode Driver&quot;; when-testing: true
</pre></div>



<a name="175040848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175040848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175040848">(Sep 06 2019 at 07:09)</a>:</h4>
<p>[databases]</p>



<a name="175041406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175041406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175041406">(Sep 06 2019 at 07:19)</a>:</h4>
<p>now remount is failing. <br>
I just deleted the DB, will start a clean one</p>



<a name="175041486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175041486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175041486">(Sep 06 2019 at 07:20)</a>:</h4>
<p>how is it failing?</p>



<a name="175042164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175042164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175042164">(Sep 06 2019 at 07:34)</a>:</h4>
<p>"unknown version"</p>



<a name="175042212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175042212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175042212">(Sep 06 2019 at 07:35)</a>:</h4>
<div class="codehilite"><pre><span></span>[databases]
dbr4= server: jctasus.local; database: fhirDB; username: sa; password: DBroot123; type: mysql; driver: &quot;MySQL ODBC 5.3 Unicode Driver&quot;; when-testing: true

[endpoints]
r4= path: /r4; validate: true; database: dbr4; version: r4
;open= path: /r4; validate: true; database: dbr4; version: r4
</pre></div>


<p>before I had 2 endpoints on the same place which i guess messed up my db. but the  server was working</p>



<a name="175042261"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175042261" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175042261">(Sep 06 2019 at 07:36)</a>:</h4>
<p>now I want to remount this and I get that error</p>



<a name="175042274"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175042274" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175042274">(Sep 06 2019 at 07:36)</a>:</h4>
<p>where is that error?</p>



<a name="175042283"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175042283" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175042283">(Sep 06 2019 at 07:36)</a>:</h4>
<p>uninstallDatabase</p>



<a name="175042296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175042296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175042296">(Sep 06 2019 at 07:37)</a>:</h4>
<p>oh wait but the database is empty - just emptied it</p>



<a name="175042301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175042301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175042301">(Sep 06 2019 at 07:37)</a>:</h4>
<p>i will try with a mount only</p>



<a name="175042414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175042414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175042414">(Sep 06 2019 at 07:39)</a>:</h4>
<p>also fails</p>



<a name="175042724"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175042724" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175042724">(Sep 06 2019 at 07:45)</a>:</h4>
<div class="codehilite"><pre><span></span>details := FIni.endpoints[name];
...
  else if details[&#39;version&#39;] = &#39;r4&#39; then
    v := fhirVersionRelease4
  else
    raise EFslException.Create(&#39;unknown version &#39;+details[&#39;version&#39;]);
</pre></div>



<a name="175042735"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175042735" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175042735">(Sep 06 2019 at 07:46)</a>:</h4>
<p>at this point, details['version'] is ''</p>



<a name="175042776"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175042776" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175042776">(Sep 06 2019 at 07:46)</a>:</h4>
<p>my ini says<br>
[endpoints]<br>
r4= path: /r4; validate: true; database: dbr4; version: r4</p>



<a name="175043648"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175043648" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175043648">(Sep 06 2019 at 08:02)</a>:</h4>
<p>ok, got it. I was using r4 as endpoint, but in the command line i was saying -endpoint open.<br>
Sorry, my bad.</p>



<a name="175048252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175048252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175048252">(Sep 06 2019 at 09:24)</a>:</h4>
<p><a href="/user_uploads/10155/Yk3ldwzteCSElKyPqGfwQQDc/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/Yk3ldwzteCSElKyPqGfwQQDc/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/Yk3ldwzteCSElKyPqGfwQQDc/pasted_image.png"></a></div>



<a name="175048286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175048286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175048286">(Sep 06 2019 at 09:25)</a>:</h4>
<p>this is my out-of-the-box capstatement. Does this mean I cannot post anything? (because I tried and it failed). How to fix this?</p>



<a name="175057068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/server%20updates/near/175057068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/server.20updates.html#175057068">(Sep 06 2019 at 11:57)</a>:</h4>
<p>well, it's in the types table. I don't know why the install did read only</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
