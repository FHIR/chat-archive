---
layout: page
title: "FHIR Chat  · IG Publisher · pascal"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/index.html">pascal</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html">IG Publisher</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="177216626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177216626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177216626">(Oct 03 2019 at 05:40)</a>:</h4>
<p>I gave up on calling the IG publisher in the code. I just run a shellexec and that should take care of it.</p>



<a name="177216629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177216629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177216629">(Oct 03 2019 at 05:40)</a>:</h4>
<p>question:</p>



<a name="177216657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177216657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177216657">(Oct 03 2019 at 05:41)</a>:</h4>
<p>where should we store the location to the IGPublisher.exe?<br>
where is that executable? <br>
1 Same folder as toolkit? <br>
2 the location is stored in the ini file?<br>
3...?</p>



<a name="177216701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177216701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177216701">(Oct 03 2019 at 05:42)</a>:</h4>
<p>let the user choose the location if it's not known, and then store it in the settings once they choose?</p>



<a name="177216878"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177216878" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177216878">(Oct 03 2019 at 05:47)</a>:</h4>
<p>...let the user choose the location <em>if it's not in the same folder as toolkit.exe</em>, and then store it in the settings once they choose?</p>



<a name="177216936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177216936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177216936">(Oct 03 2019 at 05:48)</a>:</h4>
<p>sure</p>



<a name="177216963"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177216963" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177216963">(Oct 03 2019 at 05:49)</a>:</h4>
<p>you could check the same code in the publisher, and we could move it into a shared class that can find/fetch/update/run the jar file.</p>



<a name="177217250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177217250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177217250">(Oct 03 2019 at 05:57)</a>:</h4>
<p>you lost me. check which same code?<br>
or do you mean that what we do for the publisher exe, we can do the same for the jar?</p>



<a name="177217568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177217568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177217568">(Oct 03 2019 at 06:04)</a>:</h4>
<p>we should create a class like this: </p>
<div class="codehilite"><pre><span></span><span class="k">type</span>
  <span class="n">TFHIRIGPublisher</span> <span class="o">=</span> <span class="k">class</span> <span class="p">(</span><span class="n">TFsObject</span><span class="p">)</span>
  <span class="kp">private</span>
  <span class="kp">public</span>
    <span class="k">constructor</span> <span class="nf">Create</span><span class="p">(</span><span class="n">ini</span> <span class="o">:</span> <span class="n">TIniFile</span><span class="p">)</span><span class="o">;</span>
    <span class="k">destructor</span> <span class="nf">Destroy</span><span class="o">;</span>

    <span class="c1">// check that the jar location is known, and if it&#39;s not, ask the user how to set it up</span>
    <span class="k">function</span> <span class="nf">Configure</span> <span class="o">:</span> <span class="kt">boolean</span><span class="o">;</span>

    <span class="c1">// check that the jar is up to date, and it&#39;s not, return an error</span>
    <span class="c1">// message to the user to help choose whether to update it</span>
    <span class="k">function</span> <span class="nf">needsUpgrade</span><span class="p">(</span><span class="k">var</span> <span class="n">msg</span><span class="o">:</span> <span class="k">String</span><span class="p">)</span> <span class="o">:</span> <span class="kt">boolean</span><span class="o">;</span>

    <span class="c1">// actually upgrade the jarl; call progressProc during the download</span>
    <span class="k">procedure</span> <span class="nf">upgrade</span><span class="p">(</span><span class="n">progressProc</span> <span class="o">:</span> <span class="n">TProgressProc</span><span class="p">)</span><span class="o">;</span>

    <span class="c1">// execute the pulisher, return true if it succeeds, and send output</span>
    <span class="c1">// from the publisher to logProc</span>
    <span class="k">function</span> <span class="nf">execute</span><span class="p">(</span><span class="n">params</span> <span class="o">:</span> <span class="k">array</span> <span class="k">of</span> <span class="k">String</span><span class="o">;</span> <span class="n">logProc</span> <span class="o">:</span> <span class="n">TLogProcedure</span><span class="p">)</span> <span class="o">:</span> <span class="kt">boolean</span><span class="o">;</span>
  <span class="k">end</span><span class="o">;</span>
</pre></div>



<a name="177217571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177217571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177217571">(Oct 03 2019 at 06:04)</a>:</h4>
<p>use it anywhere we want to run the IG publisher</p>



<a name="177217800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177217800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177217800">(Oct 03 2019 at 06:10)</a>:</h4>
<p>in a separate file? not in publisherhome.pas, right?</p>



<a name="177217810"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177217810" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177217810">(Oct 03 2019 at 06:11)</a>:</h4>
<p>right. in a separate file where we can use it from multiple places</p>



<a name="177217818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177217818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177217818">(Oct 03 2019 at 06:11)</a>:</h4>
<p>and logProc would be updated in realtime, not only once after the jar is finished, right?</p>



<a name="177217863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177217863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177217863">(Oct 03 2019 at 06:12)</a>:</h4>
<p>yes</p>



<a name="177217935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177217935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177217935">(Oct 03 2019 at 06:15)</a>:</h4>
<p>ok.<br>
this actually seems a bit closer to my early implementation, where I had a "where can we find the jar and template" and then a "publish" button. So i can see it working.</p>



<a name="177217998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177217998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177217998">(Oct 03 2019 at 06:16)</a>:</h4>
<p>on the jar location, I checked with Lloyd who agreed that the jar could be<br>
a) in the input-cache folder<br>
b) in the parent folder to an IG (because I don't want to download 20 times 100 mb every time there is a new jar version)</p>



<a name="177218014"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177218014" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177218014">(Oct 03 2019 at 06:17)</a>:</h4>
<p>so this adds an option <br>
c) the jar location is stored in an ini file</p>



<a name="177218016"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177218016" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177218016">(Oct 03 2019 at 06:17)</a>:</h4>
<p>right?</p>



<a name="177218022"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177218022" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177218022">(Oct 03 2019 at 06:17)</a>:</h4>
<p>yes</p>



<a name="177218062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177218062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177218062">(Oct 03 2019 at 06:18)</a>:</h4>
<p>I don't like having the jar in the folder. It's a recipe for trouble</p>



<a name="177218151"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177218151" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177218151">(Oct 03 2019 at 06:21)</a>:</h4>
<p>"in the folder" = in the ig content folders?</p>



<a name="177218236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177218236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177218236">(Oct 03 2019 at 06:23)</a>:</h4>
<p>yes</p>



<a name="177218362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177218362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177218362">(Oct 03 2019 at 06:26)</a>:</h4>
<p>yippeee!<br>
I remember being barely awake at 3 am to join a call to mention that - separation between the ig content and the jar location...</p>



<a name="177218365"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177218365" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177218365">(Oct 03 2019 at 06:26)</a>:</h4>
<p>:)</p>



<a name="177218512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177218512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177218512">(Oct 03 2019 at 06:30)</a>:</h4>
<p>got it. <br>
I may look at this later today, otherwise, lordy I hope it rains during the weekend. <br>
I'll finish the examplescenario and this.</p>



<a name="177218533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177218533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177218533">(Oct 03 2019 at 06:31)</a>:</h4>
<p>If you look at the code,  feel free to create the empty shell for that class - best you decide where this should be and how it should be named.</p>



<a name="177218837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177218837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177218837">(Oct 03 2019 at 06:39)</a>:</h4>
<p>BTW, we had a question from the audience in Atlanta: How would this this toolkit run on a Mac?<br>
My answer was that while it does compile, I'm not sure it works. Correct?</p>



<a name="177219070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177219070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177219070">(Oct 03 2019 at 06:44)</a>:</h4>
<p>it runs on a mac</p>



<a name="177219073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177219073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177219073">(Oct 03 2019 at 06:44)</a>:</h4>
<p>I</p>



<a name="177219075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177219075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177219075">(Oct 03 2019 at 06:44)</a>:</h4>
<p>I'm not sure about the java bit though</p>



<a name="177449866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177449866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177449866">(Oct 06 2019 at 07:42)</a>:</h4>
<p>I saw the changes - cool stuff. Now it asks for a JAR location.</p>



<a name="177449930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177449930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177449930">(Oct 06 2019 at 07:45)</a>:</h4>
<p>A few ideas:</p>
<ol>
<li>before opening the dialog to look for a jar, I check if the jar is either in .\input-cache\, or in ..\ <br>
(those are the locations i checked with Lloyd. the reason for the ..\ was that if we are working on 10 IGs, we may want to have only one jar.)</li>
</ol>



<a name="177449978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177449978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177449978">(Oct 06 2019 at 07:46)</a>:</h4>
<ol start="2">
<li>I was trying to get the publisher called from the code in the toolkit main form, but I think there is one too many forms/threads doing Application.ProcessMessages, and the focus gets a bit crazy.</li>
</ol>



<a name="177450033"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177450033" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177450033">(Oct 06 2019 at 07:48)</a>:</h4>
<p>I had the check for the jar not in form.create but in form.show (in preparation for item 2 above). Does this make sense? (I created a var FirstShow to avoid running that every time we lose and gain focus)</p>



<a name="177450472"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177450472" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177450472">(Oct 06 2019 at 08:02)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I committed these changes, just discard if you disagree</p>



<a name="177452954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177452954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177452954">(Oct 06 2019 at 09:17)</a>:</h4>
<p>oh. The toolkit. that's FMX. No wonder it went a bit crazy.</p>



<a name="177452957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177452957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177452957">(Oct 06 2019 at 09:17)</a>:</h4>
<p>I'll have to think about that</p>



<a name="177453060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453060">(Oct 06 2019 at 09:20)</a>:</h4>
<p>(just now realizing the publisher is VCL... that's why it looked a bit different) <span aria-label="embarrassed" class="emoji emoji-1f633" role="img" title="embarrassed">:embarrassed:</span></p>



<a name="177453070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453070">(Oct 06 2019 at 09:21)</a>:</h4>
<p>yeah. I forgot to allow for that</p>



<a name="177453073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453073">(Oct 06 2019 at 09:21)</a>:</h4>
<p>The code for calling the publisher via code is there (commented out), in case you want to see what to make of it.</p>



<a name="177453076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453076">(Oct 06 2019 at 09:22)</a>:</h4>
<p>but in principle, the way it works is that the publisher has it's own copy of the jar, which it will prompt the user to keep up to date, but it will use an IG specific copy if it finds it</p>



<a name="177453292"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453292" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453292">(Oct 06 2019 at 09:28)</a>:</h4>
<p>ok my code does not start with the publisher's own jar - it always tries to get one from the IG content folder</p>



<a name="177453293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453293">(Oct 06 2019 at 09:29)</a>:</h4>
<p>and if that fails, then it asks for a jar</p>



<a name="177453395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453395">(Oct 06 2019 at 09:32)</a>:</h4>
<p>so we can have 3 jar locations right?<br>
if I have a folder IGs and subfolders IG1 and IG2, then the jar can be in <br>
a) IGs\IG1\input-cache<br>
b) IGs<br>
c) wherever the publisher says it is.<br>
I like this idea. let me see if I can switch the code for that.</p>



<a name="177453396"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453396" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453396">(Oct 06 2019 at 09:32)</a>:</h4>
<p>I was going to make sure that the app always had it's own copy (there's things I would use the IGPublisher for directly)</p>



<a name="177453418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453418">(Oct 06 2019 at 09:32)</a>:</h4>
<p>what is IGs?</p>



<a name="177453421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453421">(Oct 06 2019 at 09:32)</a>:</h4>
<p>it is the folder of all IGs</p>



<a name="177453439"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453439" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453439">(Oct 06 2019 at 09:33)</a>:</h4>
<p>is that a thing is it?</p>



<a name="177453441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453441">(Oct 06 2019 at 09:33)</a>:</h4>
<p>in my case I have c:\HL7\IGs\be-core, c:\HL7\IGs\ihe-mma, c:\HL7\IGS\pml...</p>



<a name="177453487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453487">(Oct 06 2019 at 09:34)</a>:</h4>
<p>well, I asked Lloyd that I did not want to have 20 copies of the jar, and he agreed, so I was happy with it. We thought to keep that jar in the parent folder, but we can change that decision.</p>



<a name="177453501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453501">(Oct 06 2019 at 09:35)</a>:</h4>
<p>so keeping one jar in the parent folder would work well for people in *nix machines, who do not have this publisher, and they can save a few gigabytes</p>



<a name="177453546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453546">(Oct 06 2019 at 09:36)</a>:</h4>
<p>one alternative is to have a "jarFile" in the ig.ini file.</p>



<a name="177453557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453557">(Oct 06 2019 at 09:37)</a>:</h4>
<p>i'm trying to make this so that it does not conflict with mac users</p>



<a name="177453826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453826">(Oct 06 2019 at 09:46)</a>:</h4>
<p>well, we haven't formally defined 'one single directory' for all IGs. But if you do have one, and you already use the jar there, then you'd select that as the place for the FHIR tool to use for it's copy of the jar. If you don't, you can pick somewhere else..?</p>



<a name="177453833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453833">(Oct 06 2019 at 09:46)</a>:</h4>
<p>so what do you think? where do we find the jar file ? </p>
<ol>
<li>explicitly named in IG's ini file, otherwise in the ig's input-cache, otherwise the publisher knows</li>
<li>in the IG's input cache, otherwise in the IG's parent folder, otherwise the publisher knows</li>
<li>only in the ig's input-cache, otherwise the publisher knows</li>
</ol>
<p>3 may require *nix users to have lots of IG jars <br>
1 and 2 i can code, but 1 (which I prefer) should be aligned with Lloyd - I did the updates to the batch file myself, so i don't mind throwing all that powershell knowledge out...</p>



<a name="177453977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177453977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177453977">(Oct 06 2019 at 09:51)</a>:</h4>
<p>ah wait, option 1 may cover option 2... if the new template includes a line in the ig.ini<br>
jarFile = ".\input-cache\org.hl7.fhir.publisher.jar"</p>



<a name="177454026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177454026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177454026">(Oct 06 2019 at 09:52)</a>:</h4>
<p>option 1 is option 2 if the user sets it up that way</p>



<a name="177454033"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177454033" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177454033">(Oct 06 2019 at 09:53)</a>:</h4>
<p>user only gets jar in their IG folder if they already set it up that way</p>



<a name="177454290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177454290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177454290">(Oct 06 2019 at 10:01)</a>:</h4>
<p>true, the batch file runs that.</p>



<a name="177454469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177454469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177454469">(Oct 06 2019 at 10:07)</a>:</h4>
<p>let me know if we should change the jar location from being hardcoded in a .bat /.sh to something else</p>



<a name="177454470"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177454470" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177454470">(Oct 06 2019 at 10:07)</a>:</h4>
<p>meanwhile, safe landings if that is the case.</p>



<a name="177454520"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177454520" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177454520">(Oct 06 2019 at 10:09)</a>:</h4>
<p>I think there's no reason to change the bat/sh files</p>



<a name="177454629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177454629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177454629">(Oct 06 2019 at 10:12)</a>:</h4>
<p>so <br>
if we run the bat, we get the default behaviour (input-cache, eventually in parent IG folder) ; <br>
if we run the publisher, we use the input-cache if available;  if not, we use the publisher's own jar</p>



<a name="177454630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177454630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177454630">(Oct 06 2019 at 10:12)</a>:</h4>
<p>?</p>



<a name="177454694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177454694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177454694">(Oct 06 2019 at 10:15)</a>:</h4>
<p>yes</p>



<a name="177454803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177454803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177454803">(Oct 06 2019 at 10:18)</a>:</h4>
<p>ok, easy, just removed these lines of mine<br>
  if fileExists(ExtractFileDir(ExcludeTrailingBackslash(IGtoPublish))+'\org.hl7.fhir.publisher.jar')<br>
    then FjarFile:= ExtractFileDir(ExcludeTrailingBackslash(IGtoPublish))+'\org.hl7.fhir.publisher.jar';</p>



<a name="177454818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177454818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177454818">(Oct 06 2019 at 10:19)</a>:</h4>
<blockquote>
<p>which it will prompt the user to keep up to date, but it will use an IG specific copy if it finds it</p>
</blockquote>
<p>now i am thinking about what this "prompt the user". <br>
want to inform the user that a new version is available?</p>



<a name="177454858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177454858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177454858">(Oct 06 2019 at 10:20)</a>:</h4>
<p>yes that's on my todo list.</p>



<a name="177454876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177454876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177454876">(Oct 06 2019 at 10:21)</a>:</h4>
<p>ok thanks</p>



<a name="177454885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177454885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177454885">(Oct 06 2019 at 10:21)</a>:</h4>
<p>to find out the current release: <a href="https://fhir.github.io/latest-ig-publisher/tools.json" target="_blank" title="https://fhir.github.io/latest-ig-publisher/tools.json">https://fhir.github.io/latest-ig-publisher/tools.json</a></p>



<a name="177454892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177454892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177454892">(Oct 06 2019 at 10:21)</a>:</h4>
<p>to find out the local copy: open the jar as a zip, find the version file, read the contents (that's the bit I have to do)</p>



<a name="177454999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177454999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177454999">(Oct 06 2019 at 10:25)</a>:</h4>
<p>function checkJarUpToDate (jarfilename:string):boolean ?</p>



<a name="177455062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177455062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177455062">(Oct 06 2019 at 10:27)</a>:</h4>
<p>i could have some fun with such a function later today. i  can unzip</p>



<a name="177455063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177455063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177455063">(Oct 06 2019 at 10:27)</a>:</h4>
<p>what is the version file?</p>



<a name="177455103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177455103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177455103">(Oct 06 2019 at 10:28)</a>:</h4>
<p>that's the bit I'm not sure about. And I'm not on my dev PC in the air here so I can't look quickly</p>



<a name="177455123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177455123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177455123">(Oct 06 2019 at 10:30)</a>:</h4>
<p>there used to be a <a href="http://version.info" target="_blank" title="http://version.info">version.info</a> in the jar, but i can't see one in the latest release</p>



<a name="177455542"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/177455542" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#177455542">(Oct 06 2019 at 10:42)</a>:</h4>
<p>no it's moved to a maven thing now.</p>



<a name="211117885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/211117885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#211117885">(Sep 24 2020 at 11:29)</a>:</h4>
<p>first thoughts: <br>
<a href="/user_uploads/10155/8EH-gHjLSvYeTLn2gNInQNvU/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/8EH-gHjLSvYeTLn2gNInQNvU/image.png" title="image.png"><img src="/user_uploads/10155/8EH-gHjLSvYeTLn2gNInQNvU/image.png"></a></div>



<a name="211117963"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/211117963" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#211117963">(Sep 24 2020 at 11:30)</a>:</h4>
<ol>
<li>first, setup dependencies and point to IG</li>
</ol>



<a name="211117986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/211117986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#211117986">(Sep 24 2020 at 11:30)</a>:</h4>
<ol start="2">
<li>check the releases, add a new if needed<br>
<a href="/user_uploads/10155/7a8IulvTEVjpBYSi5_gGq2d5/image.png">image.png</a><div class="message_inline_image"><a href="/user_uploads/10155/7a8IulvTEVjpBYSi5_gGq2d5/image.png" title="image.png"><img src="/user_uploads/10155/7a8IulvTEVjpBYSi5_gGq2d5/image.png"></a></div></li>
</ol>



<a name="211118119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/211118119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#211118119">(Sep 24 2020 at 11:32)</a>:</h4>
<ol start="3">
<li>Do it: <br>
3.1. make sure original IG builds OK; <br>
3.2 build for publication<br>
3.3. build for web (deciding whether it's a milestone)<br>
Before building, would be nice to check for common issues and dependencies</li>
</ol>
<p><a href="/user_uploads/10155/BcevSqovudZaObJS1O9tJx2O/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/BcevSqovudZaObJS1O9tJx2O/image.png" title="image.png"><img src="/user_uploads/10155/BcevSqovudZaObJS1O9tJx2O/image.png"></a></div>



<a name="211118127"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/211118127" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#211118127">(Sep 24 2020 at 11:32)</a>:</h4>
<p>comments welcome</p>



<a name="211118272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/211118272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#211118272">(Sep 24 2020 at 11:34)</a>:</h4>
<p>I think this is the same functionality documented in confluence, only the whole "copy files, replace this file, don't replace that,..." would be behind the scenes</p>



<a name="211561225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/211561225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#211561225">(Sep 28 2020 at 22:59)</a>:</h4>
<p>well, I've just moved a whole lot of that functionality behind the scenes anyway. I'm rewriting the publication documentation today or tomorrow</p>



<a name="212038610"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212038610" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212038610">(Oct 02 2020 at 06:58)</a>:</h4>
<p>Just to check - is this documentation updated? Just to know when I can work on GUI.</p>



<a name="212039034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212039034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212039034">(Oct 02 2020 at 07:05)</a>:</h4>
<p>yes I have finished rewriting the documetnation</p>



<a name="212414808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212414808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212414808">(Oct 06 2020 at 11:41)</a>:</h4>
<p>I'm looking at this, and while I clean the canonical urls i get this:<br>
canonical URL of <a href="http://hl7belgium.org/fhir/sample-ig">http://hl7belgium.org/fhir/sample-ig</a> does not match the required canonical of <a href="http://hl7.org/fhir/be/sample-ig">http://hl7.org/fhir/be/sample-ig</a></p>



<a name="212415020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212415020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212415020">(Oct 06 2020 at 11:43)</a>:</h4>
<p>seems that the latter canonical is created from the ig's  packageId. can i override that? <br>
and if not, how can i make it work for non-hl7 IGs ?</p>



<a name="212421855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212421855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212421855">(Oct 06 2020 at 12:47)</a>:</h4>
<p>(there seems to be a rule that the package id must have 4 parts, the first 2 being hl7.fhir.)</p>



<a name="212477629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212477629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212477629">(Oct 06 2020 at 20:01)</a>:</h4>
<p>there certainly isn't a rule like that.</p>



<a name="212480766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212480766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212480766">(Oct 06 2020 at 20:24)</a>:</h4>
<p><a href="https://github.com/HL7/fhir-ig-publisher/blob/e52766a50b4096879e75efa6896e36b9fbb83722/org.hl7.fhir.publisher.core/src/main/java/org/hl7/fhir/igtools/publisher/utils/PublicationProcess.java#L98">https://github.com/HL7/fhir-ig-publisher/blob/e52766a50b4096879e75efa6896e36b9fbb83722/org.hl7.fhir.publisher.core/src/main/java/org/hl7/fhir/igtools/publisher/utils/PublicationProcess.java#L98</a></p>



<a name="212480795"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212480795" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212480795">(Oct 06 2020 at 20:24)</a>:</h4>
<p>(this is the error I got, not sure what it means)</p>



<a name="212516421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212516421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212516421">(Oct 07 2020 at 05:21)</a>:</h4>
<p>the rules is that if the package id starts with hl7, then I decide on it's structure and content. And I define that that for fhir IGs the package id must be hl7.fhir.[realm].[code]</p>



<a name="212519884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212519884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212519884">(Oct 07 2020 at 06:37)</a>:</h4>
<p>I had hl7.be.fhir, but I did change to <a href="http://hl7.fhir.be">hl7.fhir.be</a> to get over that. But then I got the error above if I want to publish this under the <a href="http://hl7belgium.org">hl7belgium.org</a> site</p>



<a name="212521109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212521109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212521109">(Oct 07 2020 at 07:01)</a>:</h4>
<p>how can I get around that and publish an IG that starts with hl7. to the url <a href="http://hl7belgium.org/">hl7belgium.org/</a>...?</p>



<a name="212535346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212535346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212535346">(Oct 07 2020 at 09:44)</a>:</h4>
<p>can I reproduce this? The package name is limited, but the web site shouldn't be</p>



<a name="212785937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212785937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212785937">(Oct 09 2020 at 05:55)</a>:</h4>
<p>yes. I tried this with the sample ig, adapting the package name and site:</p>



<a name="212785945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212785945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212785945">(Oct 09 2020 at 05:55)</a>:</h4>
<p>The package-list was changed to</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span>
 <span class="nt">"package-id"</span> <span class="p">:</span> <span class="s2">"hl7.be.fhir.sample-ig"</span><span class="p">,</span>
 <span class="nt">"title"</span> <span class="p">:</span> <span class="s2">"Your User Friendly Name for MyIG Here"</span><span class="p">,</span>
 <span class="nt">"canonical"</span> <span class="p">:</span> <span class="s2">"http://hl7belgium.org/fhir/sample-ig"</span><span class="p">,</span>
 <span class="nt">"introduction"</span> <span class="p">:</span> <span class="s2">"The introduction that should appear in the FHIR IG registry"</span><span class="p">,</span>
 <span class="nt">"list"</span> <span class="p">:</span> <span class="p">[{</span>
  <span class="nt">"version"</span> <span class="p">:</span> <span class="s2">"current"</span><span class="p">,</span>
  <span class="nt">"desc"</span> <span class="p">:</span> <span class="s2">"Continuous Integration Build (latest in version control)"</span><span class="p">,</span>
  <span class="nt">"path"</span> <span class="p">:</span> <span class="s2">"http://build.fhir.org/ig/hl7-be/sample-ig"</span><span class="p">,</span>
  <span class="nt">"status"</span> <span class="p">:</span> <span class="s2">"ci-build"</span><span class="p">,</span>
  <span class="nt">"current"</span> <span class="p">:</span> <span class="kc">true</span>
 <span class="p">},{</span>
  <span class="nt">"version"</span> <span class="p">:</span> <span class="s2">"0.1.0"</span><span class="p">,</span>
  <span class="nt">"date"</span> <span class="p">:</span> <span class="s2">"2099-01-01"</span><span class="p">,</span>
  <span class="nt">"desc"</span> <span class="p">:</span> <span class="s2">"Initial STU ballot (Mmm yyyy Ballot)"</span><span class="p">,</span>
  <span class="nt">"path"</span> <span class="p">:</span> <span class="s2">"http://hl7belgium.org/fhir/sample-ig"</span><span class="p">,</span>
  <span class="nt">"status"</span> <span class="p">:</span> <span class="s2">"ballot"</span><span class="p">,</span>
  <span class="nt">"sequence"</span> <span class="p">:</span> <span class="s2">"DSTU 1"</span>
 <span class="p">}]</span>
<span class="p">}</span>
</code></pre></div>



<a name="212785991"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212785991" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212785991">(Oct 09 2020 at 05:56)</a>:</h4>
<p>the command lines i used:</p>
<ol>
<li><code>java -jar .\publisher.jar -ig sample-ig#0.0.1 -resetTx -publish http://hl7belgium.org/fhir/sample-ig</code></li>
</ol>



<a name="212786005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212786005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212786005">(Oct 09 2020 at 05:56)</a>:</h4>
<ol start="2">
<li><code>java -jar .\publisher.jar -go-publish -source sample-ig#0.0.1  -destination hl7belgium.org -registry ig-registry\fhir-ig-list.json -history fhir-ig-history-template</code></li>
</ol>



<a name="212802152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/212802152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#212802152">(Oct 09 2020 at 09:31)</a>:</h4>
<p>any ideas?</p>



<a name="213117279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179281-pascal/topic/IG%20Publisher/near/213117279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179281-pascal/topic/IG.20Publisher.html#213117279">(Oct 13 2020 at 06:49)</a>:</h4>
<p>Grahame, do you have any suggestion on this?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
