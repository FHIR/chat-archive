---
layout: page
title: "FHIR Chat  · Consent Provisions · Security and Privacy"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/index.html">Security and Privacy</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html">Consent Provisions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="200034080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200034080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Jafari <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200034080">(Jun 07 2020 at 17:36)</a>:</h4>
<p>As part of the implementation of consent in the ONC LEAP project, we have identified some issues with the current provision structure. I wanted to share this here for some feedback before I file a CR.<br>
<a href="https://sdhealthconnect.github.io/leap/blog/2020/05/13/provisions.html">https://sdhealthconnect.github.io/leap/blog/2020/05/13/provisions.html</a></p>



<a name="200041429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200041429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200041429">(Jun 07 2020 at 20:44)</a>:</h4>
<p>I don't know if you want to apply this to Consent (as in patient-given consent) or if this applies to Permission (if that stands).</p>



<a name="200041442"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200041442" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200041442">(Jun 07 2020 at 20:44)</a>:</h4>
<p>The description seems to be for "permission-like" provisions, whether it is patient-given or policy-driven</p>



<a name="200043291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200043291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Jafari <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200043291">(Jun 07 2020 at 21:28)</a>:</h4>
<p>Our focus is on Consent for now. I think when/if the Permission resource is released and more widely used, the Consent resource may have to go through more changes to offload the "rules" parts to a Permission resource but right now we're focusing on Consent as it stands.</p>



<a name="200043871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200043871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200043871">(Jun 07 2020 at 21:40)</a>:</h4>
<p>ok I just wanted to confirm. I think the approach makes sense - adding a provision about if rules are conflicting.</p>



<a name="200043873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200043873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200043873">(Jun 07 2020 at 21:40)</a>:</h4>
<p>About the implementation approach - a set of codes combning {what} {happens} - e.g. {permit} {overrides} - is that robust enough? what about other things like {court-ordered} {overrides}? Or more possible combinations, like "this overrides all permits unless patient is dead". ?<br>
Or you don't want to cover that?</p>



<a name="200044343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200044343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Jafari <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200044343">(Jun 07 2020 at 21:53)</a>:</h4>
<p>I think this is purely at the rules-level. When you evaluate a request context against a collection of rules, the outcome for each rule is either <code>permit</code>, <code>deny</code>, or <code>notApplicable</code>(i.e. the request didn't match the rule and therefore the rule does not say anything about the request). Now, if more than one rule match the request and they have conflicting decisions, i.e., one says <code>deny</code> and another says <code>permit</code>, we need a conflict resolution strategy to reconcile these decisions and make a final call. The common conflict resolutions in the access control policy and rights languages are the ones I have listed. Other conflict resolution strategies can of course be considered as long as the consent processor can actually have a well-defined way of applying them.</p>



<a name="200093396"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200093396" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200093396">(Jun 08 2020 at 13:00)</a>:</h4>
<p>might we experiment with your new model in the Permission resource first?</p>



<a name="200107710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200107710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200107710">(Jun 08 2020 at 14:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191920">@Mohammad Jafari</span> can you correct this paragraph in your article so that I can understand what you mean to be saying? I think you have too many "except" in the sentence and can't figure out which is not intended:</p>
<blockquote>
<p>Figure 2 shows a (hypothetical) example for this model. These provisions articulate that during the time period from 01/01/2020 to 31/12/2022, all access except is permitted except:</p>
</blockquote>



<a name="200109028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200109028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200109028">(Jun 08 2020 at 14:56)</a>:</h4>
<p>I am not following why Figure 2 and 3 have the effect on Org1 and HLEGAL you assert.</p>



<a name="200109607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200109607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Jafari <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200109607">(Jun 08 2020 at 14:59)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191404">@John Moehrke</span> I fixed that typo.</p>



<a name="200109771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200109771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200109771">(Jun 08 2020 at 15:00)</a>:</h4>
<p>firstMatchOverrides presumes ordered lists. I don't think that FHIR guarantees ordered lists</p>



<a name="200109999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200109999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200109999">(Jun 08 2020 at 15:01)</a>:</h4>
<p>note the reason I had permit/deny in the original model was following  the override model. Just never got the chance to get the override concept into the model before nesting took over.</p>



<a name="200110236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200110236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Jafari <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200110236">(Jun 08 2020 at 15:03)</a>:</h4>
<p>I agree that <code>firstMatchOverrides</code> (and any other order-based logic) is not a good idea.</p>



<a name="200111205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200111205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Jafari <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200111205">(Jun 08 2020 at 15:09)</a>:</h4>
<blockquote>
<blockquote>
<p>I am not following why Figure 2 and 3 have the effect on Org1 and HLEGAL you assert.</p>
</blockquote>
</blockquote>
<p>In Figure 2, the default is permit and a request by Org1 for the purpose of HLEGAL will not match any of the second-tier provisions therefore goes by the default in the root which is permit.<br>
In Figure 3, a request by Org1 for the purpose of HLEGAL matches the second-tier provision which denies anything by Org1 unless for the ones matching the third-tier provisions (none of which match the HLEGAL purpose).</p>



<a name="200112044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200112044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200112044">(Jun 08 2020 at 15:14)</a>:</h4>
<p>right. so Figure 2 is  likely poorly designed policy fragment... which we can't stop bad policy writing. But I get your point that the current model is potentially easier to do something stupid</p>



<a name="200112131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200112131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200112131">(Jun 08 2020 at 15:15)</a>:</h4>
<p>The initial use-cases were simple  <a href="http://build.fhir.org/consent.html#model">http://build.fhir.org/consent.html#model</a></p>



<a name="200117282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/200117282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#200117282">(Jun 08 2020 at 15:48)</a>:</h4>
<p>note that repetitions at the element level (more than one .provision.class means that one must match ALL the values given). although this is not well stated on current Consent page. An OR is achieved with multiple .provision elements.  So if one wants class of account, claim, OR claimResponse; one would need three .provision repetitions; which enables one to define a rule on data that has a class of account, claim, AND claimResponse.  How would your proposal support AND and OR mechanics like this?</p>



<a name="231862830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20Provisions/near/231862830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Jafari <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20Provisions.html#231862830">(Mar 25 2021 at 19:30)</a>:</h4>
<p>I have finally filed a CR for this: <a href="https://jira.hl7.org/browse/FHIR-31412">https://jira.hl7.org/browse/FHIR-31412</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
