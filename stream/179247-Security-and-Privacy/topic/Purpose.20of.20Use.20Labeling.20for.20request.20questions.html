---
layout: page
title: "FHIR Chat  · Purpose of Use Labeling for request questions · Security and Privacy"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/index.html">Security and Privacy</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html">Purpose of Use Labeling for request questions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="258429917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258429917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258429917">(Oct 20 2021 at 19:34)</a>:</h4>
<p>From <a href="http://build.fhir.org/security-labels.html#core">http://build.fhir.org/security-labels.html#core</a></p>
<blockquote>
<p>The Security Label vocabulary has three patterns of use: (1) Bundle: Security/Privacy considerations of a data set, (2) Context: Describe security/privacy context of a request for data, and (3) Meta Data: to indicate security/privacy meta about that data.<br>
...<br>
Context: Requests (e.g. Read, Query, message triggers) - would describe the context of the request using purposeOfUse and compartment/clearance. The request might declare the highest confidentiality desired. It is unlikely to see in a request a declaration of sensitivity or integrity. It is also unlikely to see Obligations within a Request. (See Bundle for Response, where these are appropriate)<br>
...<br>
Purpose of Use    These Purpose of Use (system = <a href="http://terminology.hl7.org/CodeSystem/v3-PurposeOfUse">http://terminology.hl7.org/CodeSystem/v3-PurposeOfUse</a>) is an indication of a reason for performing one or more operations on information. which may be permitted by source system's security policy in accordance with one or more privacy policies and consent directives. Such as collecting personal health information for research or public health purposes.<br>
Notes may be used as:<br>
The rationale or purpose for a request for data<br>
The use limitation on a data Bundle<br>
See discussion on HCS below</p>
</blockquote>
<p>However it is unclear how to implement POU with requests. So for CDEX we are proposing the following for <em>Task-based requests for data</em>:</p>
<ol>
<li>
<p>The intent and meaning when using the <code>Task.meta.security</code> element to "describe the context of the request using purposeOfUse" codes was unclear.  Instead we elected to use purposeOfUse codes in a <code>Task.input</code> parameter to indicate the context of the request.</p>
</li>
<li>
<p>It is unclear whether the The Purpose of Use Codes (system = <a href="http://terminology.hl7.org/CodeSystem/v3-PurposeOfUse">http://terminology.hl7.org/CodeSystem/v3-PurposeOfUse</a>) can be used to Describe the context of a request for data or are they limited to Security/Privacy considerations of a data set or about that data.  For example, can <a href="http://hl7.org/fhir/v3/ActReason/cs.html#v3-ActReason-CLMATTCH">CLMATTCH</a> be used to indicate that a data request is for a claims-audit?</p>
</li>
</ol>



<a name="258430462"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258430462" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258430462">(Oct 20 2021 at 19:36)</a>:</h4>
<p>see <a href="https://hackmd.io/pFbvLQb0TK-5jdyI1M0OeA#Example-use-in-Task-using-Purpose-of-Use-Extension">this Example</a></p>



<a name="258438738"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258438738" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258438738">(Oct 20 2021 at 20:29)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> I am not clear on what you are asking. Mostly because there is context that I am unaware of. I think it would be best to have a discussion rather than hope that this can be resolved on zulip.</p>



<a name="258440040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258440040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258440040">(Oct 20 2021 at 20:36)</a>:</h4>
<p>in a Query, the PurposeOfUse(s) would tend to be passed in as part of the security context. This is why it was added to SMART-on-FHIR and why it is fundamental to IHE IUA implementation guides. It might be implied by the security context, part of the trust-framework (all entities authorized within a given CA have agreed to policy that is stated as limited to a set of PurposeOfUse). Thus it is not always needed in every transaction. It is used as part of the authorization decision and enforcement. Any data returned in a response is expected to be usable for those PurposeOfUse that were in the request, and thus the data is not given for PurposeOfUse outside that request.</p>



<a name="258440336"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258440336" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258440336">(Oct 20 2021 at 20:38)</a>:</h4>
<p>on the vocabulary... If you have a concept that is not represented, then please use the vocabulary process to have your purposeOfUse added. If you don't think it is legitimate to add to HL7 vocabulary (THO), then you are free to create your own PurposeOfUse vocabulary, such as within your IG.  Just like with any codesystem.</p>



<a name="258443662"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258443662" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258443662">(Oct 20 2021 at 21:01)</a>:</h4>
<p>Thanks John .... I think you answered my the questions in part.</p>



<a name="258443910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258443910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258443910">(Oct 20 2021 at 21:02)</a>:</h4>
<p>that is scary</p>



<a name="258444389"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258444389" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258444389">(Oct 20 2021 at 21:06)</a>:</h4>
<blockquote>
<p>in a Query, the PurposeOfUse(s) would tend to be passed in as part of the security context. This is why it was added to SMART-on-FHIR </p>
</blockquote>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span>  I just did a search of the Smart spec and did not find any mention of PurposeofUse.  Can you point out the salient section?</p>



<a name="258444676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258444676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258444676">(Oct 20 2021 at 21:08)</a>:</h4>
<p>remind me when are the Security calls?</p>



<a name="258450197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258450197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258450197">(Oct 20 2021 at 21:51)</a>:</h4>
<p>that would be in the version 2. -- <a href="http://build.fhir.org/ig/HL7/smart-app-launch/">http://build.fhir.org/ig/HL7/smart-app-launch/</a></p>



<a name="258450629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258450629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258450629">(Oct 20 2021 at 21:55)</a>:</h4>
<p>seems they have downplayed the capability I saw in the ballot . <span class="user-mention" data-user-id="191315">@Josh Mandel</span> ?</p>



<a name="258450743"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258450743" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258450743">(Oct 20 2021 at 21:56)</a>:</h4>
<p>It still seems to be in the UDAP spec - <a href="https://build.fhir.org/ig/HL7/fhir-udap-security-ig/branches/main/b2b.html">https://build.fhir.org/ig/HL7/fhir-udap-security-ig/branches/main/b2b.html</a></p>



<a name="258450934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258450934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258450934">(Oct 20 2021 at 21:58)</a>:</h4>
<p>It is in the IHE spec <a href="https://profiles.ihe.net/ITI/IUA/index.html">https://profiles.ihe.net/ITI/IUA/index.html</a> - look for purpose_of_use</p>



<a name="258451047"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258451047" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258451047">(Oct 20 2021 at 21:59)</a>:</h4>
<p>FHIR Security calls are Mondays at 12 eastern</p>



<a name="258612563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258612563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258612563">(Oct 21 2021 at 20:32)</a>:</h4>
<p>After reviewing the 3 references spec above, I see three distinct "standard" ways  to do Purpose of Use for Direct Queries using Authorization Layer.  -   see my analysis <a href="https://hackmd.io/pFbvLQb0TK-5jdyI1M0OeA#Purpose-of-Use-for-Direct-Queries-using-Authorization-Layer">here</a></p>
<p>am I mistaken?</p>



<a name="258657002"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258657002" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258657002">(Oct 22 2021 at 03:25)</a>:</h4>
<p>Do we have a requirement for "purpose of use" for direct queries?  I thought our only requirement was for the asynchonous Task-based requests - and for those, we need to pass it as a parameter to the Task.  The various header mechanisms are all about the "purpose of use for the current action" - which is posting a Task.  They wouldn't deal with the purpose of use of the action the Task is soliciting.</p>



<a name="258703129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258703129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258703129">(Oct 22 2021 at 12:19)</a>:</h4>
<p>I had not understood the distinction Lloyd is making. So the Task itself is the embodyment of a set of actions that are ALL under a set of PurposeOfUse? I could see how this would be useful element of the Task instance. It then might drive that all accesses to the Task must agree with that PurposeOfUse, right?</p>



<a name="258751454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258751454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258751454">(Oct 22 2021 at 18:16)</a>:</h4>
<p>The Task is saying "please go find this data/execute this query/filter as appropriate/package it up for my consumption - and return it to me".  We also want to say "and by the way, the way I intend to use this information (which might affect what you choose to give me/how you choose to filter), is the following".</p>



<a name="258751540"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258751540" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258751540">(Oct 22 2021 at 18:17)</a>:</h4>
<p>So, there's no real "purpose of use" for the posting of the Task.  The purpose of use is for "what will happen to the data you give me assuming you execute the Task".</p>



<a name="258796745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258796745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258796745">(Oct 23 2021 at 01:55)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> , <span class="user-mention" data-user-id="191404">@John Moehrke</span>  my <a href="#narrow/stream/179247-Security-and.20Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions/near/258612563">question above</a>is not related to Task based requests. I think my questions about Task and the reuse of POU terminololy have been sufficiently answered.  But in CDEX we also cover direct queries and obliquely reference the aforementioned standards the the IG notes.  I am trying to get my head around the current  state  for the request authorization layer.  Doing some extra credit reading....Gotta keep up!  :-)</p>



<a name="258797178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258797178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258797178">(Oct 23 2021 at 02:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179247-Security-and.20Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions/near/258751540">said</a>:</p>
<blockquote>
<p>So, there's no real "purpose of use" for the posting of the Task.  The purpose of use is for "what will happen to the data you give me assuming you execute the Task".</p>
</blockquote>
<p>the distinction between those two things is easily conflatable and why I keep questioning why they are not the same.  I give up for now on arguing that they are, and I imagine by not using <a href="http://Task.meta.security">Task.meta.security</a> it will be avoided.  Reluctantly agreeing with Lloyd.  ;-)</p>



<a name="258916059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258916059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258916059">(Oct 25 2021 at 04:40)</a>:</h4>
<p>I think that purpose of use shouldn't be associated with the OAuth content. I don't want to have to re-login when I decide to look up some information for treatment as opposed to research.</p>



<a name="258916074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258916074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258916074">(Oct 25 2021 at 04:41)</a>:</h4>
<p>and the spec defines how to associate security labels with requests, if that's appropriate: <a href="https://hl7.org/fhir/security-labels.html#break-the-glass">https://hl7.org/fhir/security-labels.html#break-the-glass</a></p>



<a name="258948265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Purpose%20of%20Use%20Labeling%20for%20request%20questions/near/258948265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Purpose.20of.20Use.20Labeling.20for.20request.20questions.html#258948265">(Oct 25 2021 at 11:57)</a>:</h4>
<p>the purposeOfUse should be declared in the security context. The fact that the v2 of SMART does not have this is due to implementer pushback on how hard it is, I don't disagree. Security is hard, doing it right is very hard.  The break-the-glass hack is outside the security context, and hence why it is dragon warning.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
