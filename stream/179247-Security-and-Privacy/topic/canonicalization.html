---
layout: page
title: "FHIR Chat  · canonicalization · Security and Privacy"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/index.html">Security and Privacy</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/canonicalization.html">canonicalization</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="230819679"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/canonicalization/near/230819679" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Prud&#x27;hommeaux <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/canonicalization.html#230819679">(Mar 18 2021 at 06:40)</a>:</h4>
<p>Why does JSON c14n compress whitespace? I think you'd need to do more to make it emit the same document as <a href="https://www.w3.org/TR/xml-c14n11/">https://www.w3.org/TR/xml-c14n11/</a> .</p>



<a name="230819710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/canonicalization/near/230819710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Prud&#x27;hommeaux <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/canonicalization.html#230819710">(Mar 18 2021 at 06:41)</a>:</h4>
<p>c.f. <a href="https://www.hl7.org/fhir/json.html#canonical">https://www.hl7.org/fhir/json.html#canonical</a></p>



<a name="230820260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/canonicalization/near/230820260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Prud&#x27;hommeaux <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/canonicalization.html#230820260">(Mar 18 2021 at 06:50)</a>:</h4>
<p>It seems like ability to hash a FHIR document itself (rather than some serialization) would outweigh the value of using out-of-the-box c14n tools on the specific representations, especially since it could be autogenerated from the StructureDefinition (invoke a <code>hashThysefl()</code> that visited the hierarchy in the same order as the parsers. In Java, it could be run either off the <code>RuntimeResourceDefintion</code> or just be printf'd code like <code>equalsDeep()</code>.</p>



<a name="230852309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/canonicalization/near/230852309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/canonicalization.html#230852309">(Mar 18 2021 at 12:14)</a>:</h4>
<p>what would you recommend? This is a very immature space, especially with json. Note that the c14n is purely for calculating the signature in a reliable way.</p>



<a name="230853325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/canonicalization/near/230853325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Prud&#x27;hommeaux <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/canonicalization.html#230853325">(Mar 18 2021 at 12:23)</a>:</h4>
<p>i guess some proliferation of c14n methods isn't bad, so long as they have different use cases. all signature protocols that i know of include an identifier for the method so it's not like having more than one leads to ambiguity.</p>



<a name="230853785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/canonicalization/near/230853785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Prud&#x27;hommeaux <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/canonicalization.html#230853785">(Mar 18 2021 at 12:27)</a>:</h4>
<p>i can imagine using XML c14n for XML toolchains, RFC8785 for JSON tool chains and RDF Dataset normalization for RDF</p>



<a name="230853917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/canonicalization/near/230853917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Prud&#x27;hommeaux <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/canonicalization.html#230853917">(Mar 18 2021 at 12:28)</a>:</h4>
<p>the prob is that each of those leaves you in a silo. anyone wanting to test that signature will have to convert to the same format before following the rest of the verification protocol</p>



<a name="230854060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/canonicalization/near/230854060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Prud&#x27;hommeaux <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/canonicalization.html#230854060">(Mar 18 2021 at 12:29)</a>:</h4>
<p>so i like the option i described above where there be a FHIR-based c14n method, which you can use regardless of what serializaition format (if any) your system uses</p>



<a name="230867161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/canonicalization/near/230867161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/canonicalization.html#230867161">(Mar 18 2021 at 13:56)</a>:</h4>
<p>I added <a href="http://jira.hl7.org/browse/FHIR-31566">FHIR-31566</a> to at least align our JSON canonicalization recommendation with our goals for JSON canonicalization (I'd be interested to know if anyone has implemented them in their current form.)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
