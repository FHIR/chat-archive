---
layout: page
title: "FHIR Chat  · SearchNarrowingInterceptor · Security and Privacy"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/index.html">Security and Privacy</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/SearchNarrowingInterceptor.html">SearchNarrowingInterceptor</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="250718294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/SearchNarrowingInterceptor/near/250718294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Saad <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/SearchNarrowingInterceptor.html#250718294">(Aug 26 2021 at 04:15)</a>:</h4>
<p>I have implemented the SearchNarrowingInterceptor,  AuthorizationInterceptor &amp; ConsentInterceptor in my project as per the limited documentation available.</p>
<p>In the SearchNarrowingInterceptor, I am creating an AuthorizedList with one compartment for the patient that is sending the request to limit his access to records related to his patient Id only. So when I search for any other patient ID he gets an access denied message.</p>
<p>In the scenario when I am logged in as Patient 0987654321 and try to search for a Patient 1234567890 using the below URL:</p>
<p><a href="http://baseurl/Patient?_id=1234567890">http://baseurl/Patient?_id=1234567890</a></p>
<p>the SearchNarrowingInterceptor in the background is adding both patient IDs to the values Array of the _id param and since this is not acceptable I am getting the below error message </p>
<p>HTTP 400 Bad Request</p>
<p>Response Body<br>
{<br>
"resourceType": "OperationOutcome",<br>
"issue": [ {<br>
"severity": "error",<br>
"code": "processing",<br>
"diagnostics": "Multiple values detected for non-repeatable parameter '_id'. This server is not configured to allow multiple (AND/OR) values for this param."<br>
} ]<br>
}</p>
<p>How can I restrict the _id values to the one in the search request only, or is this a bug?</p>



<a name="250754923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/SearchNarrowingInterceptor/near/250754923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/SearchNarrowingInterceptor.html#250754923">(Aug 26 2021 at 11:04)</a>:</h4>
<p>seems a question better asked on <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a></p>



<a name="250817175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/SearchNarrowingInterceptor/near/250817175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Saad <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/SearchNarrowingInterceptor.html#250817175">(Aug 26 2021 at 18:22)</a>:</h4>
<p>Thanks, I just did.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
