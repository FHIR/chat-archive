---
layout: page
title: "FHIR Chat  · Consent rules clarity · Security and Privacy"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/index.html">Security and Privacy</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20rules.20clarity.html">Consent rules clarity</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="224462054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20rules%20clarity/near/224462054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20rules.20clarity.html#224462054">(Jan 29 2021 at 12:11)</a>:</h4>
<p><span class="user-mention" data-user-id="192587">@David Pyke</span> I just added some CR to help draw some clarity to the provisions model in Consent</p>
<ul>
<li><a href="https://jira.hl7.org/browse/FHIR-30760">https://jira.hl7.org/browse/FHIR-30760</a></li>
</ul>



<a name="224462142"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20rules%20clarity/near/224462142" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20rules.20clarity.html#224462142">(Jan 29 2021 at 12:12)</a>:</h4>
<p>Need to make more clear how in .provisions AND and  OR are to be used.</p>
<p>The general rule that I designed, but I don't see stated anywhere. This was designed to enable all possible logic. This is also why the .provisions are not restricted on how deep they can go:</p>
<p>1) adjacent provisions are in an OR relationship</p>
<p>2) adjacent elements within a provision are in an AND relationship</p>
<p>3) all values within an element are in an AND relationship</p>



<a name="224462163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20rules%20clarity/near/224462163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20rules.20clarity.html#224462163">(Jan 29 2021 at 12:12)</a>:</h4>
<p>Thus </p>
<p>A) Permit Dr Bob for Treatment purpose access to vital-signs that are normal confidentiality and published between 2000-2020. This indicates that no one other than Dr Bob, nothing other than Treatment, nothing other than vital-signs, nothing other than data that are normal, and nothing outside of the timeframe. Thus this is all encoded in one sub .provision. The parent provision would be a DENY, and this sub .provision would have have elements indicating these.</p>
<div class="codehilite"><pre><span></span><code>* provision.type = #deny
* provision.provision[0].type = #permit
* provision.provision[0].actor = Dr Bob
* provision.provision[0].purpose = #Treatment
* provision.provision[0].class = #vital-signs
* provision.provision[0].securityLabel = #N
* provision.provision[0].datePeriod = 2000-2020
 ```
</code></pre></div>



<a name="224462235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20rules%20clarity/near/224462235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20rules.20clarity.html#224462235">(Jan 29 2021 at 12:13)</a>:</h4>
<p>B) Permit Dr Bob, Permit Treatment purpose access, permit vital-signs, permit normal confidentiality, and permit data published between 2000-2020. This indicates that Dr Bob is to be permitted for everything, Treatment purpose of access for everything, vital-signs for any purpose, normal confidentiality tagged data, and permit data published between 2000-2020 </p>
<div class="codehilite"><pre><span></span><code>* provision.type = #deny
* provision.provision[0].type = #permit
* provision.provision[0].actor = Dr Bob
* provision.provision[1].type = #permit
* provision.provision[1].purpose = #Treatment
* provision.provision[2].type = #permit
* provision.provision[2].class = #vital-signs
* provision.provision[3].type = #permit
* provision.provision[3].securityLabel = #N
* provision.provision[4].type = #permit
* provision.provision[4].datePeriod = 2000-2020
</code></pre></div>
<p>of course these are all in an OR relationship, which given the rules will result in permitting everything. Thus the result of this is to permit everything not explicitly denied, and given the parent clause didn't explicitly deny anything specific, the result is everything is permitted under the consent base policy.  </p>
<div class="codehilite"><pre><span></span><code>* provision.type = #permit
</code></pre></div>



<a name="224462357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20rules%20clarity/near/224462357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20rules.20clarity.html#224462357">(Jan 29 2021 at 12:15)</a>:</h4>
<p>C) Permit requests for Treatment, Payment, and Operations. Which means Permit Treatment and Permit Payment, and Permit Operations, or any combination of the three. Are encoded how? Does this require three .provision elements? or is this done with one .provision with three values in the .purpose?  I tend to think that this argues that they must be in an AND relationship, thus to encode this TPO use, we need three .provisions.</p>
<p>so this authorizes request that declare they want Treatment, Payment, AND Operations access. But this would not authorize someone asking only for Treatment:</p>
<div class="codehilite"><pre><span></span><code>* provision.provision[0].type = #permit
* provision.provision[0].purpose[0] = #Treatment
* provision.provision[0].purpose[1] = #Payment
* provision.provision[0].purpose[2] = #Operations
</code></pre></div>
<p>so this authorizes requests that declare they want Treatment, payment, AND Operations access, but would also authorize access requests for only Treatment, or only Payment, or only Operations, or Treatment+Payment, or ....</p>
<div class="codehilite"><pre><span></span><code>* provision.provision[0].type = #permit
* provision.provision[0].purpose[0] = #Treatment
* provision.provision[1].type = #permit
* provision.provision[1].purpose[0] = #Payment
* provision.provision[2].type = #permit
* provision.provision[2].purpose[0] = #Operations
</code></pre></div>



<a name="228833414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20rules%20clarity/near/228833414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Jafari <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20rules.20clarity.html#228833414">(Mar 04 2021 at 19:18)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191404">@John Moehrke</span> if we are opening the discussion on provisions, I want to share our findings in LEAP as well. <br>
<a href="https://sdhealthconnect.github.io/leap/blog/2020/05/13/provisions.html">https://sdhealthconnect.github.io/leap/blog/2020/05/13/provisions.html</a><br>
The gist of our proposal is to get rid of the recursive, multi-level provision structure and use a flat array of provisions together with a decision combining strategy. I will file a CR to that effect as well to be considered in the new round of updates to the consent resource.</p>



<a name="228834160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20rules%20clarity/near/228834160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20rules.20clarity.html#228834160">(Mar 04 2021 at 19:23)</a>:</h4>
<p>Please do!</p>



<a name="228868017"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20rules%20clarity/near/228868017" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Jafari <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20rules.20clarity.html#228868017">(Mar 04 2021 at 23:17)</a>:</h4>
<p><span class="user-mention" data-user-id="192587">@David Pyke</span> <a href="https://jira.hl7.org/browse/FHIR-31412">FHIR-31412</a></p>



<a name="232881643"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20rules%20clarity/near/232881643" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20rules.20clarity.html#232881643">(Apr 02 2021 at 09:59)</a>:</h4>
<p>I am surprised that the patients would sign off on these things. You have very patient patients</p>



<a name="232881814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20rules%20clarity/near/232881814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20rules.20clarity.html#232881814">(Apr 02 2021 at 10:01)</a>:</h4>
<p>(i.e. the amount of rules and their complexity). We also do something like that in Europe but it becomes a blanket consent for being treated, which is one of the misuses I think were introduced with the GDPR rush.</p>



<a name="232889226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20rules%20clarity/near/232889226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20rules.20clarity.html#232889226">(Apr 02 2021 at 11:36)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> the change is just a change in the encoding. The complexity is still supported. However we have not been presented with anyone that wants to do anything other than a few exceptions to a base policy.</p>



<a name="232889492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20rules%20clarity/near/232889492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20rules.20clarity.html#232889492">(Apr 02 2021 at 11:40)</a>:</h4>
<p>Ok. I was just feeling for the patient. <br>
I think it is good to support more complex scenarios (hoping that this complexity does not end up on the patient)</p>



<a name="232890491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20rules%20clarity/near/232890491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20rules.20clarity.html#232890491">(Apr 02 2021 at 11:54)</a>:</h4>
<p>There is nothing we can do to make it easier or harder on the Patient. That falls to those writing the policies, writing the User Interface, etc.</p>



<a name="232902806"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179247-Security%20and%20Privacy/topic/Consent%20rules%20clarity/near/232902806" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179247-Security-and-Privacy/topic/Consent.20rules.20clarity.html#232902806">(Apr 02 2021 at 14:09)</a>:</h4>
<p>I'm not sure about that. Often the features supported by a system influence how the system is leveraged in implementations, which in turn influences usability.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
