---
layout: page
title: "FHIR Chat  · referencing profiled resources · clinFHIR"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/index.html">clinFHIR</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html">referencing profiled resources</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153914888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153914888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153914888">(Oct 19 2017 at 17:29)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> - changing title.</p>
<p>Just thinking about this a bit more. What I think needs to happen is that when determining possible reference targets, CF will need to look at the ElementDefinition in the source (which will reference, say, argonaut Patient, retrieve the corresponding SD from a registry, determine the base type, and allow a reference to all resource instances conformant to the base type. So, for example, a target resource conformant to a CareConnect Patient would also be a valid target in this scenario, agree?</p>



<a name="153914890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153914890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153914890">(Oct 19 2017 at 17:37)</a>:</h4>
<p>putting it another way, the ability to make a reference will be based on the FHIR base type, irrespective of the profile in the source or the target...</p>



<a name="153914913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153914913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153914913">(Oct 19 2017 at 19:22)</a>:</h4>
<p>Yes, I agree with that</p>



<a name="153915145"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153915145" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153915145">(Oct 20 2017 at 20:00)</a>:</h4>
<p>OK - have uploaded an update that should work - can you take a look &amp; check?</p>



<a name="153915168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153915168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153915168">(Oct 21 2017 at 18:23)</a>:</h4>
<p>btw - a logical model can also be the target of a reference, provided it has an extension like this in it (off the root). This is added by the Logical Modeller, but no reason why it won't work if added to a model created outside of CF... (Though do remember that the Scenario Builder won't handle very complex models)...</p>
<div class="codehilite"><pre><span></span>{
      &quot;url&quot;: &quot;http://clinfhir.com/fhir/StructureDefinition/baseTypeForModel&quot;,
      &quot;valueString&quot;: &quot;Condition&quot;
    }
</pre></div>



<a name="153915289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153915289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153915289">(Oct 23 2017 at 06:21)</a>:</h4>
<p>I tested it out and got this alert....</p>



<a name="153915291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153915291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153915291">(Oct 23 2017 at 06:23)</a>:</h4>
<p><a href="/user_uploads/10155/hs4uiBQ-uYQxZ7T9or6ZY-uz/Screen-Shot-2017-10-22-at-11.21.12-PM.png" target="_blank" title="Screen-Shot-2017-10-22-at-11.21.12-PM.png">Screen-Shot-2017-10-22-at-11.21.12-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/hs4uiBQ-uYQxZ7T9or6ZY-uz/Screen-Shot-2017-10-22-at-11.21.12-PM.png" target="_blank" title="Screen-Shot-2017-10-22-at-11.21.12-PM.png"><img src="/user_uploads/10155/hs4uiBQ-uYQxZ7T9or6ZY-uz/Screen-Shot-2017-10-22-at-11.21.12-PM.png"></a></div>



<a name="153915473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153915473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153915473">(Oct 23 2017 at 18:11)</a>:</h4>
<p>Does your Logical Model have that URL? CF is looking for it on the HAPI sever using a query...    Also - what were you doing when you got the error?</p>



<a name="153915475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153915475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153915475">(Oct 23 2017 at 18:28)</a>:</h4>
<p>I'll check</p>



<a name="153915751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153915751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153915751">(Oct 24 2017 at 19:08)</a>:</h4>
<p>SB still not allowing a reference to the FHIR base type, irrespective of the profile in the source or the target...</p>



<a name="153915752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153915752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153915752">(Oct 24 2017 at 19:08)</a>:</h4>
<p><a href="/user_uploads/10155/Wv5Tiu7GOlSTCBqI0lrazV5F/10-24-2017-12-03-45-PM.png" target="_blank" title="10-24-2017-12-03-45-PM.png">10-24-2017-12-03-45-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/Wv5Tiu7GOlSTCBqI0lrazV5F/10-24-2017-12-03-45-PM.png" target="_blank" title="10-24-2017-12-03-45-PM.png"><img src="/user_uploads/10155/Wv5Tiu7GOlSTCBqI0lrazV5F/10-24-2017-12-03-45-PM.png"></a></div>



<a name="153915802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153915802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153915802">(Oct 24 2017 at 22:47)</a>:</h4>
<p>are both core resource types? I was able to create a reference from Communication -&gt; PlanDefinition...</p>



<a name="153915812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153915812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153915812">(Oct 24 2017 at 23:30)</a>:</h4>
<p>Communication is a profile with a reference to a profile on PlanDef.  SB would not let me use a core resource for PlanDef instead of the target profile on PlanDef.</p>



<a name="153915813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153915813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153915813">(Oct 24 2017 at 23:31)</a>:</h4>
<p>I uploaded this profile directly to hapi.  I did not add the extension you mentioned above</p>



<a name="153915816"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153915816" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153915816">(Oct 24 2017 at 23:51)</a>:</h4>
<p>OK so both are profiles? I think the issue is that without the extension, SB doesn't know what 'type' it is profiling- hence it cannot create the reference. If you  add the following extension to the planDef logical model, then you should be able to create the reference:  (assuming that the reference from Comunication is to PlanDefinition...</p>
<div class="codehilite"><pre><span></span>{
      &quot;url&quot;: &quot;http://clinfhir.com/fhir/StructureDefinition/baseTypeForModel&quot;,
      &quot;valueString&quot;: &quot;PlanDefinition&quot;
    }
</pre></div>



<a name="153915829"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153915829" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153915829">(Oct 25 2017 at 00:38)</a>:</h4>
<p>tried that and no luck -  Is there an example in the library of what I am trying to do?</p>



<a name="153915831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153915831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153915831">(Oct 25 2017 at 00:39)</a>:</h4>
<p>works great with core resources though which is what i did.</p>



<a name="153915856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153915856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153915856">(Oct 25 2017 at 04:30)</a>:</h4>
<p>dang! both profiles are in the hapi server? what id's are they?</p>



<a name="153915857"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153915857" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153915857">(Oct 25 2017 at 04:32)</a>:</h4>
<p>oh, and I assume you are not creating the LM's in the Logical Modeler? (You shouldn't need to of course)...</p>



<a name="153916022"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153916022" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153916022">(Oct 25 2017 at 15:28)</a>:</h4>
<p>no I created using IG published and uploaded to HAPI.   Ids are Communication = rr-communication  and PlanDefinition = rr-plandefinition.</p>



<a name="153916039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153916039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153916039">(Oct 25 2017 at 17:04)</a>:</h4>
<p>should be fixed now. I was confusing myself between logical models and profiles - it's logical models that need the extension, not profiles. btw - do note that CF won't handle complicated profiles all that well at the moment - sliced profiles will confuse it, and where the 'child' elements of a complex datatype are displayed it will offer them up for potential data entry - then barf at the result. Working on that, but it's kinda complex!</p>



<a name="153916068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153916068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153916068">(Oct 25 2017 at 20:04)</a>:</h4>
<p>the communication profile is indeed complicated</p>



<a name="153916188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153916188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153916188">(Oct 25 2017 at 23:54)</a>:</h4>
<p>Unfortunately when I create a link between the Communication Profile and PlanDefinition core resource SB pops into read only mode  :-(</p>



<a name="153916189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153916189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153916189">(Oct 25 2017 at 23:55)</a>:</h4>
<p>I am able to do want I want with the core resources right now so no need to hurry up and fix it right now.</p>



<a name="153916190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153916190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153916190">(Oct 25 2017 at 23:55)</a>:</h4>
<p>Thanks for your efforts so far</p>



<a name="153916196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153916196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153916196">(Oct 26 2017 at 00:59)</a>:</h4>
<p>no worries - glad for your testing! Did you download the scenario from the library, or create it directly?</p>



<a name="153916284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153916284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153916284">(Oct 26 2017 at 16:28)</a>:</h4>
<blockquote>
<p>no worries - glad for your testing! Did you download the scenario from the library, or create it directly?</p>
</blockquote>
<p>from library</p>



<a name="153916293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179176-clinFHIR/topic/referencing%20profiled%20resources/near/153916293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179176-clinFHIR/topic/referencing.20profiled.20resources.html#153916293">(Oct 26 2017 at 17:13)</a>:</h4>
<p>That's the issue then. I need to work on tidying that up...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
