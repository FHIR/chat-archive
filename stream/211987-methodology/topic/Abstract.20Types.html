---
layout: page
title: "FHIR Chat  · Abstract Types · methodology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/211987-methodology/index.html">methodology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/211987-methodology/topic/Abstract.20Types.html">Abstract Types</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="183027721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/211987-methodology/topic/Abstract%20Types/near/183027721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/211987-methodology/topic/Abstract.20Types.html#183027721">(Dec 10 2019 at 04:34)</a>:</h4>
<p>I have committed an update to <a href="http://build.fhir.org" target="_blank" title="http://build.fhir.org">build.fhir.org</a> to rebuild the abstract type system. Mostly, this is making explicit what was implicit. The only difference it makes will be to the code generators that now have to mostly undo special case logic they needed for earlier versions</p>



<a name="183027732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/211987-methodology/topic/Abstract%20Types/near/183027732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/211987-methodology/topic/Abstract.20Types.html#183027732">(Dec 10 2019 at 04:34)</a>:</h4>
<p>The main change is <a href="http://build.fhir.org/types.html" target="_blank" title="http://build.fhir.org/types.html">http://build.fhir.org/types.html</a></p>



<a name="183030486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/211987-methodology/topic/Abstract%20Types/near/183030486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/211987-methodology/topic/Abstract.20Types.html#183030486">(Dec 10 2019 at 05:26)</a>:</h4>
<p>there's one change that MnM aproved that I have not yet made... making MetadataResource explicit in the spec (harder work)</p>



<a name="183410756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/211987-methodology/topic/Abstract%20Types/near/183410756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/211987-methodology/topic/Abstract.20Types.html#183410756">(Dec 13 2019 at 23:17)</a>:</h4>
<p>ok I've made the first step of that... making it explicit. but I haven't changed anything to inherit from it yet. </p>
<p>Here's what I think we should do:</p>
<ul>
<li>split it into CanonicalResource and MetadataResource</li>
<li>MetadataResource gets approvalDate, lastReviewDate, and effectivePeriod, and CanonicalResource gets the rest</li>
<li>the resources CapabilityStatement,  StructureDefinition, ImplementationGuide, SearchParameter, MessageDefinition, OperationDefinition, CompartmentDefinition, StructureMap, GraphDefinition, ExampleScenario, CodeSystem, ValueSet, ConceptMap, NamingSystem, TerminologyCapabilities, TestScript and EventDefinition specialize CanonicalResource</li>
<li>the resources ActivityDefinition, ChargeItemDefinition, ConditionDefinition, Evidence, EvidenceVariable, Library, Measure, PlanDefinition, and Questionnaire specialize MetadataResource</li>
<li>the resources that do not have properties in their generalization get them. In the normative resources, that means:<ul>
<li>CapabilityStatement gets identifier</li>
<li>SearchParameter gets identifier, title, copyright</li>
<li>OperationDefinition gets identifier, copyright</li>
</ul>
</li>
<li>the resources still all actually define what they have, and CanonicalResource and MetadataResource get some stereotype or something as part of their definition to say that they are extra abstract (just an interface, no properties defined, since there's interspersed properties in their children, and the children redefine bindings, definitions)</li>
</ul>



<a name="183412181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/211987-methodology/topic/Abstract%20Types/near/183412181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/211987-methodology/topic/Abstract.20Types.html#183412181">(Dec 13 2019 at 23:41)</a>:</h4>
<p>Philisophically, I'm not thrilled with introducing elements that aren't needed just for the sake of a class model.  SearchParameter having title is a good thing - it should already have had.  Copyright on OperationDefinition is also reasonable.  The others are are very questionable.  However, because they're infrastructure and won't impact most implementers, I can hold my nose...</p>



<a name="183455968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/211987-methodology/topic/Abstract%20Types/near/183455968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/211987-methodology/topic/Abstract.20Types.html#183455968">(Dec 14 2019 at 19:59)</a>:</h4>
<p>I had been considering making the suggestion to move identifier all the way up to DomainResource, so I'm very happy to see that the spec was already heading somewhat in that direction. I'm looking at use cases involving the server doing resolution of logical references, which is limited if a small minority of resource types don't have identifiers.</p>



<a name="183459399"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/211987-methodology/topic/Abstract%20Types/near/183459399" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/211987-methodology/topic/Abstract.20Types.html#183459399">(Dec 14 2019 at 21:33)</a>:</h4>
<p>we've considered and rejected that several times. But I don't think we've had the discussion in light of the change to reference to add identifier</p>



<a name="183904445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/211987-methodology/topic/Abstract%20Types/near/183904445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/211987-methodology/topic/Abstract.20Types.html#183904445">(Dec 20 2019 at 02:33)</a>:</h4>
<p>ok, here's the gaps other than identifier (see other thread about identifiers):</p>
<p>Elements not defined by implied by an interface they claim to implement:</p>
<ul>
<li><a href="http://ChargeItemDefinition.name" target="_blank" title="http://ChargeItemDefinition.name">ChargeItemDefinition.name</a> [from CanonicalResource]</li>
<li>ChargeItemDefinition.purpose [from CanonicalResource]</li>
<li>CompartmentDefinition.title [from CanonicalResource]</li>
<li>CompartmentDefinition.jurisdiction [from CanonicalResource]</li>
<li>CompartmentDefinition.copyright [from CanonicalResource]</li>
<li>ConditionDefinition.purpose [from CanonicalResource]</li>
<li>ConditionDefinition.copyright [from CanonicalResource]</li>
<li>ConditionDefinition.approvalDate [from MetadataResource]</li>
<li>ConditionDefinition.lastReviewDate [from MetadataResource]</li>
<li>ConditionDefinition.effectivePeriod [from MetadataResource]</li>
<li><a href="http://Evidence.name" target="_blank" title="http://Evidence.name">Evidence.name</a> [from CanonicalResource]</li>
<li>Evidence.experimental [from CanonicalResource]</li>
<li>Evidence.publisher [from CanonicalResource]</li>
<li>Evidence.contact [from CanonicalResource]</li>
<li>Evidence.jurisdiction [from CanonicalResource]</li>
<li>Evidence.purpose [from CanonicalResource]</li>
<li>Evidence.copyright [from CanonicalResource]</li>
<li>Evidence.effectivePeriod [from MetadataResource]</li>
<li>EvidenceVariable.experimental [from CanonicalResource]</li>
<li>EvidenceVariable.purpose [from CanonicalResource]</li>
<li>ExampleScenario.title [from CanonicalResource]</li>
<li>ExampleScenario.description [from CanonicalResource]</li>
<li>GraphDefinition.title [from CanonicalResource]</li>
<li>GraphDefinition.copyright [from CanonicalResource]</li>
<li>ImplementationGuide.purpose [from CanonicalResource]</li>
<li>NamingSystem.title [from CanonicalResource]</li>
<li>NamingSystem.experimental [from CanonicalResource]</li>
<li>NamingSystem.purpose [from CanonicalResource]</li>
<li>NamingSystem.copyright [from CanonicalResource]</li>
<li>OperationDefinition.copyright [from CanonicalResource]</li>
<li>SearchParameter.title [from CanonicalResource]</li>
<li>SearchParameter.copyright [from CanonicalResource]</li>
</ul>



<a name="183948513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/211987-methodology/topic/Abstract%20Types/near/183948513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/211987-methodology/topic/Abstract.20Types.html#183948513">(Dec 20 2019 at 16:05)</a>:</h4>
<p>CharegeItemDefinition - seems unlikely to generate code from, so don't understand name.  CompartmentDefinition title - ok.  Jurisdiction and copyright would be useless - they'd be fixed values.  Not a fan of adding anything to Evidence right now.  Title and description for ExampleScenario would be good ideas.  Title for GraphDefinition is fine.  copyright could be an extension.  IG purpose is fine.  NamingSystem.title - think we've got a change request to add that already.  experimental, sure.  Purpose is unneeded, as is copyright.  OperationDefinition.copyright, sure.  SearchParameter.title, sure.  SearchParameter.copyright - extension at most</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
