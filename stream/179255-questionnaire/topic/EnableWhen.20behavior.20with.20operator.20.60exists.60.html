---
layout: page
title: "FHIR Chat  · EnableWhen behavior with operator `exists` · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html">EnableWhen behavior with operator `exists`</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="244415313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20behavior%20with%20operator%20%60exists%60/near/244415313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jing Tang <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html#244415313">(Jun 30 2021 at 12:32)</a>:</h4>
<p>In this example: <a href="http://www.hl7.org/FHIR/questionnaire-example-bluebook.json.html">http://www.hl7.org/FHIR/questionnaire-example-bluebook.json.html</a>, the <code>enableWhen</code> expression for question <code>vitaminKgivenDoses</code> evaluates to <code>true</code> if an answer is given to a boolean question. In reality though, once you have ticked the checkbox, unchecking it would only change it to <code>false</code>, rather than clearing the answer. So the behavior of this questionnaire is a little unexpected to me - the additional question will not go away after you uncheck the checkbox. Solutions? 1) rewrite this example and only show the new question if and only if a <code>true</code> answer is given to the boolean question 2) make the rendering tool clear <code>false</code> answer when a checkbox is unchecked. 2) seems very odd to me and inconsistent with how answers are handled... so should we update this example? Thanks!</p>



<a name="244415876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20behavior%20with%20operator%20%60exists%60/near/244415876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html#244415876">(Jun 30 2021 at 12:37)</a>:</h4>
<p>vitaminKgiven is a choice type (coded response), so if the selection is cleared, then the group would go away again.</p>



<a name="244425323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20behavior%20with%20operator%20%60exists%60/near/244425323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jing Tang <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html#244425323">(Jun 30 2021 at 13:44)</a>:</h4>
<p>sorry yes i think i mixed up two things in my question... about <code>vitaminKgiven</code>: so that is to say the tool should always have a way to clear choice type? that's not so obvious an option for things like radio button group.</p>



<a name="244425783"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20behavior%20with%20operator%20%60exists%60/near/244425783" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jing Tang <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html#244425783">(Jun 30 2021 at 13:47)</a>:</h4>
<p>I was also meant to ask about <code>hepBgiven</code> and its nested question <code>hepBgivenDate</code>. In this case if the parent question is answered but then unticked, should the child question be hidden?</p>



<a name="244427375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20behavior%20with%20operator%20%60exists%60/near/244427375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html#244427375">(Jun 30 2021 at 13:59)</a>:</h4>
<p>It depends on how you design the Questionnaire. We had similar issues so we use three values value set yes-no-notSepcified instead of boolean if we really cares the default to be notSpecified. In UI, the item is rendered as a group with three radio buttons.</p>



<a name="244434848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20behavior%20with%20operator%20%60exists%60/near/244434848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html#244434848">(Jun 30 2021 at 14:48)</a>:</h4>
<p>I think we have a change request in SDC that includes a recommendation that boolean items be rendered with a 3-state control to allow "not answered" to be a choice.  However, we can't guarantee all renderers will do that.</p>



<a name="244468145"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20behavior%20with%20operator%20%60exists%60/near/244468145" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tilo Christ <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html#244468145">(Jun 30 2021 at 18:28)</a>:</h4>
<p>This is already the recommended way of doing things today:<a href="https://build.fhir.org/questionnaire.html#booleans">https://build.fhir.org/questionnaire.html#booleans</a><br>
In my Faiadashu filler I actually went to great lengths to make sure that everything could be brought back into an untouched state. See <a href="http://legentix.com/faidashu/#/">http://legentix.com/faidashu/#/</a> for an implementation of the Bluebook questionnaire that hopefully gets everything right.</p>



<a name="244494544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20behavior%20with%20operator%20%60exists%60/near/244494544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html#244494544">(Jun 30 2021 at 22:02)</a>:</h4>
<p>My renderer does bools as t/f, options with radios once you choose, that's it, options with a drop down can select the blank entry.</p>



<a name="244534039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20behavior%20with%20operator%20%60exists%60/near/244534039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jing Tang <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html#244534039">(Jul 01 2021 at 08:33)</a>:</h4>
<p>thanks all - this makes sense. but i think for nested questions (e.g. the hepBgiven question in the questionnaire i linked) it still is a little strange that answering no would display nested questions.</p>
<p>ps <span class="user-mention" data-user-id="192169">@Tilo Christ</span> awesome demo!</p>
<p><span class="user-mention" data-user-id="382830">@Kashyap Jois</span> <span class="user-mention" data-user-id="315122">@Fred Hersch</span></p>



<a name="244537914"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20behavior%20with%20operator%20%60exists%60/near/244537914" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kashyap Jois <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html#244537914">(Jul 01 2021 at 09:13)</a>:</h4>
<p>Yup all this makes sense , thanks <span class="user-mention" data-user-id="366686">@Jing Tang</span> !</p>



<a name="244538876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20behavior%20with%20operator%20%60exists%60/near/244538876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kashyap Jois <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html#244538876">(Jul 01 2021 at 09:19)</a>:</h4>
<p>There is still a point that <span class="user-mention" data-user-id="366686">@Jing Tang</span>  made which is not clear yet, <strong>If a parent item has nested items, should the nested items be hidden until the parent has been answered?</strong></p>



<a name="244544763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20behavior%20with%20operator%20%60exists%60/near/244544763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jing Tang <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html#244544763">(Jul 01 2021 at 10:19)</a>:</h4>
<p>i think the question is whether we treat boolean type as a special case and still hide the nested item if the answer to the the parent question is false</p>



<a name="244568086"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20behavior%20with%20operator%20%60exists%60/near/244568086" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html#244568086">(Jul 01 2021 at 13:45)</a>:</h4>
<p>That is a Questionnaire design issue. You can design it either way.</p>



<a name="244575153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20behavior%20with%20operator%20%60exists%60/near/244575153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html#244575153">(Jul 01 2021 at 14:29)</a>:</h4>
<p>If you have a question with nested questions, the questions nest beneath the answers - so there's nothing to nest within if you don't have an answer to the parent question.</p>



<a name="244660947"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20behavior%20with%20operator%20%60exists%60/near/244660947" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kashyap Jois <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html#244660947">(Jul 02 2021 at 05:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60/near/244575153">said</a>:</p>
<blockquote>
<p>If you have a question with nested questions, the questions nest beneath the answers - so there's nothing to nest within if you don't have an answer to the parent question.</p>
</blockquote>
<p>Thanks this makes perfect sense.. sorry about the silly question <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="244720538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20behavior%20with%20operator%20%60exists%60/near/244720538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60.html#244720538">(Jul 02 2021 at 15:41)</a>:</h4>
<p>It wasn't a silly question :)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
