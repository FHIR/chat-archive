---
layout: page
title: "FHIR Chat  · Using answerOption.valueReference · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Using.20answerOption.2EvalueReference.html">Using answerOption.valueReference</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="200262115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Using%20answerOption.valueReference/near/200262115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Using.20answerOption.2EvalueReference.html#200262115">(Jun 09 2020 at 17:17)</a>:</h4>
<p>I have a value set contains all coding that I would like to put into a choice type item. Other than using answerValueSet, can I use answerOption.valueReference to refer that value set? The reason I am asking is that there is a bug in HAPI which could not parse canonical reference correct so the contained value set is removed if not used by a Reference type.</p>



<a name="200271638"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Using%20answerOption.valueReference/near/200271638" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Using.20answerOption.2EvalueReference.html#200271638">(Jun 09 2020 at 18:35)</a>:</h4>
<p>no.  valueReference is for when the answers are expected to be references.  E.g. "pick a Location", "pick a Practitioner".  If you had value set there, that would let the user pick a value set, not pick a code from the value set.</p>



<a name="200279919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Using%20answerOption.valueReference/near/200279919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Using.20answerOption.2EvalueReference.html#200279919">(Jun 09 2020 at 19:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191506">Yunwei Wang</span> <a href="#narrow/stream/179255-questionnaire/topic/Using.20answerOption.2EvalueReference/near/200262115">said</a>:</p>
<blockquote>
<p>I have a value set contains all coding that I would like to put into a choice type item. Other than using answerValueSet, can I use answerOption.valueReference to refer that value set? The reason I am asking is that there is a bug in HAPI which could not parse canonical reference correct so the contained value set is removed if not used by a Reference type.</p>
</blockquote>
<p>we encountered a similar issue and worked (or better hacked?) around it by introducing an extension with a reference to the contained ValueSet ... see <a href="https://github.com/hl7ch/covid-19-prom/blob/master/input/resources/questionnaire/coronascience-question-of-the-day-QD1.xml">https://github.com/hl7ch/covid-19-prom/blob/master/input/resources/questionnaire/coronascience-question-of-the-day-QD1.xml</a></p>



<a name="200283637"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Using%20answerOption.valueReference/near/200283637" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Using.20answerOption.2EvalueReference.html#200283637">(Jun 09 2020 at 20:12)</a>:</h4>
<p>This is smart! I used initial.valueReference and then remove it after HAPI serialization. It was a terrible solution. I will try yours. Thank you.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
