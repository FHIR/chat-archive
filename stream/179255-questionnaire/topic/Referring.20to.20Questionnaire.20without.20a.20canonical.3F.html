---
layout: page
title: "FHIR Chat  · Referring to Questionnaire without a canonical? · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html">Referring to Questionnaire without a canonical?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="216248318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Referring%20to%20Questionnaire%20without%20a%20canonical%3F/near/216248318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html#216248318">(Nov 10 2020 at 17:56)</a>:</h4>
<p>I have a system that records the QuestionnaireResponses and I want to record the link to the Questionnaire using the Questionnaire's Identifier instead of a canonical (that is how it is recorded in the Database).  Is there some way other than using an extension to do this?  (I suppose I'm asking if there is someway to convert an Identifier into a canonical?). Why is this element only a canonical and not also a Reference(Questionnaire)?</p>



<a name="216248625"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Referring%20to%20Questionnaire%20without%20a%20canonical%3F/near/216248625" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html#216248625">(Nov 10 2020 at 17:58)</a>:</h4>
<p>It's canonical because the expectation is that it will be resolved the same as other canonicals - could be on your server, one of your favorite registries, some central registry, or worst case by resolving the URL.  As well, the URL might specify a business version.  Reference doesn't know how to handle any of that.  It can't do business version and has to point to a specific resource on a specific server.</p>



<a name="216248742"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Referring%20to%20Questionnaire%20without%20a%20canonical%3F/near/216248742" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html#216248742">(Nov 10 2020 at 17:58)</a>:</h4>
<p>If you wanted to use identifier instead, you'd have to use an extension.  Whether you can convert from identifier to canonical depends on the conventions of whoever authored the questionnaire.  There's no formal expectation that would work.</p>



<a name="216249070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Referring%20to%20Questionnaire%20without%20a%20canonical%3F/near/216249070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html#216249070">(Nov 10 2020 at 18:00)</a>:</h4>
<p>I understand the use of canonical, but I was wondering why we didn't also include a Reference which would allow for logical references to the Questionnaire.</p>



<a name="216262400"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Referring%20to%20Questionnaire%20without%20a%20canonical%3F/near/216262400" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html#216262400">(Nov 10 2020 at 19:33)</a>:</h4>
<p>The same reason we don't allow Reference anywhere else we have canonical (e.g. elements pointing to value sets, value sets, types pointing to profiles, etc.  We don't want the references to be server-specific.</p>



<a name="216325291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Referring%20to%20Questionnaire%20without%20a%20canonical%3F/near/216325291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html#216325291">(Nov 11 2020 at 09:51)</a>:</h4>
<p>Can't we put the explicit full url to the questionnaire in there?</p>



<a name="216349798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Referring%20to%20Questionnaire%20without%20a%20canonical%3F/near/216349798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html#216349798">(Nov 11 2020 at 14:06)</a>:</h4>
<p>Canonical needs to correspond to Questionnaire.url.  It's fine (and good) if that url resolves to the Questionnaire but it's not required</p>



<a name="216384300"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Referring%20to%20Questionnaire%20without%20a%20canonical%3F/near/216384300" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html#216384300">(Nov 11 2020 at 18:52)</a>:</h4>
<p>That's what I was suggesting, so the QuestionnaireResponse.Questionnaire can contain the full URL to the Questionnaire, which I think is what Jean was asking for?)</p>



<a name="216388575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Referring%20to%20Questionnaire%20without%20a%20canonical%3F/near/216388575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html#216388575">(Nov 11 2020 at 19:31)</a>:</h4>
<p>No, unfortunately my Questionnaires aren't referenceable by a URL.  They have an identifier so I was going to use a logical reference to identify the questionnaire.  Our system is using FHIR as an exchange format but we not as the actual exchange so we don't have URLs.  I've gone to using an extension to share the Questionnaire identifier, but it still seems strange that we only allow a Canonical and not a Reference.</p>



<a name="216400089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Referring%20to%20Questionnaire%20without%20a%20canonical%3F/near/216400089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html#216400089">(Nov 11 2020 at 21:17)</a>:</h4>
<p>the URL doesn't need to resolve, so you can define a canonical based on your identifier can't you?</p>



<a name="216400179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Referring%20to%20Questionnaire%20without%20a%20canonical%3F/near/216400179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html#216400179">(Nov 11 2020 at 21:18)</a>:</h4>
<p><a href="http://example.org/Questionnaire/1234">http://example.org/Questionnaire/1234</a><br>
(where 1234 is your identifier, and the other stuff you can make up that would match to like a system namespace)</p>



<a name="222389362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Referring%20to%20Questionnaire%20without%20a%20canonical%3F/near/222389362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html#222389362">(Jan 12 2021 at 04:01)</a>:</h4>
<p>We are running into a similar issue, though from a different perspective.<br>
We are referencing Questionnaires in our QuestionnaireResponse.questionnaire by the canonical URL with the appropriate canonical version.<br>
The canonical version of the electronic Questionnaire (e.g. v 1.3.0) does not map directly to the business identifier of the physical form, e.g. MyForm-20210111v1.pdf<br>
As such, we need a way for QuestionnaireResponse.questionnaire to indicate both the canonical of the electronic form (which works fine) as well as a secondary identifier for the Questionnaire. While in theory, the Questionnaire's canonical URI should be resolvable to determine the identifier, we are using the canonicals as unique identifiers and Questionnaire will not be resolvable. It also saves the QuestionnaireResponse recipient an extra hop/call to determine what the original paper form identifier was. </p>
<p>SDC currently prescribe use of QuestionnaireResponse.questionnaire.display. Is there any reason we shouldn't use QuestionnaireResponse.questionnaire.identifier to convey the business identifier for the questionnaire? Does it necessarily need to be an extension on QuestionnaireResponse.questionnaire?</p>



<a name="222390176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Referring%20to%20Questionnaire%20without%20a%20canonical%3F/near/222390176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html#222390176">(Jan 12 2021 at 04:19)</a>:</h4>
<p>QuestionnaireResponse.questionnaire.display is an extension.  If were to add 'identifier' that would also have to be an extension as the canonical type is a simple data type with just a value.  You could submit a change request for us to add it, but my leaning would be to make it optional, not mustSupport, as systems <em>should</em> always use canonicals rather than business identifiers.</p>



<a name="222390998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Referring%20to%20Questionnaire%20without%20a%20canonical%3F/near/222390998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html#222390998">(Jan 12 2021 at 04:37)</a>:</h4>
<p>I imagine this may also help <span class="user-mention" data-user-id="192166">@Jean Duteau</span>'s issue, and may be a common use case. Happy to use an extension for now and make the change request, so at least there is a consistent way to identify a business ID for a referenced questionnaire without having to go to the source (if available).</p>



<a name="222411660"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Referring%20to%20Questionnaire%20without%20a%20canonical%3F/near/222411660" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html#222411660">(Jan 12 2021 at 10:10)</a>:</h4>
<p>You need the source for most things anyway, so don't know what you're gaining here. Can't validate without it, can't render without it. Can't extract without it...</p>



<a name="222460771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Referring%20to%20Questionnaire%20without%20a%20canonical%3F/near/222460771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Referring.20to.20Questionnaire.20without.20a.20canonical.3F.html#222460771">(Jan 12 2021 at 16:55)</a>:</h4>
<p>You should be able to render without it - the QuestionnaireResponse contains question text and answer, which is good enough for 'simple' rendering of a completed form.  However, you can't complete a form without retrieving the Questionnaire.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
