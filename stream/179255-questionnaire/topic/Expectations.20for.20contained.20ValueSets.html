---
layout: page
title: "FHIR Chat  · Expectations for contained ValueSets · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Expectations.20for.20contained.20ValueSets.html">Expectations for contained ValueSets</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="243841378"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Expectations%20for%20contained%20ValueSets/near/243841378" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Expectations.20for.20contained.20ValueSets.html#243841378">(Jun 24 2021 at 20:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> and I were discussing whether a Questionnaire author should expect a form renderer to look in a contained ValueSet's "compose" element to determine the expansion.  In the case in question, the "compose.include" section directly listed a few codes, so it is technically not a challenge to figure out the expansion (unless there is also "filter").  However, the LHC-Forms renderer expects that for a contained ValueSet, one or more of the following is true:</p>
<p>1) there is some FHIR context (e.g. provided by SMART on FHIR) that be queried to obtain the expansion<br>
2) a preferred-terminologyServer extension is present to indicate where to get the expansion<br>
3) the ValueSet itself contains the "expansion" element.</p>
<p>I am curious as to what other people think about how a renderer should expect to get the expansion, and I think the documentation should be clarified on that point.</p>



<a name="243841748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Expectations%20for%20contained%20ValueSets/near/243841748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Expectations.20for.20contained.20ValueSets.html#243841748">(Jun 24 2021 at 20:28)</a>:</h4>
<p>The discussion was around entensionally defined valuesets. Extensionallydefined valuesets have the codes already in. In that case, and only in cases the valueset is only extensionally defined, the concepts in the expansion are(?) the same as the concepts in the compose.include</p>



<a name="243841990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Expectations%20for%20contained%20ValueSets/near/243841990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Expectations.20for.20contained.20ValueSets.html#243841990">(Jun 24 2021 at 20:30)</a>:</h4>
<p>well, not entirely. A server doing $expand will check that the concepts actually exist</p>



<a name="243842092"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Expectations%20for%20contained%20ValueSets/near/243842092" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Expectations.20for.20contained.20ValueSets.html#243842092">(Jun 24 2021 at 20:31)</a>:</h4>
<p>I don't know but perhaps the $expand may also bring designations in different languages if they exist..?</p>



<a name="243842176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Expectations%20for%20contained%20ValueSets/near/243842176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Expectations.20for.20contained.20ValueSets.html#243842176">(Jun 24 2021 at 20:32)</a>:</h4>
<p>well, yes, you will (or should) get language support from a terminology server</p>



<a name="243842286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Expectations%20for%20contained%20ValueSets/near/243842286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Expectations.20for.20contained.20ValueSets.html#243842286">(Jun 24 2021 at 20:33)</a>:</h4>
<p>From what I learned last week, the question for me is: does the author need to have any concerns about which type of valueset to populate?</p>



<a name="243842334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Expectations%20for%20contained%20ValueSets/near/243842334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Expectations.20for.20contained.20ValueSets.html#243842334">(Jun 24 2021 at 20:33)</a>:</h4>
<p>I learned it's ok - and better - to pass everything through the $expand - but does this affect the author's expectations or actions?</p>



<a name="243849017"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Expectations%20for%20contained%20ValueSets/near/243849017" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Expectations.20for.20contained.20ValueSets.html#243849017">(Jun 24 2021 at 21:26)</a>:</h4>
<p>In other words, is a questionnaire author expected to need expand such a valueset him/herself, or is that something for (whatever) toolchain?</p>



<a name="243857101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Expectations%20for%20contained%20ValueSets/near/243857101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Expectations.20for.20contained.20ValueSets.html#243857101">(Jun 24 2021 at 23:02)</a>:</h4>
<p>My expectations would be if the expansion is there that should be used, otherwise send to terminology server.<br>
And control dependant usage of filter parameter too.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
