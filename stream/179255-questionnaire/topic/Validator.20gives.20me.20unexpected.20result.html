---
layout: page
title: "FHIR Chat  · Validator gives me unexpected result · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Validator.20gives.20me.20unexpected.20result.html">Validator gives me unexpected result</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="234709657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Validator%20gives%20me%20unexpected%20result/near/234709657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tilo Christ <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Validator.20gives.20me.20unexpected.20result.html#234709657">(Apr 15 2021 at 16:32)</a>:</h4>
<p>I am running the outputs from my questionnaire filler through the Validator to make them 100% correct. I am feeding QuestionnaireResponses according to the SDC profile through the validator. The questionnaire is the COVID-19 surveillance questionnaire from WHO and one output item is: <code>{
                    "linkId": "patinfo_ageonset",
                    "text": "Age (use days if under 1 month, months if under 1 year):",
                    "answer": [
                        {
                            "valueQuantity": {
                                "value": 45.0,
                                "unit": "mo",
                                "system": "http://unitsofmeasure.org",
                                "code": "mo"
                            }
                        }
                    ]
                }</code></p>
<p>This to me looks like a perfectly valid quantity as a response to a question which asked for a quantity. However, the validator is telling me: <br>
<code>Error @ QuestionnaireResponse.item[3].item[0].answer[0].value.ofType(Quantity).value (line 82, col47) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Coding</code></p>
<p>What makes the validator think that this is a Coding? I am invoking it as follows:<br>
<code>java -jar validator_cli.jar -version 4.0.1 -ig http://hl7.org/fhir/uv/sdc/2019May/ -profile http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaireresponse resources/who_response.json</code></p>
<p>BTW: Are questions around strange validator outputs best asked in the stream that addresses the corresponding profile (SDC), or is this an implementer topic?</p>



<a name="234736371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Validator%20gives%20me%20unexpected%20result/near/234736371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Validator.20gives.20me.20unexpected.20result.html#234736371">(Apr 15 2021 at 19:19)</a>:</h4>
<p>That absolutely seems like a but in the validator to me.  I can't see anything wrong in the fragment looking at it and I agree that it's not a coding - though it does have a binding, so it's possible it's getting confused about that somehow.  Bet bet is to submit a Git issue against the validator.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
