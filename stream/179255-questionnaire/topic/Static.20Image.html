---
layout: page
title: "FHIR Chat  · Static Image · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html">Static Image</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="229149150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/229149150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RP <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#229149150">(Mar 07 2021 at 02:40)</a>:</h4>
<p>Curious what is the approach for displaying static images inside of a Questionnaire? I'm thinking could use an attachment item type set an initial value to the image and set the items value to be read-only? Is this the right approach (I didn't see an item-control for images).</p>



<a name="229152917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/229152917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#229152917">(Mar 07 2021 at 03:47)</a>:</h4>
<p>The approach recommended by SDC is to use the HTML extension for the item.text or option value.  That allows you to have images in group labels, display text, questions and/or answers.</p>



<a name="229152921"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/229152921" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#229152921">(Mar 07 2021 at 03:47)</a>:</h4>
<p>(And it allows you to mix text and images as needed)</p>



<a name="229152971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/229152971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#229152971">(Mar 07 2021 at 03:48)</a>:</h4>
<p>You can also provide appropriate content for the sight-impaired, flyovers or whatever else is needed</p>



<a name="229631438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/229631438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kashyap Jois <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#229631438">(Mar 10 2021 at 10:05)</a>:</h4>
<p>If you are working in a mobile based environment and not web based you can use the extensions defined in the <a href="http://build.fhir.org/ig/HL7/cqf-recommendations/StructureDefinition-cpg-shareablequestionnaire.html">CPGShareableQuestionnaire</a> i.e. itemImage and responseImage</p>



<a name="230947475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/230947475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RP <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#230947475">(Mar 18 2021 at 22:30)</a>:</h4>
<p>Got it thanks <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="233403756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233403756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233403756">(Apr 06 2021 at 22:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> should we note that CPG extension in SDC somewhere?</p>



<a name="233414944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233414944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233414944">(Apr 07 2021 at 01:04)</a>:</h4>
<p>Not sure - that gives us two ways to do the same thing, which I'm somewhat leery of...</p>



<a name="233427707"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233427707" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233427707">(Apr 07 2021 at 03:56)</a>:</h4>
<p>The HTML way is more challenging for non Web renderings, and I suspect the CPG extension covers something more explicit too - I'll take another look at it to see if I'd use it, <span class="user-mention" data-user-id="195344">@Paul Lynch</span> can you take a look too?</p>



<a name="233479155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233479155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233479155">(Apr 07 2021 at 12:38)</a>:</h4>
<p>I think the cpq-itemimage and <a href="http://build.fhir.org/ig/HL7/cqf-recommendations/StructureDefinition-cpg-responseImage.html">cpg-responseImage</a> would be easier to implement than rendering-xhtml, which is only supposed to support of limited set of tags due to security concerns (which are probably difficult to fully address).  Also, rendering-xhtml seems like an obscure way to add an image.  (The rendering-xhtml page does not even mention images.)</p>



<a name="233502102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233502102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233502102">(Apr 07 2021 at 14:54)</a>:</h4>
<p>Then I guess we need a change request...</p>



<a name="233523320"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233523320" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tilo Christ <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233523320">(Apr 07 2021 at 16:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179255-questionnaire/topic/Static.20Image/near/233502102">said</a>:</p>
<blockquote>
<p>Then I guess we need a change request...</p>
</blockquote>
<p><span class="user-mention" data-user-id="195344">@Paul Lynch</span> </p>
<blockquote>
<p>rendering-xhtml seems like an obscure way to add an image. (The rendering-xhtml page does not even mention images.)</p>
</blockquote>
<p>The SDC example is using xhtml to render images into answer options: <a href="http://build.fhir.org/ig/HL7/sdc/examples.html#using-answeroption-and-rendering-xhtml">http://build.fhir.org/ig/HL7/sdc/examples.html#using-answeroption-and-rendering-xhtml</a> , does that count as specification by example?</p>
<p>I operate in a non-html, mobile environment and I implemented the render-xhtml with images in 11 lines of code, but if needs be I can write another 11 lines of code for the CPG way.</p>
<p>Can the Attachment datatype as used by the CPG images be placed inside the <code>contained</code> section of the Questionnaire? I operate in poorly networked areas and need the questionnaires to be fully self-contained, similar to what the SDC example is doing.</p>
<p>On the topic of images, is there guidance which mime-types need to be supported as a minimum? PNG? JPG? GIF?? SVG?? # of colours? alpha channel?  Should there be specified limits on the size of the images? I threw the questionnaire which I had designed for the Hot Beverage IG at #social on April 1st at the SDC implementations which were listed on Confluence, and they were all either unable to support the display of images or crashed. Maybe some boundaries might help? BTW: Feel free to add this Questionnaire to the examples collection as a stress test:<br>
<a href="https://github.com/tiloc/faiadashu/blob/main/example/assets/instruments/beverage_ig.json">https://github.com/tiloc/faiadashu/blob/main/example/assets/instruments/beverage_ig.json</a></p>
<p>Ceterum censeo: I wish I could attach a responseImage to a slider and use that as a VAS scale :-)</p>



<a name="233671652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233671652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233671652">(Apr 08 2021 at 15:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179255-questionnaire/topic/Static.20Image/near/233502102">said</a>:</p>
<blockquote>
<p>Then I guess we need a change request...</p>
</blockquote>
<p>The one issue I am having with those two extensions (cpg-itemImage and cpg-responseImage) is that I don't see "context of use" documented,  and although I was assuming cpq-responseImage would go on answerOption, now that I look at it again I am not sure that is its intended use.</p>



<a name="233693576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233693576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tilo Christ <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233693576">(Apr 08 2021 at 17:23)</a>:</h4>
<p>But wouldn't this example do just that? <a href="http://build.fhir.org/ig/HL7/cqf-recommendations/Questionnaire-anc-quick-check.json.html">http://build.fhir.org/ig/HL7/cqf-recommendations/Questionnaire-anc-quick-check.json.html</a></p>



<a name="233695266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233695266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233695266">(Apr 08 2021 at 17:32)</a>:</h4>
<p>The contexts are Questionnaire.item and Questionnaire.item.answerOption respectively</p>



<a name="233695580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233695580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233695580">(Apr 08 2021 at 17:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  Is that guess a based on examples,  or are you looking at something that says that?</p>



<a name="233695712"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233695712" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233695712">(Apr 08 2021 at 17:35)</a>:</h4>
<p>What's <em>not</em> clear is what's meant by 'accompany'?  Can the text be omitted?  Is the text a flyover for the image?  Do you have to see both?  Also, there's no support for capturing the image in the QuestionnaireResponse.</p>



<a name="233695803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233695803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233695803">(Apr 08 2021 at 17:35)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> - do you think these extensions should move into SDC?</p>



<a name="233696215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233696215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233696215">(Apr 08 2021 at 17:38)</a>:</h4>
<p>I assume accompany means "in addition to" the text.  I wondered for a bit about placement (to right, left, or below the text) but then I decided if that kind of placement control was important, the Questionnaire designer could use rendering-xhtml.</p>



<a name="233697697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233697697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233697697">(Apr 08 2021 at 17:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> , yes, I've submitted a tracker to that effect here: <a href="https://jira.hl7.org/browse/FHIR-31513">https://jira.hl7.org/browse/FHIR-31513</a></p>



<a name="233700694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233700694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233700694">(Apr 08 2021 at 18:01)</a>:</h4>
<p>That's not quite the same as saying "move them"</p>



<a name="233704530"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233704530" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tilo Christ <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233704530">(Apr 08 2021 at 18:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="195344">Paul Lynch</span> <a href="#narrow/stream/179255-questionnaire/topic/Static.20Image/near/233696215">said</a>:</p>
<blockquote>
<p>I assume accompany means "in addition to" the text.  I wondered for a bit about placement (to right, left, or below the text) but then I decided if that kind of placement control was important, the Questionnaire designer could use rendering-xhtml.</p>
</blockquote>
<p>I would very much agree with that. With a mobile questionnaire filler you need rather the semantics of the extensions, rather than a precise layout definition. With Android or iOS you might have to serve all different kinds of screen sizes from a phone in portrait or landscape mode up to a large iPad Pro, and any prescription that something needs to go left, right, or above something else is something you can either ignore, or scale down until it becomes unreadable, or do a lot of wrapping... the same goes for the colours in XHMTL or render-style. The SDC examples that try to be fancy with colours become unreadable on a phone in dark mode (dark blue on dark grey, for instance). Other trouble makers on mobile are the table extensions in group items and the horizontal layout in choice item.</p>



<a name="233704531"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233704531" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233704531">(Apr 08 2021 at 18:25)</a>:</h4>
<p>Would it be better to just refer to them from SDC?  Moving things (changing URLs) can be disruptive.</p>



<a name="233710714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233710714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233710714">(Apr 08 2021 at 19:04)</a>:</h4>
<p>I'd be happy to update the CPG to use the SDC extensions if they were available.</p>



<a name="233726053"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Static%20Image/near/233726053" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Static.20Image.html#233726053">(Apr 08 2021 at 20:52)</a>:</h4>
<p>The challenge is that SDC can't use the CPG extensions unless it has a dependency on the CPG IG - and I think the logical direction for dependency would be CPG depending on SDC.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
