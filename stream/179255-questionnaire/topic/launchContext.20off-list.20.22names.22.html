---
layout: page
title: "FHIR Chat  · launchContext off-list &quot;names&quot; · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html">launchContext off-list &quot;names&quot;</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="239294307"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239294307" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239294307">(May 18 2021 at 17:34)</a>:</h4>
<p>Per <a href="http://jira.hl7.org/browse/FHIR-29664">FHIR-29664</a>, the name field is now bound extensibly to patient, encounter, location, or user, and type field can be any FHIR type.  Could we specify that if the name field is some off-list name, that what is being requested is an instance of the resource indicated by "type" that is currently in the application's context?  This would allow us to handle Diane's case of needing to pass in a QuestionnaireResponse from a different questionnaire for prepopulation in the current Questionnaire.</p>



<a name="239294865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239294865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239294865">(May 18 2021 at 17:38)</a>:</h4>
<p>For example, launchContext with "name" = "qrForFirstQ", type = "QuestionnaireResponse", would define a variable qrForFirstQ, which would have the context QuestionnaireReponse (if there was one, as there is in Diane's case).</p>



<a name="239309012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239309012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239309012">(May 18 2021 at 19:08)</a>:</h4>
<p>I like that apporach, for our usecase we have a document (FHIR Bundle) as the context for prepopulation, what do you think <span class="user-mention" data-user-id="410858">@Alexander Kreutz</span> ? If this would be a possible solution, how we would specify the defined launchContext name, resource|reference pairs it in the $populate operation (raised also here <a href="#narrow/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context">https://chat.fhir.org/#narrow/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context</a> ) ?</p>



<a name="239320920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239320920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239320920">(May 18 2021 at 20:31)</a>:</h4>
<p>That makes the presumption that there can only be one instance of a given type in an application's context.  I don't think that's true.</p>



<a name="239321024"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239321024" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239321024">(May 18 2021 at 20:32)</a>:</h4>
<p>E.g. there could be multiple Practitioner instances in context (data entry person, author, supervisor, etc.)</p>



<a name="239329086"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239329086" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ilya Beda <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239329086">(May 18 2021 at 21:30)</a>:</h4>
<p>I found Paul's solution reasonable. I have already been using launchContext in this way.<br>
There is no issue with having multiple elements with the same type and different names.<br>
 launchContext with "name" = "author", type = "Practitioner", and "name" = "supervisor", type = "Practitioner".</p>



<a name="239336082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239336082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239336082">(May 18 2021 at 22:32)</a>:</h4>
<p>That means you must understand the meaning of the name in order to populate the context.  If we make it extensible, 'name' will need to change to Coding so there can be a system which establishes context for the code.</p>



<a name="239377541"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239377541" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ilya Beda <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239377541">(May 19 2021 at 07:17)</a>:</h4>
<p>The name should be a free text, exactly as it defined at <a href="https://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-questionnaire-launchContext.html">https://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-questionnaire-launchContext.html</a></p>
<p>The meaning is defined by the type. I see an issue with making it extensible.<br>
It makes sense to keep binding for the type required and restrict it by a set of all FHIR resource names and FHIR data types. </p>
<p>I updated my task accordingly <a href="https://jira.hl7.org/browse/FHIR-32644">https://jira.hl7.org/browse/FHIR-32644</a></p>



<a name="239397087"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239397087" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239397087">(May 19 2021 at 10:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22/near/239321024">said</a>:</p>
<blockquote>
<p>E.g. there could be multiple Practitioner instances in context (data entry person, author, supervisor, etc.)</p>
</blockquote>
<p><span class="user-mention" data-user-id="195980">@Peter Muir</span>  raised the issue this morning that one might want to pull in the physician (I think he meant), and that the person filling in the form might be someone else in the office (e.g. an MA).</p>



<a name="239397520"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239397520" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239397520">(May 19 2021 at 10:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22/near/239336082">said</a>:</p>
<blockquote>
<p>If we make it extensible, 'name' will need to change to Coding so there can be a system which establishes context for the code.</p>
</blockquote>
<p>I don't object to it becoming a Coding (though I am not sure if that helps) but we did already make it extensible in <a href="http://jira.hl7.org/browse/FHIR-29664">FHIR-29664</a>.</p>



<a name="239399109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239399109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239399109">(May 19 2021 at 10:23)</a>:</h4>
<p>I think the reason the "name" field was so limited was that we were following the SMART App <a href="http://hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html">launch</a> scopes, which are extensibly limited to user, launch/patient, and launch/encounter.   However, an application (SMART or not) might have the user working on more than one thing, and be able to provide more types of context resources.</p>



<a name="239401564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239401564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ilya Beda <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239401564">(May 19 2021 at 10:46)</a>:</h4>
<p>SDC may be used outside of SMART App. So, I think that idea to limit launchContex.type by SMART App launch scopes was wrong.</p>



<a name="239413481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239413481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239413481">(May 19 2021 at 12:24)</a>:</h4>
<p>After talking with Ilya, it seems like a good approach would be to have launchContext define (using name and type) context variables that the application can either know about or prompt the user to select.   launchContext also includes a "description", so in cases where the application had to ask the user to find it, the description could guide them about what they were providing.  For example, if there were two launchContexts:</p>
<div class="codehilite"><pre><span></span><code>launchContext extensions: [{
   name: prac1
   type: Practitioner
   description:  The practitioner entering the data.
},
{
  name: prac2
  type: Practitioner
  description:  The patient&#39;s physician
}]
</code></pre></div>
<p>then the application (if unfamiliar with the Questionnaire) could provide separate prompts for the user to select each practitioner from a list.</p>
<p>It would still be beneficial to keep the standard names we have defined, so the application would not always have to ask the user for the information even if showing an unknown Questionnaire.</p>



<a name="239416955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239416955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239416955">(May 19 2021 at 12:47)</a>:</h4>
<p>I don't think (not in my mind anyway) that the intent was to limit to SMART app launch, but as to how it would support/leverage smart all launch</p>



<a name="239454368"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239454368" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239454368">(May 19 2021 at 16:21)</a>:</h4>
<p>The meaning can't be defined by the type - because as pointed out, there can be different meanings associated with the type.  We can allow it to be extensible, but if we do that, then the 'name' needs to be globally unique to avoid collisions, and that essentially means Coding.</p>



<a name="239587233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239587233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239587233">(May 20 2021 at 13:05)</a>:</h4>
<p>I don't think we are trying to define new, globally unique names.  The new names only have meaning in the context of a particular Questionnaire, just like Questionnaire variable names.</p>



<a name="239587567"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/239587567" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#239587567">(May 20 2021 at 13:07)</a>:</h4>
<p>Either the application would know the Questionnaire's launchContext names and therefore know what resources should be passed in, or it would ask the user to pick appropriate resources before rendering the Questionnaire.</p>



<a name="271495273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/271495273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#271495273">(Feb 10 2022 at 21:14)</a>:</h4>
<p>Is the LHC Forms able to support a QuestionnaireResponse  as a launchContext now?  <span class="user-mention" data-user-id="195344">@Paul Lynch</span> </p>
<p>If yes, how do we set the launch context?</p>
<p>I see in the documentation: <br>
LForms.Util.setFHIRContext(fhirContext);</p>
<p>Is this where we give the url/path to the resource and the resource ID?    In our case,  <a href="https://ourfhirserver.com/fhir/QuestionnaireResponse/6789">https://ourfhirserver.com/fhir/QuestionnaireResponse/6789</a></p>



<a name="271502364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/271502364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#271502364">(Feb 10 2022 at 22:08)</a>:</h4>
<p>No, and I don't see an option for that in <a href="https://build.fhir.org/ig/HL7/sdc/ValueSet-launchContext.html">https://build.fhir.org/ig/HL7/sdc/ValueSet-launchContext.html</a>.  Is there a tracker item about that idea?</p>



<a name="271517151"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/271517151" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#271517151">(Feb 11 2022 at 00:56)</a>:</h4>
<p>Which idea?</p>



<a name="271524891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20off-list%20%22names%22/near/271524891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20off-list.20.22names.22.html#271524891">(Feb 11 2022 at 02:56)</a>:</h4>
<p>It looks like Ilya's issue was solved with <a href="https://jira.hl7.org/browse/FHIR-32644">https://jira.hl7.org/browse/FHIR-32644</a>.</p>
<p>I think the launchContext extension is a more FHIR-ish way to represent the QuestionnaireResponse being passed into the Questionnaire.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
