---
layout: page
title: "FHIR Chat  · enableWhen for repeated groups? · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20for.20repeated.20groups.3F.html">enableWhen for repeated groups?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="178710109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20for%20repeated%20groups%3F/near/178710109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Spencer Evans <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20for.20repeated.20groups.3F.html#178710109">(Oct 21 2019 at 23:46)</a>:</h4>
<p>What should the behavior be for determining "shouldEnable" when either/one of/both the "enableWhen item" and the "conditioned upon question" are within repeatable groups? </p>
<p>Quick terminology clarification:<br>
- I'm using "enableWhen item" to mean the item that has an enableWhen condition in it and "conditioned upon question" to be the item referenced via linkId by item.enableWhen.question.</p>
<p>As I see it there are four possible scenarios:</p>
<ol>
<li>the enableWhen item and the conditioned upon question are nested within the same repeatable group.</li>
<li>the enableWhen item is not within any repeatable group, but the conditioned upon question is.</li>
<li>the enableWhen item and the conditioned upon question are both in separate repeatable groups.</li>
<li>the enableWhen item is within a repeatable group but the conditioned upon question is not.</li>
</ol>
<p>what I might expect, but is not clear from the spec is:</p>
<ol>
<li>the enableWhen item should only be enabled when the <em>corresponding</em> conditioned upon question meets the given criteria. Determine the corresponding question via the index of the repeated item (seems like there could be a lot of complexity here). Potentially could also rely on the hierarchy to determine the correct condition upon question to derive behavior from.</li>
<li>potentially use whatever is specified by enableBehavior (though it seems like it wasn't exactly intended for this purpose) but since that need not necessarily be set just b/c repeat === true, implementors decide on a default?</li>
<li>try to use indices again, same as in situation 1</li>
<li>all enableWhen items toggle on/off when the conditioned upon question changes to meet/not meet the given criteria.</li>
</ol>
<p>I'd be curious if anyone else has run into this or have thoughts on a proper implementation?</p>



<a name="178719460"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20for%20repeated%20groups%3F/near/178719460" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20for.20repeated.20groups.3F.html#178719460">(Oct 22 2019 at 03:21)</a>:</h4>
<p>We probably need to provide guidance on that.  In general, if the referenced enableWhen conditions repeat for a single question, my leaning would be that the answers are "or"ed across the repetitions.  (And if that's not what you want, use the enableWhenExpression extension to define different behavior)</p>



<a name="178766015"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20for%20repeated%20groups%3F/near/178766015" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20for.20repeated.20groups.3F.html#178766015">(Oct 22 2019 at 15:20)</a>:</h4>
<p>The description for enableWhen says,</p>
<div class="codehilite"><pre><span></span>If multiple question occurrences are present for the same question (same linkId), then this refers to the nearest question occurrence reachable by tracing first the &quot;ancestor&quot; axis and then the &quot;preceding&quot; axis and then the &quot;following&quot; axis.
</pre></div>


<p>That seems to imply that just one question with the specified linkId is considered.</p>



<a name="178766359"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20for%20repeated%20groups%3F/near/178766359" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20for.20repeated.20groups.3F.html#178766359">(Oct 22 2019 at 15:23)</a>:</h4>
<p>True.  Though if pointing to something in a repeating group, that behaviour would be rather odd...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
