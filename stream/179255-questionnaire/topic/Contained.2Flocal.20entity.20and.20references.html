---
layout: page
title: "FHIR Chat  · Contained/local entity and references · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Contained.2Flocal.20entity.20and.20references.html">Contained/local entity and references</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="168145317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Contained/local%20entity%20and%20references/near/168145317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xiaocheng Luan <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Contained.2Flocal.20entity.20and.20references.html#168145317">(Jun 14 2019 at 15:32)</a>:</h4>
<p>In Questionnaire (and perhaps for FHIR in general), for example, the same extension or Coding may be repeatedly used within the same resource and these things are quite verbose and can significantly inflate (easily double) the size of the data, making it cluttered and hard to read. I'm wondering whether it's possible to introduce (if not already exists) something like contained entities, where you define an "entity" or element, like a coding (with system, code, display, etc.) that can be referenced within the resource where the specific element/entity is used? Of course the resource def would need to be updated to allow such local references. Because the entities are defined within the resource, it should be pretty simple to manage/process, and should not impact readability if not making it easier to read.  <span class="user-mention" data-user-id="195344">@Paul Lynch</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="168153975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Contained/local%20entity%20and%20references/near/168153975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Contained.2Flocal.20entity.20and.20references.html#168153975">(Jun 14 2019 at 17:14)</a>:</h4>
<p>That would reduce size but significantly increase complexity.  And in the end, what you'd really be doing is a less effective version of what compression algorithms already do really well.  The unit of re-use in FHIR is the resource.  In a few places there are abilities to reference re-useable chunks inside a resource - but those are part of the design of that specific resource and are explicitly called out.  There's no ability to "point" to a Coding already elsewhere in an instance and avoid repeating the system, code and display.</p>



<a name="168316313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Contained/local%20entity%20and%20references/near/168316313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xiaocheng Luan <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Contained.2Flocal.20entity.20and.20references.html#168316313">(Jun 17 2019 at 14:44)</a>:</h4>
<p>Thanks for the response, I can see the point of simplicity and trade off, especially the unit of reuse argument, although repeating a structured data element value over and over again doesn't look very elegant.</p>



<a name="168358949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Contained/local%20entity%20and%20references/near/168358949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Contained.2Flocal.20entity.20and.20references.html#168358949">(Jun 18 2019 at 00:15)</a>:</h4>
<p>My experience with Fhir questionnaires doesnt feel like that's likely to occur.<br>
If you're referring to repeating the same set of options for multiple questions, then you create a valueset with those concepts and share that. Which is then able to utilise http caches too during execution, even further reducing overall bandwidth used.</p>



<a name="168364153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Contained/local%20entity%20and%20references/near/168364153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Contained.2Flocal.20entity.20and.20references.html#168364153">(Jun 18 2019 at 02:30)</a>:</h4>
<p>If you've got 100 questions which are coded as "Strongly Agree", "Agree", ... then you will end up repeating the codings in the instance a whole lot.  But in the grand scheme of things, that's not a typical occurrence.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
