---
layout: page
title: "FHIR Chat  · Need advice on how to add Observation.code in questionnaire · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Need.20advice.20on.20how.20to.20add.20Observation.2Ecode.20in.20questionnaire.html">Need advice on how to add Observation.code in questionnaire</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="248335520"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Need%20advice%20on%20how%20to%20add%20Observation.code%20in%20questionnaire/near/248335520" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> santosh pingle <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Need.20advice.20on.20how.20to.20add.20Observation.2Ecode.20in.20questionnaire.html#248335520">(Aug 04 2021 at 11:02)</a>:</h4>
<p>Hi All,</p>
<p>Using a Definition based extraction approach to extract the data from the questionnaire response.<br>
Along with extracted data from the response it is also required to update the Observation.code. <br>
But Observation.code (Observation.code.coding.code, Observation.code.coding.system, Observation.code.coding.display) will not be entered by the user as an answer. It has predefined values.<br>
                   {<br>
              "code": "8310-5",<br>
              "display": "Temperature",<br>
              "system": "<a href="http://loinc.org">http://loinc.org</a>"<br>
            }</p>
<p>So, I am thinking of adding Observation.code value in Questionnaire items with their initial value and marking them as hidden, and then extracting them from questionnaire response.</p>
<p>So, to achieve this I am trying to add above mentioned code in questionnaire as like below.</p>
<p>"item": [<br>
            {<br>
              "definition": "<a href="http://hl7.org/fhir/StructureDefinition/Observation#Observation.code.coding">http://hl7.org/fhir/StructureDefinition/Observation#Observation.code.coding</a>",<br>
              "type": "group",<br>
              "linkId": "5.3.1",<br>
              "extension": [<br>
                {<br>
                  "url": "<a href="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext">http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext</a>",<br>
                  "valueExpression": {<br>
                    "language": "application/x-fhir-query",<br>
                    "expression": "Coding",<br>
                    "name": "coding"<br>
                  }<br>
                }<br>
              ],<br>
              "item": [<br>
                {<br>
                  "definition": "<a href="http://hl7.org/fhir/StructureDefinition/Observation#Observation.code.coding.code">http://hl7.org/fhir/StructureDefinition/Observation#Observation.code.coding.code</a>",<br>
                  "type": "string",<br>
                  "linkId": "5.3.1.1",<br>
                  "initial": [<br>
                    {<br>
                      "valueString": "8310-5"<br>
                    }<br>
                  ]<br>
                },<br>
                {<br>
                  "definition": "<a href="http://hl7.org/fhir/StructureDefinition/Observation#Observation.code.coding.system">http://hl7.org/fhir/StructureDefinition/Observation#Observation.code.coding.system</a>",<br>
                  "type": "string",<br>
                  "linkId": "5.3.1.2",<br>
                  "initial": [<br>
                    {<br>
                      "valueString": "<a href="http://loinc.org">http://loinc.org</a>"<br>
                    }<br>
                  ]<br>
                },<br>
                {<br>
                  "definition": "<a href="http://hl7.org/fhir/StructureDefinition/Observation#Observation.code.coding.display">http://hl7.org/fhir/StructureDefinition/Observation#Observation.code.coding.display</a>",<br>
                  "type": "string",<br>
                  "linkId": "5.3.1.3",<br>
                  "initial": [<br>
                    {<br>
                      "valueString": "Temperature"<br>
                    }<br>
                  ]<br>
                }<br>
              ]</p>
<p>I get extracted code  for the Observation.code with this change.<br>
But my query is,  is this correct way to do this? </p>
<p>Thanks,<br>
Santosh</p>



<a name="248350848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Need%20advice%20on%20how%20to%20add%20Observation.code%20in%20questionnaire/near/248350848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fred Hersch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Need.20advice.20on.20how.20to.20add.20Observation.2Ecode.20in.20questionnaire.html#248350848">(Aug 04 2021 at 13:38)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="426666">@santosh pingle</span> : duplicate question here - <a href="#narrow/stream/179255-questionnaire/topic/Definition-based.20extraction">https://chat.fhir.org/#narrow/stream/179255-questionnaire/topic/Definition-based.20extraction</a></p>



<a name="248356548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Need%20advice%20on%20how%20to%20add%20Observation.code%20in%20questionnaire/near/248356548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Need.20advice.20on.20how.20to.20add.20Observation.2Ecode.20in.20questionnaire.html#248356548">(Aug 04 2021 at 14:22)</a>:</h4>
<p>You should just be able to have an initialValueCoding on the question and mark the question as hidden - no reason to worry about populating the code from expressions.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
