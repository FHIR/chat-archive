---
layout: page
title: "FHIR Chat  · que-11 workaround · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/que-11.20workaround.html">que-11 workaround</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="273424617"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/que-11%20workaround/near/273424617" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/que-11.20workaround.html#273424617">(Feb 27 2022 at 20:56)</a>:</h4>
<p>For our project's questionnaires, we have many, many questions where the initial value for Yes/No questions is preset to "No" in order to save time for the users using item.initial.value[x].   These work fine with the LHC Forms rendering. </p>
<p>But, our IG is producing this error message:</p>
<p>que-11: 'If one or more answerOption is present, initial[x] must be missing' </p>
<p>So, I changed out the item.initial.value[x]  in the questionnaires to option.initialSelected. </p>
<p>Now, I am finding out that LHC-Forms does not support option.initialSelected  per  <a href="https://github.com/lhncbc/lforms/blob/master/r4-support.md#not-yet-supported">https://github.com/lhncbc/lforms/blob/master/r4-support.md#not-yet-supported</a></p>
<p>The workaround is<br>
answerOption.initialSelected: For now you need to use item.initial.value[x] instead, despite the contraint that says, "answerOption.empty() or initial.empty()".</p>
<p>but that doesn't validate in the IG because of que-11.</p>
<p>At this point, I think the best solution for my project is:</p>
<ul>
<li>
<p>Leave item.initial.value[x]  for the questions in the questionnaires that need to default to "No"  on our website since they work fine</p>
</li>
<li>
<p>For the IG, replace initial[x] with option.initialSelected for the questions that need to default to "No" </p>
</li>
</ul>
<p>Any other suggestions?   </p>
<p>Is it permissible to set a default value of "No" via calculatedExpression since we can now treat calculatedExpression items as editable by the user?  I want the coding of "No",  not a string.</p>



<a name="273507668"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/que-11%20workaround/near/273507668" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/que-11.20workaround.html#273507668">(Feb 28 2022 at 15:39)</a>:</h4>
<p>I think the solution is for LHCForms to add support for "initialSelected".</p>



<a name="273513676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/que-11%20workaround/near/273513676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/que-11.20workaround.html#273513676">(Feb 28 2022 at 16:14)</a>:</h4>
<p>Thanks, Lloyd.   I am going to convert  the questionnaires in the IG to option.initialSelected.</p>
<p><span class="user-mention" data-user-id="195344">@Paul Lynch</span>    Heads up that if we have a next phase of our project, we will request support in LHC-Forms for option.initialSelected.</p>



<a name="273514083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/que-11%20workaround/near/273514083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/que-11.20workaround.html#273514083">(Feb 28 2022 at 16:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179255-questionnaire/topic/que-11.20workaround/near/273507668">said</a>:</p>
<blockquote>
<p>I think the solution is for LHCForms to add support for "initialSelected".</p>
</blockquote>
<p>I suppose, but why not allow initial.value[x] as long as it is present in the answerOptions?</p>



<a name="273514346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/que-11%20workaround/near/273514346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/que-11.20workaround.html#273514346">(Feb 28 2022 at 16:19)</a>:</h4>
<p>Because we didn't want two ways to say the same thing</p>



<a name="273541286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/que-11%20workaround/near/273541286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/que-11.20workaround.html#273541286">(Feb 28 2022 at 19:30)</a>:</h4>
<p>Then wouldn't that have been better to remove the option.initialSelected?</p>



<a name="273541587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/que-11%20workaround/near/273541587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/que-11.20workaround.html#273541587">(Feb 28 2022 at 19:32)</a>:</h4>
<p>The advantage of answerOption.initialSelected is that you can just mark an answer in the list; you don't have to repeat the Coding (or whatever type) in initialCoding.</p>



<a name="273541988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/que-11%20workaround/near/273541988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/que-11.20workaround.html#273541988">(Feb 28 2022 at 19:35)</a>:</h4>
<p>At the cost of having 2 ways to do defaults, and this invariant</p>



<a name="273542157"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/que-11%20workaround/near/273542157" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/que-11.20workaround.html#273542157">(Feb 28 2022 at 19:37)</a>:</h4>
<p>Without initialSelected you would still need an invariant to require that initial[x] be in answerOption.</p>



<a name="273548306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/que-11%20workaround/near/273548306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/que-11.20workaround.html#273548306">(Feb 28 2022 at 20:24)</a>:</h4>
<p>I prefer using initial[x] always (which is what your current implementation does if I'm not mistaken)<br>
Otherwise there are 2 ways to specify a coded initial value depending on if using answeroption, answer valueset or answerexpression</p>



<a name="273558357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/que-11%20workaround/near/273558357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/que-11.20workaround.html#273558357">(Feb 28 2022 at 21:42)</a>:</h4>
<p>Well, you could ask for us to revisit the original tracker on one of our calls</p>



<a name="273570991"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/que-11%20workaround/near/273570991" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/que-11.20workaround.html#273570991">(Feb 28 2022 at 23:45)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-22686">https://jira.hl7.org/browse/FHIR-22686</a>   is the original Jira item, which was reopened once before.   Didn't know that I was (re)opening a can of worms.  <span aria-label="fear" class="emoji emoji-1f628" role="img" title="fear">:fear:</span></p>
<p>I have updated our Questionnaire definitions to initial[x]  for our website  and  answerOption.initialSelected for our IG.   To me,   initial[x]   and  answerOption.initialSelected are both equally nice to use.    initial[x]   is more intuitive because it is similar in syntax to initial value for other item types.  But, answerOption.initialSelected is more concise.  </p>
<p>Maybe the que-11   invariant  should say that you can't use both initial[x]  and  answerOption.initialSelected   on the same item, but either one is acceptable.</p>



<a name="273571861"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/que-11%20workaround/near/273571861" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/que-11.20workaround.html#273571861">(Feb 28 2022 at 23:56)</a>:</h4>
<p>Two solutions to the same problem helps no-one.  We should land on one mechanism and mandate it.  (Which is what we had done.)  We can choose to switch the answer, but we definitely shouldn't allow both.</p>



<a name="273573656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/que-11%20workaround/near/273573656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/que-11.20workaround.html#273573656">(Mar 01 2022 at 00:15)</a>:</h4>
<p>I don't think changing the resolution will make a difference to form fillers that have implemented initial[x] support.  initialSelected is in R4 Questionnaire, so it needs to be supported.  (We haven't yet, but we should.)  If we revise the tracker item and remove initialSelected for R5, we will still need to support it for R4, and we'll need to continue to support initial[x] for R5.  So, from an implementation point of view, there are two ways of doing the same thing.  On the other hand, if we don't change the resolution and keep initialSelected, then support for that will still need to be added to LHC-Forms, but we are unlikely to remove support for initial[x] (on import -- we would not export it way).  However, for newly written form fillers, which only support initialSelected when answerOption is present, and not initial[x], there will be an advantage if the resolution stays as it is.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
