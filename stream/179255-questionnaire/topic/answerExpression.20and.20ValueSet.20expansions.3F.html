---
layout: page
title: "FHIR Chat  · answerExpression and ValueSet expansions? · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/answerExpression.20and.20ValueSet.20expansions.3F.html">answerExpression and ValueSet expansions?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="210527556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/answerExpression%20and%20ValueSet%20expansions%3F/near/210527556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/answerExpression.20and.20ValueSet.20expansions.3F.html#210527556">(Sep 18 2020 at 14:37)</a>:</h4>
<p><a href="http://jira.hl7.org/browse/FHIR-25960">J#25960</a> says that answerExpression "would evaluate to a collection of Coding, integer, string, or other valid answer types."  Can that include ValueSet.expansion.contains (which is almost the same as a Coding, but not quite)?  I know we have answerValueSet, but if one has an expansion sitting in Questionnaire.contained, one could also use answerExpression to pull it in, and possibly filter it with FHIRPath "where" statements.</p>



<a name="210527778"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/answerExpression%20and%20ValueSet%20expansions%3F/near/210527778" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/answerExpression.20and.20ValueSet.20expansions.3F.html#210527778">(Sep 18 2020 at 14:39)</a>:</h4>
<p>That certainly wouldn't be allowed right now.  You could submit a change request for us to consider allowing that</p>



<a name="210528557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/answerExpression%20and%20ValueSet%20expansions%3F/near/210528557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/answerExpression.20and.20ValueSet.20expansions.3F.html#210528557">(Sep 18 2020 at 14:44)</a>:</h4>
<p>Will do.  Are there any concerns about that?  I am writing code for answerExpression handling Coding, and as a test I am using a FHIRPath expression which actually give it the "contains" elements from a contained ValueSet expansion.  The field names match (system, code, display) so my processing code doesn't know those aren't really Codings.  I think it might be useful to make that support explicit rather than accidental, unless it causes a problem.</p>



<a name="210528797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/answerExpression%20and%20ValueSet%20expansions%3F/near/210528797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/answerExpression.20and.20ValueSet.20expansions.3F.html#210528797">(Sep 18 2020 at 14:45)</a>:</h4>
<p>It doesn't fill me with joy, but I'm not violently opposed.  Would like to have a group discussion</p>



<a name="210531307"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/answerExpression%20and%20ValueSet%20expansions%3F/near/210531307" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/answerExpression.20and.20ValueSet.20expansions.3F.html#210531307">(Sep 18 2020 at 15:00)</a>:</h4>
<p><a href="http://jira.hl7.org/browse/FHIR-28579">J#28579</a></p>



<a name="210595649"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/answerExpression%20and%20ValueSet%20expansions%3F/near/210595649" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/answerExpression.20and.20ValueSet.20expansions.3F.html#210595649">(Sep 19 2020 at 03:50)</a>:</h4>
<p>I'm curious what the c# engine would do with that.</p>



<a name="210595653"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/answerExpression%20and%20ValueSet%20expansions%3F/near/210595653" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/answerExpression.20and.20ValueSet.20expansions.3F.html#210595653">(Sep 19 2020 at 03:50)</a>:</h4>
<p>I think I'll add support for resolve and a custom expression to return that...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
