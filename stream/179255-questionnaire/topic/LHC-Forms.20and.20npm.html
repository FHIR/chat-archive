---
layout: page
title: "FHIR Chat  · LHC-Forms and npm · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/LHC-Forms.20and.20npm.html">LHC-Forms and npm</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="273705071"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/LHC-Forms%20and%20npm/near/273705071" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/LHC-Forms.20and.20npm.html#273705071">(Mar 01 2022 at 20:26)</a>:</h4>
<p>We are considering ceasing publication of LHC-Forms as a npm package, and just directing people either to download built versions from <a href="https://clinicaltables.nlm.nih.gov/lforms-versions">https://clinicaltables.nlm.nih.gov/lforms-versions</a> or to build it themselves.  The reason for this is that as of version 30, LHC-Forms is now a web-component, which is meant to encapsulate and isolate its resources from the surrounding page, so npm's idea of shared packages with the containing app does not apply anymore.  I think if we published to npm, what we would include there would be the same set of files downloadable from <a href="https://clinicaltables.nlm.nih.gov/lforms-versions">https://clinicaltables.nlm.nih.gov/lforms-versions</a>, i.e. the built files minimized and bundled together with the dependencies, which seems odd for npm.  I am also not sure an "import" of those files would work-- you might have to copy them out of node_modules and include them with script tags, just as if you has downloaded them.</p>
<p>So the question is, is any using the npm package for LHC-Forms for whom switching to downloading the package would be an issue?</p>



<a name="273790999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/LHC-Forms%20and%20npm/near/273790999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Winters <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/LHC-Forms.20and.20npm.html#273790999">(Mar 02 2022 at 11:19)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="195344">@Paul Lynch</span>, so happy you made the jump to web components!  I'd encourage you to keep publishing to npm, since I know many front-end apps are built using it to manage dependencies.  I can imagine wanting to pull in lhc-forms from npm and injecting into an app, which would be much easier to do if it was still on npm.  It looks like your <a href="https://github.com/lhncbc/lforms#using-the-lhc-forms-web-component">current distribution</a> includes all the dependencies and polyfills, but someone using your package on npm might want to bundle in their own.</p>



<a name="273791149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/LHC-Forms%20and%20npm/near/273791149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Winters <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/LHC-Forms.20and.20npm.html#273791149">(Mar 02 2022 at 11:20)</a>:</h4>
<p>So I agree it probably doesn't make sense for you to just push your dist folder to npm.  Ideally you would just publish the raw web components and specify the dependencies in your package.json file.  Then it would be up to users to polyfill if they're targeting an older browser.</p>



<a name="273791454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/LHC-Forms%20and%20npm/near/273791454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Winters <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/LHC-Forms.20and.20npm.html#273791454">(Mar 02 2022 at 11:23)</a>:</h4>
<p>Also super cool that you're using TypeScript :)</p>



<a name="273792603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/LHC-Forms%20and%20npm/near/273792603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Winters <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/LHC-Forms.20and.20npm.html#273792603">(Mar 02 2022 at 11:31)</a>:</h4>
<p>If you're interested in supporting npm, you could try following the approach that SurveyJS takes.  They have the core TS library which they then build for integration with different front-end frameworks (e.g., React, Angular, etc.).  It's these integrations they then publish on npm.  Here's an example <a href="https://github.com/surveyjs/survey-library/blob/master/build-scripts/survey-jquery/package.json">package.json</a> which you can see is just a group of minified files with a single point of entry that you can import into your project.  Their build process looks pretty complicated, but I think for your case it would be much simpler since you just have the WCs and I don't think are doing anything special for specific frameworks.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
