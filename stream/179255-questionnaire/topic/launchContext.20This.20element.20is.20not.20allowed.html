---
layout: page
title: "FHIR Chat  · launchContext This element is not allowed · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed.html">launchContext This element is not allowed</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="272245665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20This%20element%20is%20not%20allowed/near/272245665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed.html#272245665">(Feb 17 2022 at 11:26)</a>:</h4>
<p>Getting a validation error with the launchContext extension.  </p>
<p>Path:  Questionnaire.extension[0].extension[0].value.ofType(Coding)   Message:  This element is not allowed by the profile <a href="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext">http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext</a></p>
<p>I think this means that there is a problem with the  valueCoding  portion of the 1st extension (in the launchContext extension), which is the name extension.     Per the IG  at <a href="https://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-questionnaire-launchContext.html">https://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-questionnaire-launchContext.html</a>, it seems like valueCoding is supposed the correct datatype for this name extension (inside the launchContext extension).  </p>
<p>How do I fix this problem?</p>
<div class="codehilite"><pre><span></span><code>    &quot;extension&quot; : [
        {
            &quot;extension&quot; : [
                {
                    &quot;url&quot; : &quot;name&quot;,
                    &quot;valueCoding&quot; : {
                        &quot;system&quot; : &quot;http://hl7.org/fhir/us/sirb/CodeSystem/temporarycodes&quot;,
                        &quot;code&quot; : &quot;parent&quot;,
                        &quot;display&quot; : &quot;The parent QR for prepopulation&quot;
                    }
                },
                {
                    &quot;url&quot; : &quot;type&quot;,
                    &quot;valueCode&quot; : &quot; QuestionnaireResponse&quot;
                },
                {
                    &quot;url&quot; : &quot;description&quot;,
                    &quot;valueString&quot; : &quot;The parent questionnaire response that is to be used to pre-populate the form&quot;
                }
            ],
            &quot;url&quot; : &quot;http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext&quot;
        }

]
</code></pre></div>



<a name="272263782"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20This%20element%20is%20not%20allowed/near/272263782" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed.html#272263782">(Feb 17 2022 at 14:07)</a>:</h4>
<p>Launch context is only allowed at the root of the Questionnaire</p>



<a name="272276739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20This%20element%20is%20not%20allowed/near/272276739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed.html#272276739">(Feb 17 2022 at 15:35)</a>:</h4>
<p>The path looks to me like it is at the root.  Can you make a sample Questionnaire to show the problem?</p>



<a name="272288907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20This%20element%20is%20not%20allowed/near/272288907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed.html#272288907">(Feb 17 2022 at 16:59)</a>:</h4>
<p>Here is the sample Questionnaire:</p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot; : &quot;Questionnaire&quot;,
    &quot;id&quot; : &quot;sampleQ&quot;,
    &quot;extension&quot; : [
        {
            &quot;extension&quot; : [
                {
                    &quot;url&quot; : &quot;name&quot;,
                    &quot;valueCoding&quot; : {
                        &quot;system&quot; : &quot;http://hl7.org/fhir/us/sirb/CodeSystem/temporarycodes&quot;,
                        &quot;code&quot; : &quot;parent&quot;,
                        &quot;display&quot; : &quot;The parent QR for prepopulation&quot;
                    }
                },
                {
                    &quot;url&quot; : &quot;type&quot;,
                    &quot;valueCode&quot; : &quot;QuestionnaireResponse&quot;
                },
                {
                    &quot;url&quot; : &quot;description&quot;,
                    &quot;valueString&quot; : &quot;The parent questionnaire response that is to be used to pre-populate the form&quot;
                }
            ],
            &quot;url&quot; : &quot;http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext&quot;
        }
    ],
    &quot;url&quot; : &quot;http://www.example.com&quot;,
    &quot;name&quot; : &quot;AE_Questionnaire&quot;,
    &quot;status&quot; : &quot;draft&quot;,
    &quot;subjectType&quot; : [ &quot;ResearchStudy&quot; ],
    &quot;item&quot; : [
        {
            &quot;linkId&quot; : &quot;mae1&quot;,
            &quot;text&quot; : &quot;Research Study&quot;,
            &quot;type&quot; : &quot;group&quot;,
            &quot;required&quot; : false,
            &quot;item&quot; : [
                {
                    &quot;linkId&quot; : &quot;Q1&quot;,
                    &quot;text&quot; : &quot;Study Title&quot;,
                    &quot;type&quot; : &quot;string&quot;,
                    &quot;required&quot; : false
                }
            ]
        }
    ]
}
</code></pre></div>



<a name="272291048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20This%20element%20is%20not%20allowed/near/272291048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed.html#272291048">(Feb 17 2022 at 17:13)</a>:</h4>
<p>Hmm.  Be aware the LHC-Forms still expects "name" have "valueId", though I see at <a href="https://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-questionnaire-launchContext.html">https://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-questionnaire-launchContext.html</a> it has changed to valueCoding.  I will try to get an update out to handle that change.  However, that is not to your point.  It looks to me like your sample Questionnaire should validate.  <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> ?</p>



<a name="272313680"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20This%20element%20is%20not%20allowed/near/272313680" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed.html#272313680">(Feb 17 2022 at 19:54)</a>:</h4>
<p>What release of SDC are you validating against Diane?</p>



<a name="272327111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20This%20element%20is%20not%20allowed/near/272327111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed.html#272327111">(Feb 17 2022 at 21:38)</a>:</h4>
<p>I am using Trifolia.  In the Raw tab, there is an IG file  that has this json:</p>
<div class="codehilite"><pre><span></span><code> &quot;packageId&quot;: &quot;hl7.fhir.us.sirb&quot;,
  &quot;dependsOn&quot;: [
    {
      &quot;id&quot;: &quot;sdc&quot;,
      &quot;uri&quot;: &quot;http://hl7.org/fhir/uv/sdc/ImplementationGuide/sdc&quot;,
      &quot;packageId&quot;: &quot;hl7.fhir.uv.sdc&quot;,
      &quot;version&quot;: &quot;2.7.0&quot;
    }
  ],
</code></pre></div>
<p>I can't find anywhere in Trifolia where I input this dependency.  Is 2.7.0 correct?</p>



<a name="272327576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20This%20element%20is%20not%20allowed/near/272327576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed.html#272327576">(Feb 17 2022 at 21:41)</a>:</h4>
<p><a href="http://hl7.org/fhir/uv/sdc/history.html">http://hl7.org/fhir/uv/sdc/history.html</a> says 2.7.0 is from 2019.</p>



<a name="272328705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20This%20element%20is%20not%20allowed/near/272328705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed.html#272328705">(Feb 17 2022 at 21:46)</a>:</h4>
<p>When I look at the balloted version of our IG at <a href="http://hl7.org/fhir/us/sirb/2021Sep/qa.html">http://hl7.org/fhir/us/sirb/2021Sep/qa.html</a>,  it is also using 2.7.0 for the dependency.</p>



<a name="272329570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20This%20element%20is%20not%20allowed/near/272329570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed.html#272329570">(Feb 17 2022 at 21:53)</a>:</h4>
<p>It looks like 2.7.0 was the latest actual "version" until yesterday, when 3.0.0-preview was created.  I don't know what to advise regarding your balloted IG.  <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> ?</p>



<a name="272330350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20This%20element%20is%20not%20allowed/near/272330350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed.html#272330350">(Feb 17 2022 at 22:00)</a>:</h4>
<p>Well, we are balloted but not published yet.  And I am trying to work through the QA issues and add our questionnaires that have the new launchContext extension.   I will wait to see what Lloyd says.</p>



<a name="272340115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20This%20element%20is%20not%20allowed/near/272340115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed.html#272340115">(Feb 17 2022 at 23:38)</a>:</h4>
<p>3.0.0-preview is what you should point to if you're going to ballot in May</p>



<a name="272340147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20This%20element%20is%20not%20allowed/near/272340147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed.html#272340147">(Feb 17 2022 at 23:39)</a>:</h4>
<p>When you publish, you'll point to "3.0.0" - which should be out in a couple of weeks</p>



<a name="272340547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/launchContext%20This%20element%20is%20not%20allowed/near/272340547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed.html#272340547">(Feb 17 2022 at 23:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="195344">Paul Lynch</span> <a href="#narrow/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed/near/272291048">said</a>:</p>
<blockquote>
<p>Be aware the LHC-Forms still expects "name" have "valueId", though I see at <a href="https://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-questionnaire-launchContext.html">https://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-questionnaire-launchContext.html</a> it has changed to valueCoding. </p>
</blockquote>
<p>Fixed in LHC-Forms 30.0.0-beta.7.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
