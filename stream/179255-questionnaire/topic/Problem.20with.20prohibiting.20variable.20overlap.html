---
layout: page
title: "FHIR Chat  · Problem with prohibiting variable overlap · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Problem.20with.20prohibiting.20variable.20overlap.html">Problem with prohibiting variable overlap</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="260595995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Problem%20with%20prohibiting%20variable%20overlap/near/260595995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Problem.20with.20prohibiting.20variable.20overlap.html#260595995">(Nov 07 2021 at 21:17)</a>:</h4>
<p>Based on one of the tracker items, we've now added the following language to the <a href="http://build.fhir.org/ig/HL7/sdc/expressions.html#use-of-the-expression-type">Using Expressions</a> page:<br>
<code>Collisions between names that are defined more than once within the same scope will be treated as an error. I.e. If there is a launchContext extension called 'patient' and then on the same item or any item nested beneath it there's also a variable extension also named 'patient', that would be an error.</code><br>
However, when we were talking about modular questionnaires and using the linkIdPrefix mechanism in <a href="https://confluence.hl7.org/display/FHIRI/Prefix-based+Modularized+Questionnaires">this document</a>, we explicitly contemplated having a variable on a child with the same name as that on the parent (look at how 'E' and 'F' result in a linkIdPrefix of 'foobar'.</p>
<p>For now, my plan is to carve out a narrow exception that says that variables can be overridden on child elements, but can't have conflicting declarations on siblings.  Shout if anyone thinks that's unreasonable.</p>



<a name="260598457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Problem%20with%20prohibiting%20variable%20overlap/near/260598457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Problem.20with.20prohibiting.20variable.20overlap.html#260598457">(Nov 07 2021 at 22:12)</a>:</h4>
<p>I don't think I'd support that in my implementation. Sibblings isn't the problem, as they aren't in each other's scope. parent child is the problem.</p>



<a name="260742230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Problem%20with%20prohibiting%20variable%20overlap/near/260742230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Problem.20with.20prohibiting.20variable.20overlap.html#260742230">(Nov 09 2021 at 01:11)</a>:</h4>
<p>Siblings on the same element would be a problem.  How can the prefix approach work if we *don't * allow this?</p>



<a name="260745316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Problem%20with%20prohibiting%20variable%20overlap/near/260745316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Problem.20with.20prohibiting.20variable.20overlap.html#260745316">(Nov 09 2021 at 01:58)</a>:</h4>
<p>Siblings don't see each other. There for not a problem.</p>



<a name="260806533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Problem%20with%20prohibiting%20variable%20overlap/near/260806533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Problem.20with.20prohibiting.20variable.20overlap.html#260806533">(Nov 09 2021 at 14:40)</a>:</h4>
<p>I don't see the need for the restriction at all.  LHC-Forms allows child nodes to declare variables that override the definition in the parent node.</p>



<a name="260832631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Problem%20with%20prohibiting%20variable%20overlap/near/260832631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Problem.20with.20prohibiting.20variable.20overlap.html#260832631">(Nov 09 2021 at 17:44)</a>:</h4>
<p>If you have two variables with the same name on the same item, they'll see each other.  That's what we need to prevent.  I don't see a way to support link prefix unless descendants override.</p>



<a name="260858596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Problem%20with%20prohibiting%20variable%20overlap/near/260858596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Problem.20with.20prohibiting.20variable.20overlap.html#260858596">(Nov 09 2021 at 20:49)</a>:</h4>
<p>Maybe thin is a topic for our call next week (since none this week)</p>



<a name="260887389"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Problem%20with%20prohibiting%20variable%20overlap/near/260887389" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Problem.20with.20prohibiting.20variable.20overlap.html#260887389">(Nov 10 2021 at 01:16)</a>:</h4>
<p>I am fine with disallowing the same item to declare two variables with the same name.  I think descendants should just override the ancestor definitions where there is matching variable name-- not that I need that behavior, but I don't see the need for a restriction on that, and it is a little more work to restrict it.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
