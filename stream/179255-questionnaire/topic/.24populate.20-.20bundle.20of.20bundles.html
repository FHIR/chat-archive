---
layout: page
title: "FHIR Chat  · $populate - bundle of bundles · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20bundle.20of.20bundles.html">$populate - bundle of bundles</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="239226354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20bundle%20of%20bundles/near/239226354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kreutz <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20bundle.20of.20bundles.html#239226354">(May 18 2021 at 09:50)</a>:</h4>
<p>When performing the structure map based $populate operation the intermediate result after the second step is a Bundle of Bundles.<br>
(The sdc-questionnaire-sourceQueries extension contains a batch of queries. Each query returns a Bundle so the result is a Bundle of Bundles)<br>
My personal opinion is that when trying to create a StructureMap that is able to transform these results into a QuestionnaireResponse it seems quite difficult to create a StructureMap that operates on a Bundle of Bundles. (for example resolve references inside the Bundles)</p>
<p>Are there any plans for the IG to make the process easier? It also seems somewhat asymetric to the $extract operation:<br>
The result of the StructureMap based $extract operation is a Bundle but the "reverse" StructureMap required to fill in the extracted data back into the questionnaireResponse needs to operate on a Bundle of Bundles.</p>



<a name="239230607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20bundle%20of%20bundles/near/239230607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20bundle.20of.20bundles.html#239230607">(May 18 2021 at 10:29)</a>:</h4>
<p>I have not heard any such plans.  Do you have any ideas about what might make it easier?</p>



<a name="239230938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20bundle%20of%20bundles/near/239230938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kreutz <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20bundle.20of.20bundles.html#239230938">(May 18 2021 at 10:33)</a>:</h4>
<p>It might be easier if the Bundle of Bundles can be flattened into one Bundle.</p>



<a name="239235851"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20bundle%20of%20bundles/near/239235851" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20bundle.20of.20bundles.html#239235851">(May 18 2021 at 11:19)</a>:</h4>
<p>If they were flattened into one bundle then you wouldn't be able to split them to know which had come from which query.<br>
You might have some queries that had the list of active medications, another that had the conditions, and another with the list of relatedpersons.<br>
and maybe another that had cancelled medications.<br>
These would then be addressible as to which query you had them from when trying to extract data from them.</p>



<a name="239235934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20bundle%20of%20bundles/near/239235934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20bundle.20of.20bundles.html#239235934">(May 18 2021 at 11:20)</a>:</h4>
<p>When you're going the other way, it's a different problem that you're solving, and may not be the same server</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
