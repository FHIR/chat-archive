---
layout: page
title: "FHIR Chat  · Constraining precision for dates · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Constraining.20precision.20for.20dates.html">Constraining precision for dates</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="219321989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Constraining%20precision%20for%20dates/near/219321989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Constraining.20precision.20for.20dates.html#219321989">(Dec 09 2020 at 11:03)</a>:</h4>
<p>Hi <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> We have a questionnaire where we ask for the patient's birth year. The appropriate data type for the answer would seem to be <code>date</code>, but that of course allows giving month and day, too (in conflict with the LOINC code we attach to the question, which is explicitly for just the year).  Is there some standard way of telling a Questionnaire renderer that it should only allow the year?  - something like the <a href="https://www.hl7.org/fhir/r4/extension-maxdecimalplaces.html">max decimal places extension</a>, but for dates. With custom logic one could infer it from the LOINC code or one could switch to collecting the year as an integer, but neither of those solutions feel quite right.</p>



<a name="219335217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Constraining%20precision%20for%20dates/near/219335217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Constraining.20precision.20for.20dates.html#219335217">(Dec 09 2020 at 13:28)</a>:</h4>
<p>Are there problems/issues with collecting it as an integer?  If not, wouldn't that be preferable to adding another extension that needs to be supported?</p>



<a name="219342836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Constraining%20precision%20for%20dates/near/219342836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Constraining.20precision.20for.20dates.html#219342836">(Dec 09 2020 at 14:29)</a>:</h4>
<p>We definitely could collect it as an integer and I agree it has advantages. It just seemed slightly awkward, given that the FHIR <code>date</code> type actually supports year-only dates and hence seems to be the semantically correct data type.</p>



<a name="219349964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Constraining%20precision%20for%20dates/near/219349964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Constraining.20precision.20for.20dates.html#219349964">(Dec 09 2020 at 15:18)</a>:</h4>
<p>You could specify a max length as an extension, but I expect a lot of entry tools would struggle.  When choosing the type in Questionnaire design, it's best to think "what user interface widget is that going to be associate with" - and most tools will use a calendar-type widget for dates, while an integer would let you just type in a value or maybe scroll it higher or lower.</p>



<a name="219381867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Constraining%20precision%20for%20dates/near/219381867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Constraining.20precision.20for.20dates.html#219381867">(Dec 09 2020 at 19:00)</a>:</h4>
<p>OK, that's a helpful way to think about it - I'll reconsider plain ol' integer, then.</p>



<a name="219730822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Constraining%20precision%20for%20dates/near/219730822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Constraining.20precision.20for.20dates.html#219730822">(Dec 12 2020 at 22:09)</a>:</h4>
<p>I suppose the same applies to using dateTime items. FHIR has no problem with date-only dateTime data, but would a UI require both (and minute precision on the date)? Is there an example of best practice here? Do we need a time-only item-type?</p>



<a name="219741833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Constraining%20precision%20for%20dates/near/219741833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Constraining.20precision.20for.20dates.html#219741833">(Dec 13 2020 at 03:32)</a>:</h4>
<p>We allow 'time' as a stand-alone answer type.</p>



<a name="219741943"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Constraining%20precision%20for%20dates/near/219741943" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Constraining.20precision.20for.20dates.html#219741943">(Dec 13 2020 at 03:36)</a>:</h4>
<p>You’re right. I missed that when I was looking earlier. (I need to read more carefully. It would cut down on the number of my posts.)</p>



<a name="222249397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Constraining%20precision%20for%20dates/near/222249397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Constraining.20precision.20for.20dates.html#222249397">(Jan 11 2021 at 00:11)</a>:</h4>
<p>I'd be using the fhirpath expression validation here - doesn't help with UI hints to make the user experience better, but it is should be adopted more easily?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
