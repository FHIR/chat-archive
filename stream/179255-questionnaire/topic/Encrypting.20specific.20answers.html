---
layout: page
title: "FHIR Chat  · Encrypting specific answers · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html">Encrypting specific answers</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="272345339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272345339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272345339">(Feb 18 2022 at 00:43)</a>:</h4>
<p>Another question relating the questionnaires from an implementer: Would it be possible to make a particular answer (or a few) secure such that they can only be read by a narrow intended audience, perhaps those that the patient gives an access token to (by various methods).</p>
<p>This means that a questionnaire could have a confidential section that the patient has confidence will only be read by their actual treating physician, not by anyone involved in the workflow</p>



<a name="272351391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272351391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Stanley <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272351391">(Feb 18 2022 at 02:10)</a>:</h4>
<p>Would that (and hashing/salting) make sense as FHIRPath functions?</p>



<a name="272353035"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272353035" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Manning <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272353035">(Feb 18 2022 at 02:36)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>, this is a workflow that <span class="user-mention" data-user-id="235060">@Grey Faulkenberry</span> are actively considering on a project. In one of our Questionnaires, the first question asks how (or if) this can be shared. Based on the answer choice, we are tentatively planning to add <a href="https://www.hl7.org/fhir/security-labels.html">security labels</a> to the questionnaire as a whole...though individual security tags was another option we had considered.</p>
<p><span class="user-mention" data-user-id="194192">@Richard Stanley</span> I believe the means by which the security label would be applied (or whatever is applied to the individual question...) is being scripted via a FHIRPath function. That's our plan at least</p>



<a name="272389751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272389751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272389751">(Feb 18 2022 at 11:23)</a>:</h4>
<p>well, there's two parts of this - what's the instruction on the questionnaire response, and the other is, how do you ensure by secrets that people cannot ignore the instruction</p>



<a name="272400550"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272400550" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Manning <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272400550">(Feb 18 2022 at 13:21)</a>:</h4>
<p>Agreed.</p>



<a name="272413539"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272413539" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272413539">(Feb 18 2022 at 15:14)</a>:</h4>
<p>No capability defined right now.  Presumably we could define an extension that would allow the question to be flagged and define an extension for the answer to contain the 'encrypted' content.  Is it sufficient to hide the answers, or do we need to hide the fact that certain questions were answered at all or how many answers were provided?</p>



<a name="272413599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272413599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272413599">(Feb 18 2022 at 15:15)</a>:</h4>
<p>Also, we'd need some expertise on how to perform the encryption of very short elements distributed throughout a form in a 'secure' manner.</p>



<a name="272413741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272413741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272413741">(Feb 18 2022 at 15:16)</a>:</h4>
<p>An alternative is to not encrypt anything, but instead have extensions that flag certain answers as sensitive - which would then cause the generic "data filtering" capabilities of the server to be enforced based on who queries the data.</p>



<a name="272413780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272413780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272413780">(Feb 18 2022 at 15:16)</a>:</h4>
<p>(That's a technically simpler solution, provided that the patient trusts the server to control access - which is what we do everywhere else.)</p>



<a name="272414472"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272414472" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272414472">(Feb 18 2022 at 15:21)</a>:</h4>
<p>I understand this question is coming up in the context of questionnaires, but do we think this is a unique set of requirements related to questionnaires as opposed to other aspects of the health record?</p>



<a name="272415018"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272415018" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272415018">(Feb 18 2022 at 15:26)</a>:</h4>
<p>In other words, end to end encryption and granular element level access controls seem like helpful capabilities regardless of what FHIR resource you might be using to share information.</p>
<p>In a closed ecosystem where you are just submitting the data to one organization and trusting them to manage it correctly internally (giving the right views to the right internal users), standardizing the implementation don't matter much because the patient can't really audit or verify what's happening on the inside and they have to trust the recipient to do the right thing.</p>
<p>In more open architectures where data are being communicated across multiple boundaries and the originator has a good understanding of the identities and roles of end users in the target system, this analysis changes.</p>



<a name="272461375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272461375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272461375">(Feb 18 2022 at 21:42)</a>:</h4>
<p>well, my analysis before this has been that end-to-end crypto is something that happens in the infrastructure, outside the resources, and not something we need to be particularly concerned with. E.g. the entire resource is secure, or not. Or an entire CDA document is token protected. The Australian national system can be used that way, and we've got experience with the design decisions and trade-offs involved.</p>
<p>What's different about this case is that <em>some</em> of the content of the resource needs protection, but other parts of the resource need to be not protected. We haven't - to my knowledge - encountered this before. Questionnaire isn't unique in this regard, but it does feel more likely to be the subject of this question due the opportunity for semantic range of the content in a QR.  Also, unlike other resources, where the access controls are likely to be baked into the system, with Q/QR, the access controls would have to be based on metadata in the Q/QR</p>



<a name="272461449"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272461449" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272461449">(Feb 18 2022 at 21:43)</a>:</h4>
<p>the case in question is mental health referrals, btw.</p>



<a name="272462957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272462957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272462957">(Feb 18 2022 at 21:56)</a>:</h4>
<p>But is it an open ecosystem where the client filling out the questionnaire is going to be submitting it to one of many different provider systems, and knows the end-user public keys for all of the clinicians who might need to read the data? This is a very unusual context in my experience.</p>



<a name="272465123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272465123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272465123">(Feb 18 2022 at 22:14)</a>:</h4>
<p>My question about whether the encryption needs to be only the answers, or whether the fact there were answers (and how many answers there were) was sensitive.  In either case, the encrypted extension and removal of the answers is going to play havoc with validation.</p>



<a name="272467016"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272467016" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272467016">(Feb 18 2022 at 22:29)</a>:</h4>
<p>Perhaps modular Questionnaires could result in modular QuestionnaireResponses, and the high confidentiality response would have different security labels applied than the lower confidentiality response.</p>



<a name="272467220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272467220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272467220">(Feb 18 2022 at 22:31)</a>:</h4>
<p>Or the entire response is given high-confidentiality, but the derived Observations, etc. are given varying confidentiality.</p>



<a name="272467351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272467351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272467351">(Feb 18 2022 at 22:32)</a>:</h4>
<p>Yeah, the potential solution space here is vast. It's worth writing down assumptions about UX, information flow, and pre-coordination of trust relationships before solving this.</p>



<a name="272467366"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Encrypting%20specific%20answers/near/272467366" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Encrypting.20specific.20answers.html#272467366">(Feb 18 2022 at 22:32)</a>:</h4>
<p>Maybe a mini-workshop on this topic.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
