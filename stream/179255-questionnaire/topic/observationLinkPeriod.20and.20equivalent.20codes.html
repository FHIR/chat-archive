---
layout: page
title: "FHIR Chat  · observationLinkPeriod and equivalent codes · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/observationLinkPeriod.20and.20equivalent.20codes.html">observationLinkPeriod and equivalent codes</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="158633162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/observationLinkPeriod%20and%20equivalent%20codes/near/158633162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/observationLinkPeriod.20and.20equivalent.20codes.html#158633162">(Feb 15 2019 at 17:41)</a>:</h4>
<p>I am testing observationLinkPeriod with two forms that have "height" and "weight" defined.  In one form, "weight" is using LOINC 29463-7 ("Body weight"), for which there is data for the selected patient, and the field gets prepoluated with the latest value when the form is loaded.  My other form just happens to use LOINC 3141-9 ("Body weight Measured") , for which disappointingly there is no data.  This is a case where one would want to treat the two LOINC codes equivalently for the purpose for prepopulation.  The most recent weight under either code is what should be filled in.  Is there any mechanism for doing that?</p>



<a name="158633409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/observationLinkPeriod%20and%20equivalent%20codes/near/158633409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/observationLinkPeriod.20and.20equivalent.20codes.html#158633409">(Feb 15 2019 at 17:45)</a>:</h4>
<p>Not right now.  Though with a vital sign like weight, if it's a compliant system, all weights are required to identify themselves with a single LOINC code (though others can also be present).</p>



<a name="158633438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/observationLinkPeriod%20and%20equivalent%20codes/near/158633438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/observationLinkPeriod.20and.20equivalent.20codes.html#158633438">(Feb 15 2019 at 17:45)</a>:</h4>
<p>What you'd presumably want to do is specify a value set rather than a single code, right?</p>



<a name="158635455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/observationLinkPeriod%20and%20equivalent%20codes/near/158635455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/observationLinkPeriod.20and.20equivalent.20codes.html#158635455">(Feb 15 2019 at 18:07)</a>:</h4>
<p>The URL syntax is currently like <a href="http://.../Observation?code=codeSystem|code1" target="_blank" title="http://.../Observation?code=codeSystem|code1">http://.../Observation?code=codeSystem|code1</a>.  I would like to be able write:</p>
<div class="codehilite"><pre><span></span> http://.../Observation?code=codeSystem|code1,code2
</pre></div>


<p>to get results back for either code1 or code2.<br>
NLM and Regenstrief are both working on equivalence classes, which might be useful to search on as well (but I am not sure if that is far enough along).</p>



<a name="158648139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/observationLinkPeriod%20and%20equivalent%20codes/near/158648139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/observationLinkPeriod.20and.20equivalent.20codes.html#158648139">(Feb 15 2019 at 20:48)</a>:</h4>
<p>It looks like I should just be able to add another Coding to the item.code list.  I will try that.</p>



<a name="158648760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/observationLinkPeriod%20and%20equivalent%20codes/near/158648760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/observationLinkPeriod.20and.20equivalent.20codes.html#158648760">(Feb 15 2019 at 20:57)</a>:</h4>
<p>You can certainly do code=codeSystem|code1,codeSystem|code2</p>



<a name="246302424"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/observationLinkPeriod%20and%20equivalent%20codes/near/246302424" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/observationLinkPeriod.20and.20equivalent.20codes.html#246302424">(Jul 17 2021 at 03:52)</a>:</h4>
<p>That format will then possibly return both or miss one if you have the count=1, or maybe consider the <code>lastN</code> operation?</p>



<a name="246761487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/observationLinkPeriod%20and%20equivalent%20codes/near/246761487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/observationLinkPeriod.20and.20equivalent.20codes.html#246761487">(Jul 21 2021 at 18:41)</a>:</h4>
<p>If you include _sort=-date&amp;_count=1, it should get the right one.</p>



<a name="246779893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/observationLinkPeriod%20and%20equivalent%20codes/near/246779893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/observationLinkPeriod.20and.20equivalent.20codes.html#246779893">(Jul 21 2021 at 21:09)</a>:</h4>
<p>Which means you need to use a separate query for each code (rather than the one call)<br>
Can do it as a batch query at least - but even that is still not going to optimize into a single SQL statement on the other end - or at least no chance of it anyway.</p>



<a name="247231304"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/observationLinkPeriod%20and%20equivalent%20codes/near/247231304" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/observationLinkPeriod.20and.20equivalent.20codes.html#247231304">(Jul 26 2021 at 17:04)</a>:</h4>
<p>If the codes are equivalent, you don't need a separate query for each code.</p>



<a name="247286120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/observationLinkPeriod%20and%20equivalent%20codes/near/247286120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/observationLinkPeriod.20and.20equivalent.20codes.html#247286120">(Jul 27 2021 at 02:06)</a>:</h4>
<p>I was looking for a set of observations in one call, last height, weight and BMI</p>



<a name="247287661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/observationLinkPeriod%20and%20equivalent%20codes/near/247287661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/observationLinkPeriod.20and.20equivalent.20codes.html#247287661">(Jul 27 2021 at 02:31)</a>:</h4>
<p>You could call $lastn,</p>



<a name="247287677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/observationLinkPeriod%20and%20equivalent%20codes/near/247287677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/observationLinkPeriod.20and.20equivalent.20codes.html#247287677">(Jul 27 2021 at 02:31)</a>:</h4>
<p>(Though you'd have to manually filter if they had different linkPeriods)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
