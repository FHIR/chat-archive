---
layout: page
title: "FHIR Chat  · SDC constraints · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20constraints.html">SDC constraints</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="219737739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20constraints/near/219737739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20constraints.html#219737739">(Dec 13 2020 at 01:23)</a>:</h4>
<p>I have a questionnaire claiming compliance with <a href="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire">http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire</a>, and am getting the following error in my IG QA:</p>
<div class="codehilite"><pre><span></span><code>sdc-1: An item cannot have an answerExpression if answerOption or answerValueSet is already present. [extension(&#39;http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-answerExpression&#39;).empty().not implies (answerOption.empty() and answerValueSet.empty())]
</code></pre></div>
<p>This occurs for two items 2 and 3, but I have several other #choice items that use answerValueSet, so I don't know what the issue is. </p>
<p>Items 2 and 3 are:</p>
<div class="codehilite"><pre><span></span><code>* item[2].linkId  = &quot;report_country&quot;
* item[2].text    = &quot;Reporting country:&quot;
* item[2].code    = $LNC#77983-5
* item[2].type    = #choice
* item[2].answerValueSet    = &quot;#WhoCrValueSetQuestionnaireCountry&quot;

// skip item[2].item[0]...

* item[3].linkId  = &quot;report_test_reason&quot;
* item[3].text    = &quot;Why tested for COVID-19:&quot;
* item[3].code    = $LNC#67098-4 &quot;Reason for test or procedure&quot;
* item[3].repeats = true
* item[3].type    = #choice
* item[3].answerValueSet = &quot;#WhoCrValueSetQuestionnaireReasonForTesting&quot;
</code></pre></div>



<a name="219742395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20constraints/near/219742395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20constraints.html#219742395">(Dec 13 2020 at 03:50)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> Do we need .not() instead of .not?</p>



<a name="219743143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20constraints/near/219743143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20constraints.html#219743143">(Dec 13 2020 at 04:16)</a>:</h4>
<p>Yes, not is a function so needs the parens</p>



<a name="219743204"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20constraints/near/219743204" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20constraints.html#219743204">(Dec 13 2020 at 04:18)</a>:</h4>
<p>While you’re at it, the “already” is odd phrasing. Does that imply that switching the order would change things? I suggest dropping the word.</p>



<a name="219744655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20constraints/near/219744655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20constraints.html#219744655">(Dec 13 2020 at 05:07)</a>:</h4>
<p>Can you submit a technical correction to deal with both <span class="user-mention" data-user-id="191380">@Elliot Silver</span> ?</p>



<a name="219744700"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20constraints/near/219744700" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20constraints.html#219744700">(Dec 13 2020 at 05:08)</a>:</h4>
<p>Will do.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
