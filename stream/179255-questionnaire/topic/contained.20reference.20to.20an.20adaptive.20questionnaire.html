---
layout: page
title: "FHIR Chat  · contained reference to an adaptive questionnaire · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html">contained reference to an adaptive questionnaire</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="185048105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185048105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185048105">(Jan 07 2020 at 19:56)</a>:</h4>
<p>RE: Adaptive Questionnaire. </p>
<p>It seems in this IG, the contained Q should reference the AQ via the <code>url</code> <a href="http://fhir.org/guides/argonaut/questionnaire/adaptive.html#usage-1" target="_blank" title="http://fhir.org/guides/argonaut/questionnaire/adaptive.html#usage-1">http://fhir.org/guides/argonaut/questionnaire/adaptive.html#usage-1</a>. However in this IG, the contained Q seems to use the <code>identifier</code> <a href="http://hl7.org/fhir/uv/sdc/2019May/adaptive.html" target="_blank" title="http://hl7.org/fhir/uv/sdc/2019May/adaptive.html">http://hl7.org/fhir/uv/sdc/2019May/adaptive.html</a> for this purpose. Which is it?</p>



<a name="185126690"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185126690" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185126690">(Jan 08 2020 at 15:57)</a>:</h4>
<p>//reference to contained questionnaire<br>
        "questionnaire": "#q",<br>
is using a relative URL to point to the contained resource.  It's not pointing to the 'identifier'.  That said, we're inconsistent in the examples about whether "questionnaire" is declared and it should be in all of them.  Can you submit a change request?</p>



<a name="185222753"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185222753" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185222753">(Jan 09 2020 at 15:36)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> -- here is a PR: <a href="https://github.com/HL7/sdc/pull/2" target="_blank" title="https://github.com/HL7/sdc/pull/2">https://github.com/HL7/sdc/pull/2</a></p>



<a name="185224407"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185224407" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185224407">(Jan 09 2020 at 15:50)</a>:</h4>
<p>Change requests to the SDC IG are usually made via a JIRA ticket.  That being said, the pull request really helped me understand that inconsistency you are seeing.  In the Argonaut IG, the contained Questionnaire resource has a  "url" field but no "identifier", and in the SDC IG example the contained Questionnaire resource has an "identifier" but no "url".</p>



<a name="185225348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185225348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185225348">(Jan 09 2020 at 15:59)</a>:</h4>
<p>Hi  <span class="user-mention" data-user-id="195344">@Paul Lynch</span> -- yes that's right! I prefer using url, so I hope that PR is approved :) ..  LMK if it would be helpful to create a ticket.</p>



<a name="185225813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185225813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185225813">(Jan 09 2020 at 16:03)</a>:</h4>
<p>Another (maybe bigger) inconsistency is the operations for getting the next question.  In Argonaut:</p>
<div class="codehilite"><pre><span></span>POST [base]/Questionnaire/$next-question
</pre></div>


<p>but in SDC (note the ID):</p>
<div class="codehilite"><pre><span></span>POST [BaseURL]/Questionnaire/[id]/next-q
</pre></div>



<a name="185225974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185225974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185225974">(Jan 09 2020 at 16:04)</a>:</h4>
<p>Oh yea, that is a big one. Generally speaking I saw Argonaut as a "feeder" into a ballot standard, and the SDC would be the one that will end up getting adopted. Is this the way I should be thinking?</p>



<a name="185226924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185226924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185226924">(Jan 09 2020 at 16:13)</a>:</h4>
<p><span class="user-mention" data-user-id="252599">@Brian Kaney</span> Please submit a Jira change proposal and point to your pull request.  Pull requests can't be considered without a Jira ticket.</p>



<a name="185236914"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185236914" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185236914">(Jan 09 2020 at 17:47)</a>:</h4>
<p><span class="user-mention" data-user-id="252599">@Brian Kaney</span> If you do submit a JIRA ticket, please post a link to it here so that people reading this thread can find it.</p>



<a name="185239121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185239121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185239121">(Jan 09 2020 at 18:10)</a>:</h4>
<p>Sure thing. I am waiting to get granted access to JIRA. (BTW the footer still refers to gforge)</p>



<a name="185240619"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185240619" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185240619">(Jan 09 2020 at 18:26)</a>:</h4>
<p>Here it is, thanks! <a href="https://jira.hl7.org/browse/FHIR-25434" target="_blank" title="https://jira.hl7.org/browse/FHIR-25434">https://jira.hl7.org/browse/FHIR-25434</a></p>



<a name="185249280"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185249280" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185249280">(Jan 09 2020 at 19:58)</a>:</h4>
<p>I think either endpoint should work</p>



<a name="185249346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185249346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185249346">(Jan 09 2020 at 19:59)</a>:</h4>
<p>The servers are smart enough to figure it out</p>



<a name="185264904"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185264904" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185264904">(Jan 09 2020 at 22:46)</a>:</h4>
<p>Well, as an implementor/developer in one case you'd have to build an operation at the type-level (that would interrogate the body and the subsequently find the appropriate questionnaire), verses an instance-level operation. And it would be nice to not have to build the next-q(uestion) operation twice! </p>
<p>(I prefer an instance-level operation, it's a simpler to build e.g. <code>/Questionnaire/[id]/$next-q</code>)</p>



<a name="185266920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185266920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185266920">(Jan 09 2020 at 23:13)</a>:</h4>
<p>We can't always go with an instance-level operation because not all servers that support the operation will necessarily be Questionnaire repositories.</p>



<a name="185267525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185267525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185267525">(Jan 09 2020 at 23:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Per <a href="http://hl7.org/fhir/uv/sdc/2019May/adaptive.html" target="_blank" title="http://hl7.org/fhir/uv/sdc/2019May/adaptive.html">http://hl7.org/fhir/uv/sdc/2019May/adaptive.html</a>, the instance-level next-q is the only operation for adaptive SDC Questionnaires.</p>



<a name="185267620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185267620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185267620">(Jan 09 2020 at 23:23)</a>:</h4>
<p>Hmm.  That's problematic.  I'll submit a change request.</p>



<a name="185267777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185267777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185267777">(Jan 09 2020 at 23:25)</a>:</h4>
<p><a href="http://jira.hl7.org/browse/FHIR-25437" target="_blank" title="http://jira.hl7.org/browse/FHIR-25437">GF#25437</a></p>



<a name="185267879"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185267879" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185267879">(Jan 09 2020 at 23:27)</a>:</h4>
<p>Well in this case, it's more like "instance-level-like"... the service doesn't need to support FHIR instances, just this endpoint .. I think of it as putting the identifier to the Questionnaire in the URL segment instead of deeply nesting in the body.</p>



<a name="185458163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185458163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185458163">(Jan 13 2020 at 01:04)</a>:</h4>
<p>The adaptive-Q server may treat all incoming traffic the same, it knows nothing a priori, and will start from scratch each time,  so its going to have to crack open the resource anyway, so it inspects the questionnaire's url to figure out what to do next.</p>
<p>I'm not sure if Lloyd is correct  in what he said... I am not sure if the distinction of /Questionnaire$next-q  and /Questionnaire/[id}/$next-q  means that for the latter you have to have to be a FHIR Questionnaire repository.  To the operation it is just another endpoint and can be treated as a black box.   So the implementer can choose to have 1 general purpose endpoint or multiple specific endpoints. </p>
<p>I would think is easier for the service to maintain one endpoint and manage the standing up of new and deprecating of questionnaire processing behind the curtain.  An easier for the client too.  As an implementer you can use the (much ignored and unloved) CapStatement to define what you support.</p>



<a name="185459777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185459777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185459777">(Jan 13 2020 at 01:58)</a>:</h4>
<p>A system might have <em>knowledge</em> of a Questionnaire without necessarily exposing it at a RESTful endpoint.  For some types of Questionnaires, the actual Questionnaire (with all of the logic about what questions are asked when, how they're scored, etc.) are never exposed to anyone.  Obviously the contained Questionnaire will be shared, but that wouldn't have the URL that would be used when invoking the operation - as every contained Questionnaire will be unique to a given QuestionnaireResponse.</p>



<a name="185462256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185462256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185462256">(Jan 13 2020 at 03:22)</a>:</h4>
<p>in the Argo operation we document:  </p>
<blockquote>
<p>The Argo Adaptive QuestionnaireResponse Profile of the QuestionnaireResponse resource with a contained Questionnaire. The <code>url</code> element in the contained Questionnaire identifies which set of questions are being requested.</p>
</blockquote>
<p>and profile the url element to min =1 in both argo and sdc</p>
<p>I don't understand why this can not be used to key which AQ to run.   Since the expectation is the AQ servers is stateless and starts from beginning every time. it only needs to know a starting point for its processing.  is there some extension the AQ server should key off of instead?</p>



<a name="185462873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185462873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185462873">(Jan 13 2020 at 03:42)</a>:</h4>
<p>So your question is why the Questionnaire/[id]/$next-question version is necessary given that on invocation you can pass in the url?  I'm thinking that it should be Questionnaire.derivedFrom, not Questionnaire.url though.  Because the latter would be the canonical URL of the contained questionnaire - which would be unique to this specific QuestionnaireResponse...</p>



<a name="185462881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185462881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185462881">(Jan 13 2020 at 03:43)</a>:</h4>
<p>I guess I can by that the Questionnaire/[id] version isn't necessary.  Care to submit a change request?</p>



<a name="185463113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185463113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185463113">(Jan 13 2020 at 03:51)</a>:</h4>
<p>OK so what you are saying the canonical is not the canonical for the proprietary AQ algorithm that company x produces ? but is rather the instance of the questionnaire that is regenerated each and every time the QR hits the endpoint?   That questionnaire exists only in the context of the answers so I my mind there is nothing canonical about it.   .derivedFrom makes sense based on the definition and should be min =1  question is should url be min=1?</p>



<a name="185464285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185464285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185464285">(Jan 13 2020 at 04:31)</a>:</h4>
<p>I don't see much point in having a URL on the contained questionnaire</p>



<a name="185501661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185501661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185501661">(Jan 13 2020 at 15:13)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Then what indicates <em>which</em> adaptive Questionnaire (not the partial, contained one) is the one for which answers are being submitted?</p>



<a name="185503093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185503093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185503093">(Jan 13 2020 at 15:26)</a>:</h4>
<p><span class="user-mention" data-user-id="195344">@Paul Lynch</span> -- I think if it's an instance-level operation, the adaptive Questionnaire would be the one specified in the URL path. If it's a type-level operation, we would need to have the URL in the contained (dynamic/partial) one for sure.</p>



<a name="185503172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185503172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185503172">(Jan 13 2020 at 15:27)</a>:</h4>
<p>To follow up, I just realized the SDC IG has the operation without a dollar sign (it's just <code>next-q</code>), is this a typo, I would have expected to follow FHIR conventions with <code>$next-q</code>.</p>



<a name="185508447"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185508447" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185508447">(Jan 13 2020 at 16:19)</a>:</h4>
<p>The operation name doesn't included the dollar-sign.  When invoking, you lead with the $.  The notion is that when invoking next-question, you'd specify the Questionnaire.derivedFrom.</p>



<a name="185508580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185508580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185508580">(Jan 13 2020 at 16:21)</a>:</h4>
<p>Though as I think about queries, when you're searching you'd want to find all questionnaireResponses where questionnaire='official URL for questionnaire' - so maybe using URL is better.  If we go that route, we're going to need to talk w/ FHIR-I about atypical use of a canonical reference...</p>



<a name="185523716"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185523716" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185523716">(Jan 13 2020 at 18:50)</a>:</h4>
<blockquote>
<p>If we go that route, we're going to need to talk w/ FHIR-I about atypical use of a canonical reference...</p>
</blockquote>
<p>I don't understand what is atypical.  The url defines the adaptive Q and by definition the instance will be defined by the questions + algorithm?</p>



<a name="185527692"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185527692" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185527692">(Jan 13 2020 at 19:25)</a>:</h4>
<p>The canonical is <em>supposed</em> to be for the Questionnaire itself.  Having different Questionnaire instances that share the same url (and the same version) even though they're contained may well be confusing.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>, opinions?</p>



<a name="185536635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185536635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185536635">(Jan 13 2020 at 20:56)</a>:</h4>
<p>In <a href="#narrow/stream/179166-implementers/topic/Promoting.20contained.20resources.20to.20standalone/near/185530612" title="#narrow/stream/179166-implementers/topic/Promoting.20contained.20resources.20to.20standalone/near/185530612">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Promoting.20contained.20resources.20to.20standalone/near/185530612</a>, Grahame wrote "contained resources really shouldn't contain an identifier. that would be a clear marker for someone abusing contained resources".  But, the SDC example of the contained Questionnaire has an identifier (<a href="http://hl7.org/fhir/uv/sdc/2019May/adaptive.html" target="_blank" title="http://hl7.org/fhir/uv/sdc/2019May/adaptive.html">http://hl7.org/fhir/uv/sdc/2019May/adaptive.html</a>).  <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> ?</p>



<a name="185537786"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185537786" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185537786">(Jan 13 2020 at 21:09)</a>:</h4>
<p>I think we need to use the <code>url</code> then if <code>identifier</code> is off the table per that recommendation if it's not an instance-level operation.</p>



<a name="185538691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185538691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185538691">(Jan 13 2020 at 21:18)</a>:</h4>
<p>In other word, the contained questionnaire is supposed to be ephemeral, but unless we only support instance-level operation <code>/Questionnaire/:id/$next-q</code> we don't have to worry about identification of the "authored" questionnaire, as it is expressed in the URL route. Otherwise we need it somewhere in the contained questionnaire...</p>



<a name="185559968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185559968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185559968">(Jan 14 2020 at 02:35)</a>:</h4>
<p>the URL does define the questionnaire. So each adaptive questionnaire instance will be different based on the process, and so have a different URL (a GUID, I'd expect). You'd use Questionnaire.identifier to link to the master definition for the Adaptive questionnaire</p>



<a name="185571104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/185571104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#185571104">(Jan 14 2020 at 07:32)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-25460" target="_blank" title="https://jira.hl7.org/browse/FHIR-25460">https://jira.hl7.org/browse/FHIR-25460</a></p>



<a name="186972887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/186972887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#186972887">(Jan 30 2020 at 10:50)</a>:</h4>
<p>Someone correct me if I'm wrong, but isnt an adaptive Q still just a Q that dynamically gets questions?<br>
Otherwise how do you know which one you're asking for?<br>
AQ for mental health or AQ for home care or AQ for staff training?</p>



<a name="186972907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/186972907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#186972907">(Jan 30 2020 at 10:51)</a>:</h4>
<p>(essentially the catalog of start points)</p>



<a name="187029419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/187029419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#187029419">(Jan 30 2020 at 20:53)</a>:</h4>
<p>The contained questionnaire would be <code>derivedFrom</code> the authoritative Q</p>



<a name="187041455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/187041455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#187041455">(Jan 30 2020 at 23:10)</a>:</h4>
<p>Sure yes.</p>



<a name="187041478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/187041478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#187041478">(Jan 30 2020 at 23:10)</a>:</h4>
<p>But then is there anything authoratitive about an adaptive Q?</p>



<a name="187052707"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/contained%20reference%20to%20an%20adaptive%20questionnaire/near/187052707" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/contained.20reference.20to.20an.20adaptive.20questionnaire.html#187052707">(Jan 31 2020 at 02:45)</a>:</h4>
<p>The Q contained within the adaptive QR will be a 1-off.  It won't likely have an identifier or a canonical URL</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
