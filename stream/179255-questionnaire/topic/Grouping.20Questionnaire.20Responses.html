---
layout: page
title: "FHIR Chat  · Grouping Questionnaire Responses · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Grouping.20Questionnaire.20Responses.html">Grouping Questionnaire Responses</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="238176569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Grouping%20Questionnaire%20Responses/near/238176569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Grouping.20Questionnaire.20Responses.html#238176569">(May 10 2021 at 17:02)</a>:</h4>
<p>I don't know if this question belongs in the questionnaire track or somewhere else.</p>
<p>I have a similar issue to @Grey Faulkenberry  and  his question about grouping Questionnaires, but I want to group questionnaire responses together. I don't think the PlanDefinition resource fits our use case involving clinical study protocols and administrative forms.</p>
<p>For some of the clinical studies, there might be 1 study initiation questionnaire response, 3 consent questionnaire responses (one per study site), 3 determination questionnaire responses (one per study site),  1 protocol questionnaire response, 4 continuing review questionnaire responses (per regulatory requirements and length of study) and 7 adverse event questionnaire responses.  Another study might have a different distribution of questionnaire responses.   I am debating trying to use the List resource, vs. a dynamically updated QuestionnaireResponse resource so that my application can present the group of completed questionnaire responses to the researchers and study coordinators for the intent of reviewing/editing the questionnaire responses for a particular study. </p>
<p>Does anyone have any feedback on whether a QuestionnaireResponse Resource vs a List Resource would be a better approach?</p>
<p>If I used a List Resource, I was thinking something like this:</p>
<p>&lt;List xmlns="<a href="http://hl7.org/fhir">http://hl7.org/fhir</a>"&gt;</p>
<p>&lt;id value="study # 12345678"/&gt; </p>
<p>&lt;mode value="working"/&gt; </p>
<p>&lt;title value="List of the questionnaire responses for study # 12345678"/&gt; </p>
<p>&lt;status value="current"/&gt; </p>
<p>&lt;entry&gt;<br>
    &lt;item&gt;<br>
            &lt;reference value="QuestionnaireResponse/851" /&gt;<br>
            &lt;display value="Study Initiation QR# 851" /&gt;<br>
    &lt;/item&gt;<br>
  &lt;/entry&gt;</p>
<p>&lt;entry&gt;<br>
    &lt;item&gt;<br>
            &lt;reference value="QuestionnaireResponse/852" /&gt;<br>
            &lt;display value="Determination Letter QR# 852" /&gt;<br>
    &lt;/item&gt;<br>
  &lt;/entry&gt;</p>
<p>&lt;entry&gt;<br>
     &lt;item&gt;<br>
            &lt;reference value="QuestionnaireResponse/853" /&gt;<br>
            &lt;display value="Determination Letter QR# 853" /&gt;<br>
    &lt;/item&gt;<br>
  &lt;/entry&gt;</p>
<p>&lt;entry&gt;<br>
    &lt;item&gt;<br>
            &lt;reference value="QuestionnaireResponse/854" /&gt;<br>
            &lt;display value="Determination Letter QR# 854" /&gt;<br>
    &lt;/item&gt;<br>
  &lt;/entry&gt;</p>
<p>&lt;entry&gt;<br>
    &lt;item&gt;<br>
            &lt;reference value="QuestionnaireResponse/855" /&gt;<br>
            &lt;display value="Protocol QR# 855" /&gt;<br>
    &lt;/item&gt;<br>
  &lt;/entry&gt;</p>
<p>&lt;/List&gt;</p>



<a name="238180378"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Grouping%20Questionnaire%20Responses/near/238180378" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Grouping.20Questionnaire.20Responses.html#238180378">(May 10 2021 at 17:27)</a>:</h4>
<p>My recommendation would be to use the <a href="http://build.fhir.org/extension-workflow-researchstudy.html">http://build.fhir.org/extension-workflow-researchstudy.html</a> extension and have a search criteria on your server that allows you to filter QuestionnaireResponses based on study.  (You could also propose this be defined as a standard SearchParameter in the core spec.)</p>



<a name="238182169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Grouping%20Questionnaire%20Responses/near/238182169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Grouping.20Questionnaire.20Responses.html#238182169">(May 10 2021 at 17:39)</a>:</h4>
<p>BTW, if you are using a HAPI FHIR server, adding the ability to search on an extension is easy-- you just add a SearchParameter resource to the server (and possibly reindex-- not sure).  Here is an example of a SearchParameter for an "age-at-event" extension:  <a href="https://github.com/ncpi-fhir/ncpi-model-forge/blob/master/site_root/input/resources/search/SearchParameter-age-at-event.json">https://github.com/ncpi-fhir/ncpi-model-forge/blob/master/site_root/input/resources/search/SearchParameter-age-at-event.json</a></p>



<a name="238221149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Grouping%20Questionnaire%20Responses/near/238221149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Grouping.20Questionnaire.20Responses.html#238221149">(May 10 2021 at 22:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>     I think that extension-workflow-researchstudy   appears to be what we need.  Thank you.</p>



<a name="238222004"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Grouping%20Questionnaire%20Responses/near/238222004" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Grouping.20Questionnaire.20Responses.html#238222004">(May 10 2021 at 22:34)</a>:</h4>
<p><span class="user-mention" data-user-id="195344">@Paul Lynch</span>     If the questionnaire response captures the reference  to the research study, then does LHC-Forms   have the ability to include this data when it sends the QR to the server?    We are using the HAPI Server.  I have never tried setting up a SearchParameter before, but that would definitely make life easier.</p>



<a name="238223413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Grouping%20Questionnaire%20Responses/near/238223413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Grouping.20Questionnaire.20Responses.html#238223413">(May 10 2021 at 22:46)</a>:</h4>
<p>LHC-Forms does not know about ResearchStudies.  What you can do is ask it for the QuestionnaireResponse, and then before sending it to the FHIR server, add the workflow-researchstudy extension Lloyd mentioned.</p>



<a name="238224306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Grouping%20Questionnaire%20Responses/near/238224306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Grouping.20Questionnaire.20Responses.html#238224306">(May 10 2021 at 22:57)</a>:</h4>
<p>Understood.  That's what I was thinking.</p>



<a name="239835079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Grouping%20Questionnaire%20Responses/near/239835079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Grouping.20Questionnaire.20Responses.html#239835079">(May 22 2021 at 02:01)</a>:</h4>
<p>Is this how I would use the  <a href="http://build.fhir.org/extension-workflow-researchstudy.html">http://build.fhir.org/extension-workflow-researchstudy.html</a> extension   to capture that this Questionnaire Response is related to the Research Study  with ID 1234?</p>
<p>{<br>
 "resourceType":  "QuestionnaireResponse",<br>
 "id": "1153",<br>
 "meta": {<br>
     "versionId": "1",<br>
     "lastUpdated": "2021-05-22T00:03:07.063+00:00", <br>
     "profile": [ "<a href="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaireresponse|2.7">http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaireresponse|2.7</a>" ],<br>
         "extension": [<br>
                {<br>
                  "url": "<a href="http://hl7.org/fhir/StructureDefinition/workflow-researchStudy">http://hl7.org/fhir/StructureDefinition/workflow-researchStudy</a>",<br>
                   "value": {<br>
                "reference": "/ResearchStudy/1234"<br>
            "display": "1234"<br>
           }<br>
                }<br>
              ]<br>
            },<br>
 "status": "completed",<br>
     "authored": "2021-05-22T00:03:04.001Z",<br>
     "item":      [ <br>
        { "linkId": "Initiate_1",<br>
         "text": "Study Title",<br>
         "answer": [ { "valueString": "Testing a higher treatment dosage for condition X" } ] },<br>
        { "linkId": "Initiate_4", "text": "Will there be compensation for participation?", "answer": [ { "valueCoding": { "code": "1", "display": "Yes" } <br>
    } ] }</p>
<p>[SNIPPED]</p>
<div class="codehilite"><pre><span></span><code>]
</code></pre></div>

<p>}</p>



<a name="239835420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Grouping%20Questionnaire%20Responses/near/239835420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Grouping.20Questionnaire.20Responses.html#239835420">(May 22 2021 at 02:06)</a>:</h4>
<p>There shouldn't be a '/' in front of the resource in a local reference.  Also, a local reference presumes that the ResearchStudy is on the same resource as the QuestionnaireResponse.  Otherwise, yes.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
