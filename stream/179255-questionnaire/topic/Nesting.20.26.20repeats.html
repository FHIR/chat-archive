---
layout: page
title: "FHIR Chat  · Nesting &amp; repeats · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Nesting.20.26.20repeats.html">Nesting &amp; repeats</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="218320353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Nesting%20%26%20repeats/near/218320353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Dubrov <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Nesting.20.26.20repeats.html#218320353">(Nov 30 2020 at 17:45)</a>:</h4>
<p>Just to be clear I understanding relationship between items, answers and linkIds correctly.<br>
Would it be valid to say that each questionnaire item would map to exactly one questionnaire response (inside a current parent) _except_ the case where questionnaire item is a repeatable group (in which case multiple questionnaire response items could be present in the same parent)?</p>
<p>Pseudocode:</p>
<div class="codehilite"><pre><span></span><code>for (let item in parentQuestionnaireItem.item) {
  const responseItems = parentQuestionnaireResponse.item.filter(qr =&gt; qr.linkId === item.linkId);
  // responseItems will have length 0 or 1 for all non-groups.
}
</code></pre></div>
<p>?</p>



<a name="218326510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Nesting%20%26%20repeats/near/218326510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Nesting.20.26.20repeats.html#218326510">(Nov 30 2020 at 18:35)</a>:</h4>
<p>Or anything that appears inside a repeatable group</p>



<a name="218327599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Nesting%20%26%20repeats/near/218327599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Dubrov <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Nesting.20.26.20repeats.html#218327599">(Nov 30 2020 at 18:43)</a>:</h4>
<p>But those will be stored inside QuestionnaireResponse items of each group repetition? In other words, in the pseudocode above, those will be in different "parentQuestionnaireItem"s (one parent for each group repetition)?</p>



<a name="218330301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Nesting%20%26%20repeats/near/218330301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Nesting.20.26.20repeats.html#218330301">(Nov 30 2020 at 19:03)</a>:</h4>
<p>Every QuestionnaireResponse.item will have a linkId that corresponds to an item in the Questionnaire.  linkIds might be duplicated in the QuestionnaireResponse for any item that corresponds to a repeating group <em>or</em> appears nested within a repeating group.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
