---
layout: page
title: "FHIR Chat  · output collecton as ivariable  used as input to  fhirpath · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/output.20collecton.20as.20ivariable.20.20used.20as.20input.20to.20.20fhirpath.html">output collecton as ivariable  used as input to  fhirpath</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="247143646"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/output%20collecton%20as%20ivariable%20%20used%20as%20input%20to%20%20fhirpath/near/247143646" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/output.20collecton.20as.20ivariable.20.20used.20as.20input.20to.20.20fhirpath.html#247143646">(Jul 25 2021 at 20:39)</a>:</h4>
<p>In a Questionnaire resource, is it possible to put the output collection of a fhirpath expression into a variable and then drill down into that variable again using a new fhirpath expression?  (Similar to how a temporary table is used in SQL).  I am thinking the answer is no because fhirpath operates against a resource and what is stored in the variable would just be an output collection.</p>
<p>"extension": [{<br>
        "url" : "<a href="http://hl7.org/fhir/StructureDefinition/variable">http://hl7.org/fhir/StructureDefinition/variable</a>",<br>
        "valueExpression" : {<br>
          "language" : "text/fhirpath",<br>
          "name" : "bigExpressionResults",<br>
          "expression" : "really long complicated fhirpath expression goes here"<br>
        }  <br>
      },</p>
<div class="codehilite"><pre><span></span><code>  {
    &quot;url&quot; : &quot;http://hl7.org/fhir/StructureDefinition/variable&quot;,
    &quot;valueExpression&quot; : {
      &quot;language&quot; : &quot;text/fhirpath&quot;,
      &quot;name&quot; : &quot;firstName&quot;,
      &quot;expression&quot; : &quot;%bigExpressionResults.item.where(linkId = &#39;1&#39;)&quot;
    }  
  },


  {
    &quot;url&quot; : &quot;http://hl7.org/fhir/StructureDefinition/variable&quot;,
    &quot;valueExpression&quot; : {
      &quot;language&quot; : &quot;text/fhirpath&quot;,
      &quot;name&quot; : &quot;LastName&quot;,
      &quot;expression&quot; : &quot;%bigExpressionResults.item.where(linkId = &#39;2&#39;)&quot;
    }  
  }
</code></pre></div>

<p>]</p>



<a name="247145587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/output%20collecton%20as%20ivariable%20%20used%20as%20input%20to%20%20fhirpath/near/247145587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/output.20collecton.20as.20ivariable.20.20used.20as.20input.20to.20.20fhirpath.html#247145587">(Jul 25 2021 at 21:07)</a>:</h4>
<p>That's absolutely what the 'variable' extension is for...</p>



<a name="247145894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/output%20collecton%20as%20ivariable%20%20used%20as%20input%20to%20%20fhirpath/near/247145894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/output.20collecton.20as.20ivariable.20.20used.20as.20input.20to.20.20fhirpath.html#247145894">(Jul 25 2021 at 21:13)</a>:</h4>
<p>and the fhirpath will work on something that is not a full resource?</p>



<a name="247149664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/output%20collecton%20as%20ivariable%20%20used%20as%20input%20to%20%20fhirpath/near/247149664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/output.20collecton.20as.20ivariable.20.20used.20as.20input.20to.20.20fhirpath.html#247149664">(Jul 25 2021 at 22:50)</a>:</h4>
<p>Yes.</p>



<a name="247150097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/output%20collecton%20as%20ivariable%20%20used%20as%20input%20to%20%20fhirpath/near/247150097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/output.20collecton.20as.20ivariable.20.20used.20as.20input.20to.20.20fhirpath.html#247150097">(Jul 25 2021 at 23:03)</a>:</h4>
<p>Amazing!!! <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span>   So happy now.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
