---
layout: page
title: "FHIR Chat  · choice item rendering · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html">choice item rendering</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="201922841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/201922841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#201922841">(Jun 25 2020 at 01:14)</a>:</h4>
<p>Grahame is implementing a rough converter to HTML for the IG Publisher and has noted that for a choice type, there is no definition of what the default control type to use is.<br>
We have the extension to permit the designer to be explicit about it, but should we have anything to say here about it?</p>



<a name="201922889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/201922889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#201922889">(Jun 25 2020 at 01:14)</a>:</h4>
<p>"Question with a Coding drawn from a list of possible answers" <a href="http://hl7.org/fhir/valueset-item-type.html">http://hl7.org/fhir/valueset-item-type.html</a><br>
The extension and valueset are these for the control type when being explicit about it<br>
<a href="http://hl7.org/fhir/extension-questionnaire-itemcontrol.html">http://hl7.org/fhir/extension-questionnaire-itemcontrol.html</a><br>
<a href="http://hl7.org/fhir/valueset-questionnaire-item-control.html">http://hl7.org/fhir/valueset-questionnaire-item-control.html</a></p>



<a name="201923131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/201923131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#201923131">(Jun 25 2020 at 01:19)</a>:</h4>
<p>The control depends on whether it's a repeating question and also on how many choices there are.  Radio buttons or drop-downs work for non-repeating, check-boxes or multi-select drop-downs for repeating.  If the set gets too large, then you need a drop-down control that allows free-text search</p>



<a name="202013850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/202013850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#202013850">(Jun 25 2020 at 19:27)</a>:</h4>
<p>The very large sets would be item control = "autocomplete".   But, if there is no hint via the itemcontrol extension, how does one determine the number of items in the answerValueSet to decide whether the list is small or large or huge?  In the latter case, $expand probably would not return the full list.</p>



<a name="202022630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/202022630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#202022630">(Jun 25 2020 at 20:46)</a>:</h4>
<p>The expansion should indicate it isn't complete</p>



<a name="202025435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/202025435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#202025435">(Jun 25 2020 at 21:10)</a>:</h4>
<p>Via expansion.total being less than the number of expansion.contains nodes?</p>



<a name="202029917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/202029917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#202029917">(Jun 25 2020 at 21:52)</a>:</h4>
<p>Yes, and I always provide a value for the count, ensuring that I don't kill the browser downloading an entire 80k set of codes...<br>
But if the item has the hint, the designer is indicating that they thought about it.</p>



<a name="202161588"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/202161588" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#202161588">(Jun 27 2020 at 01:47)</a>:</h4>
<p><code>$expand?count=0</code> and then look at <code>expansion.total</code> if you need to make a UI rendering choice in advance. Otherwise, user <code>?count=[n]</code> where n is your threshold for switching over to autocomplete</p>



<a name="224459677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/224459677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kashyap Jois <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#224459677">(Jan 29 2021 at 11:41)</a>:</h4>
<p>Value set item type defines <a href="https://www.hl7.org/fhir/codesystem-item-type.html#item-type-choice">choice</a> as "Question with a Coding drawn from a list of possible answers (specified in either the answerOption property, or via the valueset referenced in the answerValueSet property) as an answer (valueCoding)." Where as in the questionnaire definition, answerOption can be of type Value[x] where [x] belongs to ["Integer", "String", "Coding", "Reference", "Date", "Time"] . Are these two definitions contradictory?</p>



<a name="224532292"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/224532292" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#224532292">(Jan 29 2021 at 20:57)</a>:</h4>
<p>I don't know that they're contradictory, but they're confusing.  In R5, we're dropping 'choice' and 'open-choice' entirely and adding 'Coding' as a type and making the question of whether a question is open or closed a coded element.  That will both be more flexible and more clear.  In R4, a type of 'choice' means that the data will be captured using valueCoding.  It's still possible to have options constrain the allowed choices for questions of type integer, string, Reference, Date or Time.</p>



<a name="224576457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/224576457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#224576457">(Jan 30 2021 at 09:42)</a>:</h4>
<p>I'm still confused what you need to do to have a question that could have a coding or a string as the response.<br>
Do we have an example of this yet?</p>



<a name="224588025"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/224588025" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#224588025">(Jan 30 2021 at 14:37)</a>:</h4>
<p>In R4 or R5?</p>



<a name="224588068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/224588068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#224588068">(Jan 30 2021 at 14:38)</a>:</h4>
<p>In R4, you use open-choice.  In R5, you use type of Coding and declare the question to be open, allowing string.</p>



<a name="224589916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/224589916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Manning <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#224589916">(Jan 30 2021 at 15:21)</a>:</h4>
<p>Good to know. That R4/R5 difference is very helpful for some of the Questionnaire planning on the work <span class="user-mention" data-user-id="235060">@Grey Faulkenberry</span> and I are doing w/ open-choice questions.</p>



<a name="224723311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/224723311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kashyap Jois <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#224723311">(Feb 01 2021 at 13:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179255-questionnaire/topic/choice.20item.20rendering/near/224532292">said</a>:</p>
<blockquote>
<p>I don't know that they're contradictory, but they're confusing.  In R5, we're dropping 'choice' and 'open-choice' entirely and adding 'Coding' as a type and making the question of whether a question is open or closed a coded element.  That will both be more flexible and more clear.  In R4, a type of 'choice' means that the data will be captured using valueCoding.  It's still possible to have options constrain the allowed choices for questions of type integer, string, Reference, Date or Time.</p>
</blockquote>
<p>Oh that is interesting, but <a href="https://www.hl7.org/fhir/questionnaire-definitions.html#Questionnaire.item.answerOption">Questionnaire.item.answerOption Definition : </a>mentions that answerOption is </p>
<blockquote>
<p>One of the permitted answers for a "choice" or "open-choice" question.</p>
</blockquote>



<a name="224835224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/224835224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kashyap Jois <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#224835224">(Feb 02 2021 at 07:04)</a>:</h4>
<p>Is it safe to say that for a "choice" type question we can write the rendering code assuming that only valueCoding will be in the answer options?</p>



<a name="224867180"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/224867180" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#224867180">(Feb 02 2021 at 13:01)</a>:</h4>
<p>I don't think that is always true. You can have a dropdown with strings (not necessarily a code)</p>



<a name="224869427"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/224869427" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#224869427">(Feb 02 2021 at 13:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="382830">Kashyap Jois</span> <a href="#narrow/stream/179255-questionnaire/topic/choice.20item.20rendering/near/224723311">said</a>:</p>
<blockquote>
<p>Oh that is interesting, but <a href="https://www.hl7.org/fhir/questionnaire-definitions.html#Questionnaire.item.answerOption">Questionnaire.item.answerOption Definition : </a>mentions that answerOption is </p>
<blockquote>
<p>One of the permitted answers for a "choice" or "open-choice" question.</p>
</blockquote>
</blockquote>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> That looks contradictory to me.  answerOption's definition says it only for "choice" or "openChoice",  but then the structure shows answerOption.valueInteger, etc.</p>



<a name="224878797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/224878797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#224878797">(Feb 02 2021 at 14:34)</a>:</h4>
<p>It is contradictory and wrong.  We opened the set of options that can be restricted but didn't update the wording.  Can you submit a change request for us to fix this?</p>



<a name="224880556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/224880556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kashyap Jois <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#224880556">(Feb 02 2021 at 14:47)</a>:</h4>
<p>I do not have a HL7 Jira/Confluence account to do this. I can apply for one, unless someone here would like to submit the change request :)</p>



<a name="224883792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/224883792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#224883792">(Feb 02 2021 at 15:09)</a>:</h4>
<p>One of my secret missions is to encourage as many people as possible to get Jira/Confluence accounts to lower the level of friction for people submitting change requests whenever they see something that's wrong/could be better.</p>



<a name="224946049"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/224946049" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#224946049">(Feb 02 2021 at 22:23)</a>:</h4>
<p><span class="user-mention" data-user-id="382830">@Kashyap Jois</span> Please post a link to the Jira item here when you are able to create it.</p>



<a name="225137163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/225137163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kashyap Jois <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#225137163">(Feb 04 2021 at 09:37)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-30922">https://jira.hl7.org/browse/FHIR-30922</a> do let me know if it clearly describes the problem</p>



<a name="240429299"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/240429299" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johannes Oehm <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#240429299">(May 27 2021 at 07:30)</a>:</h4>
<p>Hello everybody,</p>
<p>When I have a choice-Item with multiple predefined answerOptions with valueCoding linked to an existing terminology, but I want to rename these elements for the user, should I just switch the value of <code>Coding.display</code> or is there an extension for this?</p>
<p>Kind regards<br>
Johannes</p>



<a name="240439495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/240439495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#240439495">(May 27 2021 at 09:23)</a>:</h4>
<p>ValueSet allows you to define alternate display names.  No need for an extension</p>



<a name="241682943"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/241682943" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#241682943">(Jun 06 2021 at 09:33)</a>:</h4>
<p>Since we collapsed choice and open-choice into coding (with asnwerConstraint), should we have done the same thing with string and text? just have one of them and make the control formatting go into the itemControl too?<br>
(and should itemControl come into the core definition?)</p>



<a name="241691269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/choice%20item%20rendering/near/241691269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/choice.20item.20rendering.html#241691269">(Jun 06 2021 at 13:11)</a>:</h4>
<p>I don't think those two things are correlated.  We could certainly talk about merging them, though my leaning is to put some invariants on string content and length instead.  I think it's a question of distinct data constraints, not just entry controls.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
