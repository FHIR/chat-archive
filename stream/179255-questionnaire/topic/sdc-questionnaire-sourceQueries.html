---
layout: page
title: "FHIR Chat  · sdc-questionnaire-sourceQueries · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html">sdc-questionnaire-sourceQueries</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="169677820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/169677820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#169677820">(Jul 05 2019 at 00:44)</a>:</h4>
<p>Anyone have an example that shows how to use this extension<br>
<code>http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-sourceQueries</code><br>
Specifically around the "Prior to executing, FHIRPaths embedded in the queries (referring to elements from the questionnaire-launchContext variables) SHALL be resolved"</p>



<a name="169678567"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/169678567" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#169678567">(Jul 05 2019 at 01:11)</a>:</h4>
<p>This is somewhat related to <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22803" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22803">GF#22803</a></p>



<a name="169679604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/169679604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#169679604">(Jul 05 2019 at 01:46)</a>:</h4>
<p>I've thrown together a sample of the FHIR-Path based extraction stuff.<br>
<a href="https://sqlonfhir-r4.azurewebsites.net/fhir/Questionnaire/gp-assessment-report" target="_blank" title="https://sqlonfhir-r4.azurewebsites.net/fhir/Questionnaire/gp-assessment-report">https://sqlonfhir-r4.azurewebsites.net/fhir/Questionnaire/gp-assessment-report</a><br>
<span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> , <span class="user-mention" data-user-id="195344">@Paul Lynch</span> , <span class="user-mention" data-user-id="193633">@Robinette Renner</span> Think you could take a look at it to see if this matches up to what you'd expect to see?<br>
The parts that I'm not sure on are how the prep-population query can be used in the fhirpath expressions, and also wanted to check if you all thought that my usage of launch context variables was right.</p>



<a name="169679626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/169679626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#169679626">(Jul 05 2019 at 01:47)</a>:</h4>
<p>Probably not until I get back.  Re-ping in 1.5 weeks if this is still open...</p>



<a name="169679938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/169679938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#169679938">(Jul 05 2019 at 01:58)</a>:</h4>
<p>Enjoy your "break" <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> !</p>



<a name="169730593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/169730593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#169730593">(Jul 05 2019 at 19:21)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span><br>
I see sourceQueries has to do with StructureMap population, which I have not looked at and am somewhat sorry to see there is interest in (because it means I will probably need to look at it).<br>
Regarding your tracker item, you might take a look at the resolution of mine:  <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20951&amp;start=0" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20951&amp;start=0">GF#20951</a><br>
An example of how I used launchContext is here: <a href="https://github.com/lhncbc/lforms-fhir-app/blob/master/e2e-tests/data/R4/ussg-fhp.json" target="_blank" title="https://github.com/lhncbc/lforms-fhir-app/blob/master/e2e-tests/data/R4/ussg-fhp.json">https://github.com/lhncbc/lforms-fhir-app/blob/master/e2e-tests/data/R4/ussg-fhp.json</a><br>
I think your use of launchContext is the same as mine, except I used the same name as the type, but our processing code supports any name.<br>
The one problem I spot is your syntax for embedding FHIRPath into PrePopQuery.  Per the <a href="http://build.fhir.org/ig/HL7/sdc/expressions.html#x-fhir-query-enhancements" target="_blank" title="http://build.fhir.org/ig/HL7/sdc/expressions.html#x-fhir-query-enhancements">spec</a> it should be with {{...}} instead of [...].</p>



<a name="169741936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/169741936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#169741936">(Jul 05 2019 at 23:40)</a>:</h4>
<p>Thanks, I didn't see that in there, I'll have another look now that I know what it should be, and maybe propose some clarifications.</p>



<a name="169742015"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/169742015" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#169742015">(Jul 05 2019 at 23:42)</a>:</h4>
<p>I don't plan on doing structure map, just the fhirpath, but I do need more than launch context to extract data. Hence this crossing both approaches, only missing step is the name for the bundle in the environment, which could be through the bundle id (which is what I propose in there).<br>
It's so close.</p>



<a name="169742019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/169742019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#169742019">(Jul 05 2019 at 23:43)</a>:</h4>
<p>I'll take a look at your example.</p>



<a name="169742078"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/169742078" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#169742078">(Jul 05 2019 at 23:44)</a>:</h4>
<p>Yeah, that launch context looks the same, I used a different name so that it was clearer to the reader what was going on.</p>



<a name="169742101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/169742101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#169742101">(Jul 05 2019 at 23:45)</a>:</h4>
<p>Looks like this example is mixing fhirpath and observation extraction...</p>



<a name="169742169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/169742169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#169742169">(Jul 05 2019 at 23:47)</a>:</h4>
<p>And yes, looks like my tracker has duplicate parts as with yours. I'll add some notes and reference it.</p>



<a name="169742225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/169742225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#169742225">(Jul 05 2019 at 23:48)</a>:</h4>
<p>Maybe I should also do some applying of changes to help move things along. And pull request for Lloyd/others to review.</p>



<a name="198796293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/198796293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joee Garcia <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#198796293">(May 26 2020 at 17:40)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span>, I'm helping Lloyd create examples for the SDC IG and I'm currently looking at StructureMap-based population.  Have you been able to use this approach? If so, do you have any example that I can look at? Thanks!</p>



<a name="198826253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/198826253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#198826253">(May 26 2020 at 21:52)</a>:</h4>
<p>I've done fhirpath and definition based ones, no structure map ones.</p>



<a name="198826690"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/198826690" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#198826690">(May 26 2020 at 21:57)</a>:</h4>
<p>I thought you'd said you were going to to do StructureMap.  Was it someone else?</p>



<a name="199136983"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/199136983" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#199136983">(May 29 2020 at 10:31)</a>:</h4>
<p>Must have been someone else.</p>



<a name="199502340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries/near/199502340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc-questionnaire-sourceQueries.html#199502340">(Jun 02 2020 at 14:41)</a>:</h4>
<p>I think the confusion was that <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span>  is using some pieces of the StructureMap prepopulation approach (questionnaire-launchContext and  sdc-questionnaire-sourceQueries-- two of the <a href="https://build.fhir.org/ig/HL7/sdc/populate.html#structuremap-based-population">three pieces</a>) though not questionnaire-sourceStructureMap itself.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
