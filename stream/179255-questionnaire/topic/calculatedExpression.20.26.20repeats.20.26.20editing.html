---
layout: page
title: "FHIR Chat  · calculatedExpression &amp; repeats &amp; editing · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/calculatedExpression.20.26.20repeats.20.26.20editing.html">calculatedExpression &amp; repeats &amp; editing</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="278622496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/calculatedExpression%20%26%20repeats%20%26%20editing/near/278622496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/calculatedExpression.20.26.20repeats.20.26.20editing.html#278622496">(Apr 11 2022 at 21:57)</a>:</h4>
<p>If you have a calculatedExpression that returns multiple values for a  item with repeats=true, but readOnly=false, and the user edits one of the values, should the expression stop updates to all of the field values for that item, or just the one that was edited?  Note that we do have documentation that a for a repeats=false item, the expression stops updating the field if the user edits it.</p>



<a name="278624005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/calculatedExpression%20%26%20repeats%20%26%20editing/near/278624005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/calculatedExpression.20.26.20repeats.20.26.20editing.html#278624005">(Apr 11 2022 at 22:12)</a>:</h4>
<p>I think you'd need to, but agree we should make that explicit</p>



<a name="278627007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/calculatedExpression%20%26%20repeats%20%26%20editing/near/278627007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/calculatedExpression.20.26.20repeats.20.26.20editing.html#278627007">(Apr 11 2022 at 22:47)</a>:</h4>
<p>Whether one has to depends on the UI.  For string fields, we repeat those by adding additional rows in the form, so visually each value is in a separate field, and we could allow the user to edit one and still calculate another.  Other on the other hand, for list fields, the display text of the selected items is put into "selected items" area, so that seems more like a single (multi-part) value, and it would be confusing to the user to calculate only some of those values.  I think our code will be more understandable with just taking a single approach, so I plan to stop applying calculatedExpression to the whole group of of values when one is edited,  regardless of the UI.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
