---
layout: page
title: "FHIR Chat  · SDC Workflows · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html">SDC Workflows</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="249481102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249481102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249481102">(Aug 14 2021 at 22:54)</a>:</h4>
<p>I've been going through the SDC &amp; workflow documentation, which has been really helpful, but it's missing some examples. To ensure I understand the flow as it's supposed to go, I've tried to create a couple of these examples. To start with, I have 3 questionnaires, each is named and structured the same way, as follows:</p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;Questionnaire&quot;,
    &quot;url&quot;: &quot;http://hapi.fhir.org/baseR4/Questionnaire/quest1&quot;,
    &quot;title&quot;: &quot;quest1&quot;,
    &quot;name&quot;: &quot;quest1&quot;,
    &quot;item&quot;: []
}
</code></pre></div>
<p>They are for children under 6 years old. The first is given to kids &lt; 2 yo, the first 2 are given to kids &lt; 4, and all of them if you're &gt; 4. They are referenced using a PlanDefinition Resource:</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;PlanDefinition&quot;,
  &quot;id&quot;: &quot;screening-2-4-yo&quot;,
  &quot;title&quot;: &quot;Pediatric Screening for 2-4 year olds&quot;,
  &quot;status&quot;: &quot;active&quot;,
  &quot;action&quot;: [
    {
      &quot;title&quot;: &quot;quest1&quot;,
      &quot;participant&quot;: [
        {
          &quot;type&quot;: &quot;related-person&quot;,
          &quot;role&quot;: {
            &quot;coding&quot;: [
              {
                &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/v3-RoleCode&quot;,
                &quot;code&quot;: &quot;PRN&quot;,
                &quot;display&quot;: &quot;parent&quot;
              }
            ]
          }
        },
        {
          &quot;type&quot;: &quot;patient&quot;
        }
      ],
      &quot;definitionUri&quot;: &quot;http://hapi.fhir.org/baseR4/Questionnaire/quest1&quot;
    },
    {
      &quot;title&quot;: &quot;quest2&quot;,
      &quot;participant&quot;: [
        {
          &quot;type&quot;: &quot;related-person&quot;,
          &quot;role&quot;: {
            &quot;coding&quot;: [
              {
                &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/v3-RoleCode&quot;,
                &quot;code&quot;: &quot;PRN&quot;,
                &quot;display&quot;: &quot;parent&quot;
              }
            ]
          }
        },
        {
          &quot;type&quot;: &quot;patient&quot;
        }
      ],
      &quot;definitionUri&quot;: &quot;http://hapi.fhir.org/baseR4/Questionnaire/quest2&quot;
    }
  ]
}
</code></pre></div>



<a name="249481329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249481329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249481329">(Aug 14 2021 at 23:00)</a>:</h4>
<p>So far looks ok? All of this is going to be triggered by a ServiceRequest. Because the order is going to come from an outside institution, we're going to record the order using a ServiceRequest (I probably could have just used a Task, but if we expand it in the future, or use it for official orders (with billing) we wanted to use a ServiceRequest. I think it would look like this:</p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;ServiceRequest&quot;,
    &quot;instantiatesCanonical&quot;: [
      &quot;http://hapi.fhir.org/baseR4/PlanDefinition/screening-2-4-yo&quot;
    ],
    &quot;status&quot;: &quot;active&quot;,
    &quot;intent&quot;: &quot;order&quot;,
    &quot;priority&quot;: &quot;routine&quot;,
    &quot;subject&quot;: {
      &quot;reference&quot;: &quot;Patient/surveyPatient&quot;,
      &quot;display&quot;: &quot;PatientName&quot;
    },
    &quot;authoredOn&quot;: &quot;2021-08-11T16:37:56.328247-04:00&quot;,
    &quot;requester&quot;: {
      &quot;reference&quot;: &quot;Provider/orderingProvider&quot;,
      &quot;display&quot;: &quot;Organization Name&quot;
    },
    &quot;performer&quot;: [
      {
        &quot;reference&quot;: &quot;Patient/surveyPatient&quot;,
        &quot;display&quot;: &quot;PatientName&quot;
      }
    ]
  }
</code></pre></div>



<a name="249481556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249481556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249481556">(Aug 14 2021 at 23:07)</a>:</h4>
<p>So I think my first specific question is how to pick the PlanDefinition for a specific age group, assuming we have the following:</p>
<ol>
<li>"<a href="http://hapi.fhir.org/baseR4/PlanDefinition/screening-1-2-yo">http://hapi.fhir.org/baseR4/PlanDefinition/screening-1-2-yo</a>"</li>
<li>"<a href="http://hapi.fhir.org/baseR4/PlanDefinition/screening-2-3-yo">http://hapi.fhir.org/baseR4/PlanDefinition/screening-2-3-yo</a>"</li>
<li>"<a href="http://hapi.fhir.org/baseR4/PlanDefinition/screening-4-5-yo">http://hapi.fhir.org/baseR4/PlanDefinition/screening-4-5-yo</a>"</li>
</ol>
<p>Does that happen at this step, should it go in the PlanDefinition, or in a Task, which is about to be created?</p>



<a name="249481791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249481791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249481791">(Aug 14 2021 at 23:15)</a>:</h4>
<p>And from these a Task will be created. Now with this, is it better to create an Overarching task, with a smaller task for each individual questionnaire, or to put all questionnaires in a single task? Currently I'm keeping track of them as a single Task, like this:</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;Task&quot;,
  &quot;status&quot;: &quot;requested&quot;,
  &quot;intent&quot;: &quot;order&quot;,
  &quot;requester&quot;: {
    &quot;reference&quot;: &quot;Practitioner/Alguien&quot;
  },
  &quot;input&quot;: [
    {
      &quot;type&quot;: {
        &quot;coding&quot;: [
          {
            &quot;system&quot;: &quot;http://hl7.org/fhir/uv/sdc/CodeSystem/temp&quot;,
            &quot;code&quot;: &quot;questionnaire&quot;
          }
        ]
      },
      &quot;valueCanonical&quot;: &quot;http://hapi.fhir.org/baseR4/Questionnaire/quest1&quot;
    },
    {
      &quot;type&quot;: {
        &quot;coding&quot;: [
          {
            &quot;system&quot;: &quot;http://hl7.org/fhir/uv/sdc/CodeSystem/temp&quot;,
            &quot;code&quot;: &quot;questionnaire&quot;
          }
        ]
      },
      &quot;valueCanonical&quot;: &quot;http://hapi.fhir.org/baseR4/Questionnaire/quest2&quot;
    }
  ]
}
</code></pre></div>



<a name="249481853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249481853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249481853">(Aug 14 2021 at 23:16)</a>:</h4>
<p>I started the other way by creating a Task resource<br>
I started off by creating a Task conforming to the <a href="http://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-task.html">http://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-task.html</a></p>



<a name="249481918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249481918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249481918">(Aug 14 2021 at 23:18)</a>:</h4>
<p>Here is my Task resource<br>
{<br>
    "resourceType": "Task",<br>
    "id": "questionnairetask",<br>
    "meta": {<br>
        "profile": [<br>
            "<a href="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-task">http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-task</a>"<br>
        ]<br>
    },<br>
    "status": "requested",<br>
    "intent": "order",<br>
    "code": {<br>
        "coding": [{<br>
            "system": "<a href="http://hl7.org/fhir/uv/sdc/CodeSystem/temp">http://hl7.org/fhir/uv/sdc/CodeSystem/temp</a>",<br>
            "code": "complete-questionnaire"<br>
        }],<br>
        "text": "My Tasks"<br>
    },<br>
    "for": {<br>
        "reference": "Patient/2506029"<br>
    },<br>
    "authoredOn": "2016-03-10T22:39:32-04:00",<br>
    "lastModified": "2016-03-10T22:39:32-04:00",<br>
    "requester": {<br>
        "reference": "Practitioner/2506125"<br>
    },<br>
    "owner": {<br>
        "reference": "Patient/2506029"<br>
    },<br>
    "reasonCode": {<br>
        "text": "The Task is performed to render questionnaire and post the questionnaire response"<br>
    },<br>
    "input": [{<br>
            "type": {<br>
                "coding": [{<br>
                    "system": "<a href="http://hl7.org/fhir/uv/sdc/CodeSystem/temp">http://hl7.org/fhir/uv/sdc/CodeSystem/temp</a>",<br>
                    "code": "questionnaire"<br>
                }]<br>
            },<br>
            "valueUrl": "<a href="http://hapi.fhir.org/baseR4/Questionnaire/2506046/">http://hapi.fhir.org/baseR4/Questionnaire/2506046/</a>"<br>
        },<br>
        {<br>
            "type": {<br>
                "coding": [{<br>
                    "system": "<a href="http://hl7.org/fhir/uv/sdc/CodeSystem/temp">http://hl7.org/fhir/uv/sdc/CodeSystem/temp</a>",<br>
                    "code": "response-endpoint"<br>
                }]<br>
            },<br>
            "valueUrl": "<a href="http://hapi.fhir.org/baseR4/">http://hapi.fhir.org/baseR4/</a>"<br>
        }<br>
    ]<br>
}</p>



<a name="249481978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249481978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249481978">(Aug 14 2021 at 23:20)</a>:</h4>
<p>I was thinking of querying the Task resource for a particular patient from my client<br>
<a href="http://hapi.fhir.org/baseR4/Task?status=requested&amp;intent=order&amp;requester:Practitioner.identifier=12345678901">http://hapi.fhir.org/baseR4/Task?status=requested&amp;intent=order&amp;requester:Practitioner.identifier=12345678901</a></p>



<a name="249482000"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249482000" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249482000">(Aug 14 2021 at 23:21)</a>:</h4>
<p>Actually that does remind me of another question. Who is the owner? I know officially it's: "Individual organization or Device currently responsible for task execution." But does that mean the patient who is completing it? If it's a child would it be the parent? If we're providing this task as a service, would WE be the owner? Would it be whoever ordered it?</p>



<a name="249482039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249482039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249482039">(Aug 14 2021 at 23:22)</a>:</h4>
<p>I would think the owner is the Organization</p>



<a name="249482106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249482106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249482106">(Aug 14 2021 at 23:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="194383">Ozair Bajwa</span> <a href="#narrow/stream/179255-questionnaire/topic/SDC.20Workflows/near/249481978">said</a>:</p>
<blockquote>
<p>I was thinking of querying the Task resource for a particular patient from my client<br>
<a href="http://hapi.fhir.org/baseR4/Task?status=requested&amp;intent=order&amp;requester:Practitioner.identifier=12345678901">http://hapi.fhir.org/baseR4/Task?status=requested&amp;intent=order&amp;requester:Practitioner.identifier=12345678901</a></p>
</blockquote>
<p>So this search should find all tasks where that Practitioner is the one who requested it, but what if the Practitioner ordered a questionnaire to be completed and a lipid panel to be done? How do you think it's best to differentiate between the two?</p>



<a name="249482114"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249482114" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249482114">(Aug 14 2021 at 23:25)</a>:</h4>
<p>Also, how does your task know which Questionnaire to include? How is that information passed to it?</p>



<a name="249482178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249482178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249482178">(Aug 14 2021 at 23:27)</a>:</h4>
<p>Basically I was thinking there will be multiple Tasks for each questionnaire and patient. which is owned by an Organization etc. and each user/patient will poll for the Task resources assigned to it by different flags, once the task is retrieved the status of the Task can be updated to "Accepted" and the QuestionnaireResponse will be be generated and the Task will be updated (Task.output) to link to the QuestionnaireResponse</p>



<a name="249482220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249482220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249482220">(Aug 14 2021 at 23:28)</a>:</h4>
<p>Will the flags be inside the Task?</p>



<a name="249482227"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249482227" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249482227">(Aug 14 2021 at 23:28)</a>:</h4>
<p>I am sure how to define the PlanDefinition, Actions (threshold, timing etc.) and tie them to my Tasks. May be you have done that part already</p>



<a name="249482241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249482241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249482241">(Aug 14 2021 at 23:29)</a>:</h4>
<p>The flags will be put of the query and we can use all searchable parameters as part of the Task resource</p>



<a name="249482301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249482301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249482301">(Aug 14 2021 at 23:31)</a>:</h4>
<p>Sorry I meant part of the query</p>



<a name="249482309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249482309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249482309">(Aug 14 2021 at 23:31)</a>:</h4>
<p>Could you post an example of that?</p>



<a name="249482485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249482485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249482485">(Aug 14 2021 at 23:37)</a>:</h4>
<p>Here is what I tried<br>
<a href="http://hapi.fhir.org/baseR4/Task?status=accepted&amp;intent=order&amp;requester:Practitioner.identifier=12345678901">http://hapi.fhir.org/baseR4/Task?status=accepted&amp;intent=order&amp;requester:Practitioner.identifier=12345678901</a></p>



<a name="249482502"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249482502" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249482502">(Aug 14 2021 at 23:37)</a>:</h4>
<p>Looking for all Tasks with status (accepted), intent (order) and requested by a Practitioner</p>



<a name="249482565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249482565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249482565">(Aug 14 2021 at 23:39)</a>:</h4>
<p>But then you still have to look through all of the tasks to see if they're appropriate for your service</p>



<a name="249482749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249482749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249482749">(Aug 14 2021 at 23:45)</a>:</h4>
<p>Yeah I would think so. Task is a sort of a shared resource, can be update by multiple systems. One would have to poll the Task Queue to determine the tasks that it can execute. Once the Task has been posted it can be cancelled, suspended by the owner so there would have to be a polling mechanism</p>



<a name="249482760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249482760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249482760">(Aug 14 2021 at 23:45)</a>:</h4>
<p>Again this is my understanding</p>



<a name="249517248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249517248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249517248">(Aug 15 2021 at 15:08)</a>:</h4>
<p>I would definitely recommend a separate Task for each Questionnaire - as the status for each of them could be different.  You <em>could</em>, if there was value, have a parent Task that grouped all of the others.  The owner of the Task should be the individual who's supposed to do it.  That might just be a contained RelatedPerson that says "some parent of Patient xyz", though searching for those won't be easy.  Assigning it to a specific individual is easier to search, but then you're picking one person when you might not care which parent/guardian completes the form.  The third option is to assign it to a Group which includes all guardians for the child, presuming you expect people to be able to search for the group.</p>



<a name="249519340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249519340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249519340">(Aug 15 2021 at 16:00)</a>:</h4>
<p>We had also discussed using RequestGroup instead of an overall Task, would that make more sense?</p>



<a name="249521782"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249521782" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249521782">(Aug 15 2021 at 17:00)</a>:</h4>
<p>RequestGroup is for when there's a complex action that has a single status and where the parts are inseparable.  I don't think that would make sense here as the status for each of the Questionnaires could be different.  It's more for orders where if you cancel one part, you must also cancel the other part.</p>



<a name="249542249"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249542249" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249542249">(Aug 16 2021 at 02:26)</a>:</h4>
<p>Here are two ER diagrams that we have been working with. Again, trying to put here to post examples that may be helpful. <a href="/user_uploads/10155/U9V0X2AAmWuSCBk_SceF1Ioa/NJInCK-Portal-Specification-ED-Order-v1.png">NJInCK-Portal-Specification-ED-Order-v1.png</a> <a href="/user_uploads/10155/nN2TcvJQOd4bZ05vbIcblxD3/NJInCK-Portal-Specification-ED-Order-v2.png">NJInCK-Portal-Specification-ED-Order-v2.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/U9V0X2AAmWuSCBk_SceF1Ioa/NJInCK-Portal-Specification-ED-Order-v1.png" title="NJInCK-Portal-Specification-ED-Order-v1.png"><img src="/user_uploads/10155/U9V0X2AAmWuSCBk_SceF1Ioa/NJInCK-Portal-Specification-ED-Order-v1.png"></a></div><div class="message_inline_image"><a href="/user_uploads/10155/nN2TcvJQOd4bZ05vbIcblxD3/NJInCK-Portal-Specification-ED-Order-v2.png" title="NJInCK-Portal-Specification-ED-Order-v2.png"><img src="/user_uploads/10155/nN2TcvJQOd4bZ05vbIcblxD3/NJInCK-Portal-Specification-ED-Order-v2.png"></a></div>



<a name="249544233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249544233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249544233">(Aug 16 2021 at 03:19)</a>:</h4>
<p>I am looking at the PlanDefinition. It is still a little vague to me. The Guide does not have many relevant examples. I was thinking of going with the approach of Different Tasks for each Questionnaire. So 5 tasks for 5 questionnaires. How will that map to the PlanDefiniition, looking at your Diagram it says 1 to many relationship to the Questionnaires</p>



<a name="249544343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249544343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249544343">(Aug 16 2021 at 03:23)</a>:</h4>
<p>On the PlanDefinition page <a href="http://hl7.org/fhir/R4/plandefinition.html">http://hl7.org/fhir/R4/plandefinition.html</a><br>
Under Applying a PlanDefinition Section it says <br>
Questionnaire: Set the resource element of the action to the Questionnaire, indicating that the activity to be performed is filling out the given questionnaire</p>



<a name="249544558"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249544558" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249544558">(Aug 16 2021 at 03:29)</a>:</h4>
<p>Under the action there are trigger and condition attributes. Can we use those to trigger/start the process</p>



<a name="249588419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249588419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249588419">(Aug 16 2021 at 13:30)</a>:</h4>
<p><span class="user-mention" data-user-id="235060">@Grey Faulkenberry</span> A few comments:</p>
<ul>
<li>Person is never allowed to be owner of Task.  (In fact, Person isn't allowed to be referenced anywhere - Person is used to link resources, it can't ever be an actor.  Human/animal actors are always one of Patient, RelatedPerson or Practitioner.)</li>
<li>The link from Task to Questionnaire is going to be 1..1.  If you want multiple Questionnaires to be completed, you'll need multiple Tasks.  (Because completion of each response will be tracked independently.  One could be completed while another is refused.)</li>
<li>RequestGroup means that the individual ServiceRequests can't have an independent status.  I.e. they can't be cancelled, put on hold or marked as complete except as a group - that seems unusual?</li>
<li>The use of ServiceRequest is optional.  You can ask people to fill out forms without there being a formal authorization (i.e. a ServiceRequest).  It's fine to support it, but be sure you need it before making it mandatory</li>
<li>You might want to point to ActivityDefinitions rather than PlanDefinition so that you can refer to the specific aspects of the PlanDefinition that refer to the step for that particular form.  However, that's also not critical because the Task will indicate the Questionnaire.</li>
</ul>



<a name="249609169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249609169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249609169">(Aug 16 2021 at 16:08)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> , does this look closer to how the resources should be linked? <a href="/user_uploads/10155/XRtkH5M8lOeGf92hzRdbJBMR/Fhir-Workflow-1.png">Fhir-Workflow-1.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/XRtkH5M8lOeGf92hzRdbJBMR/Fhir-Workflow-1.png" title="Fhir-Workflow-1.png"><img src="/user_uploads/10155/XRtkH5M8lOeGf92hzRdbJBMR/Fhir-Workflow-1.png"></a></div>



<a name="249610221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249610221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249610221">(Aug 16 2021 at 16:17)</a>:</h4>
<p>I don't understand what 'Order' is.  While you <em>can</em> have a Task that just says "instantiate plan XYZ", that's a level of sophistication that many fillers won't have.  It's really a question of how much work do you expect the requesting system to do, vs. how much do you expect the filling system to do.  For simple clients, just giving them the simple Tasks of "Fill out form 1", "Fill out form 2", etc. is going to work better than "Please instantiate protocol 123" and having them figure out that means generating sub-tasks to fill out each form.  However, if your clients are sophisticated enough to manage the process, then yes, the layout you've described is viable.</p>



<a name="249610573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249610573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249610573">(Aug 16 2021 at 16:20)</a>:</h4>
<p>Sorry, the order is the request from outside the system that is going to trigger the workflow</p>



<a name="249610795"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249610795" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249610795">(Aug 16 2021 at 16:22)</a>:</h4>
<p>We're actually going to be the ones implementing this whole workflow, so we can make them more sophisticated where needed. I'm just trying to decide how to stay within the FHIR specs as much as possible, and ensure we're following the SDC workflow correctly.</p>



<a name="249611106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249611106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249611106">(Aug 16 2021 at 16:25)</a>:</h4>
<p>(I'm hoping that by having as much of the workflow as possible within the FHIR resources, it can make us more flexible when working with other systems)</p>



<a name="249612228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249612228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249612228">(Aug 16 2021 at 16:33)</a>:</h4>
<p>Request from outside can/should still be represented as a ServiceRequest.</p>
<p>SDC doesn't really get into linkage to PlanDefinition/ActivityDefinition at all.  It's primarily focused on the detailed Task that says "please fill out form X"  The higher level protocol stuff isn't really Questionnaire-specific.</p>



<a name="249612866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249612866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249612866">(Aug 16 2021 at 16:38)</a>:</h4>
<p>Is there somewhere else that would be better for me to look regarding this workflow? (or at least a different heading for this stream?)</p>



<a name="249612991"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249612991" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249612991">(Aug 16 2021 at 16:39)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span></p>



<a name="249631250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249631250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249631250">(Aug 16 2021 at 18:55)</a>:</h4>
<p>The FHIR Clinical Guidelines IG provides several different profiles of PlanDefinition to support different process modeling, a pathway for longitudinal processes, a strategy for processes related to a particular focus (such as an encounter or a procedure), and a recommendation for rules such as decision support logic. There's a discussion of workflow in CPG here: <a href="https://hl7.org/fhir/uv/cpg/documentation-approach-12-06-cpg-common-pathway.html">https://hl7.org/fhir/uv/cpg/documentation-approach-12-06-cpg-common-pathway.html</a></p>



<a name="249658594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249658594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249658594">(Aug 16 2021 at 22:51)</a>:</h4>
<p>My workflow is similar to <span class="user-mention" data-user-id="235060">@Grey Faulkenberry</span> except the trigger for the Tasks. <br>
I have multiple questionnaires each tied to a Task. I am thinking of a PlanDefiintion with multiple actions for each questionnaire. However the client/Form Filler will be a rendered a specific questionnaire based on a certain predefined criteria/threshold. Client will be interfacing with a Personal Health Device or access other resources at its disposal to gather the Vitals, Pulse etc. Now if one of the measurements generates a trigger (i.e. pulse is more than 100) then a specific questionnaire will be rendered and filled. The rest of the workflow should be similar. Where will the trigger conditions of the workflow defined? I see trigger and condition elements under action, is that where this is defined? I could not find any relevant examples.</p>



<a name="249660828"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249660828" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249660828">(Aug 16 2021 at 23:18)</a>:</h4>
<p>if I am able to handle all trigger data from within the app (e.g. access to all measurements). Would it be acceptable to isolate that logic from within the workflow to the app itself?</p>



<a name="249668652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/249668652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#249668652">(Aug 17 2021 at 01:26)</a>:</h4>
<p>You don't have to represent the logic in a PlanDefinition.  The only reason for doing that is if the logic needs to be shared to multiple other systems.  You probably want a separate Task for each Questionnaire, as you'd want to monitor the completion of each independently.</p>



<a name="267285061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/267285061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#267285061">(Jan 08 2022 at 08:54)</a>:</h4>
<p>I'm creating a UI for Task at the moment and discovered that there is a lastModified property in it as well as the lastUpdated in the meta, what's the difference?<br>
And when would you not update the lastModified - or is that for when you're distibuting the task between servers (and the lastModified is the lastUpdated from the source system?)</p>



<a name="267377514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/SDC%20Workflows/near/267377514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/SDC.20Workflows.html#267377514">(Jan 09 2022 at 21:00)</a>:</h4>
<p>I guess lastUpdated is server-specific, while lastUpdated would be across servers.  Though I don't know that Tasks will typically live on multiple servers...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
