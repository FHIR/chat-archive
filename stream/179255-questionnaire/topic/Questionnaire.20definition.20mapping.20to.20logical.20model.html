---
layout: page
title: "FHIR Chat  · Questionnaire definition mapping to logical model · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html">Questionnaire definition mapping to logical model</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="213744565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/213744565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#213744565">(Oct 19 2020 at 05:25)</a>:</h4>
<p>I have a questionnaire that includes, among other questions, a choice item bound to a valueset, and a text item for "other, please specify". I also have a logical model that contains the definitions for the various questions. It seems to me that the representation for these two questions in the logical model should be a CodeableConcept, with the choice item defined by the CodeableConcept.coding and the "other" text defined by CodeableConcept.text. However, it doesn't appear to be possible for a definition to go further than the logical model's path element and "into" attributes of the datatype. <br>
How are others handling this limitation? Am I approaching this wrong?</p>



<a name="213744695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/213744695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#213744695">(Oct 19 2020 at 05:30)</a>:</h4>
<p>Similarly, I want to define another questionnaire item "end date" as mapping to the end date of a logical model item which is a Period.</p>



<a name="213790823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/213790823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#213790823">(Oct 19 2020 at 14:10)</a>:</h4>
<p>When you say "it doesn't appear to be possible", where are you running into issues?  For the second, presumably you'd map to Period.end?</p>



<a name="213837876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/213837876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#213837876">(Oct 19 2020 at 20:06)</a>:</h4>
<p>In my fsh logical model, I have:</p>
<div class="codehilite" data-code-language="fsh"><pre><span></span><code>* differential.element[74].id = "DataDictionary.outcome.patientCourse.status"
* differential.element[74].path = "DataDictionary.outcome.patientCourse.status"
* differential.element[74].short = "Patient status (outcome)"
* differential.element[74].definition = "Patient status (outcome)"
* differential.element[74].type.code = #CodeableConcept
...
</code></pre></div>

<p>Then, in my Questionnaire, I have:</p>
<div class="codehilite"><pre><span></span><code>* item[7].item[5].linkId  = &quot;outcome_patcourse_status&quot;
* item[7].item[5].text    = &quot;Health Outcome:&quot;
* item[7].item[5].type    = #choice
* item[7].item[5].answerValueSet = Canonical(ValueSetPatientOutcome)
* item[7].item[5].definition    = &quot;http://www.example.com/fhir/cr/StructureDefinition/DataDictionary#DataDictionary.outcome.patientCourse.status&quot;

* item[7].item[6].linkId  = &quot;outcome_patcourse_status_other&quot;
* item[7].item[6].text    = &quot;If other, please explain:&quot;
* item[7].item[6].type    = #string
* item[7].item[6].enableWhen[0].question  = &quot;outcome_patcourse_status&quot;
* item[7].item[6].enableWhen[0].operator  = #=
* item[7].item[6].enableWhen[0].answerCoding = CodeSystemPatientOutcome#OTHER
* item[7].item[6].definition    = &quot;http://www.example.com/fhir/cr/StructureDefinition/DataDictionary#DataDictionary.outcome.patientCourse.status&quot;
</code></pre></div>


<p>Is there a way to say that the first questionnaire item is defined by the status.coding, while the second questionnaire item is defined by status.text? Tacking ".coding" and ".text" onto the end of the definition urls gives IG publisher errors (link cannot be resolved).</p>



<a name="213854705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/213854705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#213854705">(Oct 19 2020 at 22:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span></p>



<a name="213855393"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/213855393" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#213855393">(Oct 19 2020 at 22:39)</a>:</h4>
<p>Yes, I would be adding that on the end.</p>



<a name="213855514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/213855514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#213855514">(Oct 19 2020 at 22:40)</a>:</h4>
<p>I believe that walking into properties of the datatype is perfectly fine. Otherwise you wouldn't be able to use any complex datatypes like contact or identifier with definitions.</p>



<a name="213855648"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/213855648" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#213855648">(Oct 19 2020 at 22:42)</a>:</h4>
<p>Yeah, that's kinda what I thought. So, am I expressing it wrong, or is this a publisher error?</p>



<a name="213855787"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/213855787" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#213855787">(Oct 19 2020 at 22:44)</a>:</h4>
<p>Here's an example (not real) that does it<br>
<a href="https://sqlonfhir-r4.azurewebsites.net/fhir/Questionnaire/prac-ext-demo">https://sqlonfhir-r4.azurewebsites.net/fhir/Questionnaire/prac-ext-demo</a></p>



<a name="213855808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/213855808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#213855808">(Oct 19 2020 at 22:44)</a>:</h4>
<p>Haven't tried putting one of them into the publisher.</p>



<a name="213855990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/213855990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#213855990">(Oct 19 2020 at 22:46)</a>:</h4>
<p>And this is the profile that was "referenced" by the definitions<br>
<a href="https://sqlonfhir-r4.azurewebsites.net/fhir/StructureDefinition/hcxdir-practitioner">https://sqlonfhir-r4.azurewebsites.net/fhir/StructureDefinition/hcxdir-practitioner</a></p>



<a name="213856018"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/213856018" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#213856018">(Oct 19 2020 at 22:46)</a>:</h4>
<p>Hmm, is that the same though? I'm referencing something inside a logical model, not a resource or profile definition. I wonder if it matters what kind of StructureDefinition is used?</p>



<a name="213856042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/213856042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#213856042">(Oct 19 2020 at 22:47)</a>:</h4>
<p>I'd be suggesting it should be the same...</p>



<a name="213856064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/213856064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#213856064">(Oct 19 2020 at 22:47)</a>:</h4>
<p>I would have thought so.</p>



<a name="213856090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/213856090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#213856090">(Oct 19 2020 at 22:47)</a>:</h4>
<p>Your direct question I think is can you walk into paths from a datatype that are not in the snapshot (or definition) - when referencing an element in a structure definition.</p>



<a name="216032931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/216032931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#216032931">(Nov 09 2020 at 00:12)</a>:</h4>
<p>I'm still getting this and have no idea how to troubleshoot. It doesn't make sense to me.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
