---
layout: page
title: "FHIR Chat  · Can valueExpression be missing from calculatedExpression? · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Can.20valueExpression.20be.20missing.20from.20calculatedExpression.3F.html">Can valueExpression be missing from calculatedExpression?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154024525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Can%20valueExpression%20be%20missing%20from%20calculatedExpression%3F/near/154024525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Can.20valueExpression.20be.20missing.20from.20calculatedExpression.3F.html#154024525">(Dec 11 2018 at 19:17)</a>:</h4>
<p>I might be misunderstanding the intent of the cardinality indicators in <a href="http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html" target="_blank" title="http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html">http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html</a>, but it looks like, within the calculatedExpression extension, the "valueExpression" property has as a cardinality of 0..1.  Do we really want to allow it to be missing?</p>



<a name="154024631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Can%20valueExpression%20be%20missing%20from%20calculatedExpression%3F/near/154024631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Can.20valueExpression.20be.20missing.20from.20calculatedExpression.3F.html#154024631">(Dec 11 2018 at 21:56)</a>:</h4>
<p>there are valid uses generally for expression to be missing</p>



<a name="154024644"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Can%20valueExpression%20be%20missing%20from%20calculatedExpression%3F/near/154024644" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Can.20valueExpression.20be.20missing.20from.20calculatedExpression.3F.html#154024644">(Dec 11 2018 at 22:14)</a>:</h4>
<p>There's valid reasons for the extension to be missing.  But if the extension is present the value should have to be present (given that extensions are prohibited)</p>



<a name="154024645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Can%20valueExpression%20be%20missing%20from%20calculatedExpression%3F/near/154024645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Can.20valueExpression.20be.20missing.20from.20calculatedExpression.3F.html#154024645">(Dec 11 2018 at 22:14)</a>:</h4>
<p>In practice, the requirement that the extension has to have a child will force the valueExpression to be present regardless, but we may as well make that explicit.</p>



<a name="154025393"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Can%20valueExpression%20be%20missing%20from%20calculatedExpression%3F/near/154025393" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Can.20valueExpression.20be.20missing.20from.20calculatedExpression.3F.html#154025393">(Dec 13 2018 at 17:35)</a>:</h4>
<p><a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19769" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19769">GF#19769</a></p>



<a name="154025424"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Can%20valueExpression%20be%20missing%20from%20calculatedExpression%3F/near/154025424" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Can.20valueExpression.20be.20missing.20from.20calculatedExpression.3F.html#154025424">(Dec 13 2018 at 19:55)</a>:</h4>
<p>yes it can be missing, but it's not very useful, particularly in the context of a questionnaire</p>



<a name="154025478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Can%20valueExpression%20be%20missing%20from%20calculatedExpression%3F/near/154025478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Can.20valueExpression.20be.20missing.20from.20calculatedExpression.3F.html#154025478">(Dec 13 2018 at 21:28)</a>:</h4>
<p>This extension is specific to Questionnaire (the full name being "questionnaire-calculatedExpression"), so if it is not useful for it to be missing in that context, why allow it?</p>



<a name="154025479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Can%20valueExpression%20be%20missing%20from%20calculatedExpression%3F/near/154025479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Can.20valueExpression.20be.20missing.20from.20calculatedExpression.3F.html#154025479">(Dec 13 2018 at 21:30)</a>:</h4>
<p>I am ok with Expression.expression being required on the extension, yes</p>



<a name="154025514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Can%20valueExpression%20be%20missing%20from%20calculatedExpression%3F/near/154025514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Can.20valueExpression.20be.20missing.20from.20calculatedExpression.3F.html#154025514">(Dec 13 2018 at 23:08)</a>:</h4>
<p>The value can't be missing.  Extension only allows id, extension and value.  And in this case, extension is prohibited.  The rules require that an element have a descendant other than id, so value has no choice but to be present if the extension is present.</p>



<a name="154025534"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Can%20valueExpression%20be%20missing%20from%20calculatedExpression%3F/near/154025534" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Can.20valueExpression.20be.20missing.20from.20calculatedExpression.3F.html#154025534">(Dec 13 2018 at 23:54)</a>:</h4>
<p>that's not the question. Paul is asking about valueExpression.expression</p>



<a name="154025664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Can%20valueExpression%20be%20missing%20from%20calculatedExpression%3F/near/154025664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Can.20valueExpression.20be.20missing.20from.20calculatedExpression.3F.html#154025664">(Dec 14 2018 at 16:29)</a>:</h4>
<p>Actually, no.  I was asking about valueExpression being missing from the questionnaire-calculatedExpression extension.  I was looking at the page <a href="http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html" target="_blank" title="http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html">http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html</a>, on the "Full Structure" tab, which shows 0..1 for valueExpression.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
