---
layout: page
title: "FHIR Chat  · Editing a questionnaire response · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Editing.20a.20questionnaire.20response.html">Editing a questionnaire response</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="264653618"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Editing%20a%20questionnaire%20response/near/264653618" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Editing.20a.20questionnaire.20response.html#264653618">(Dec 13 2021 at 00:59)</a>:</h4>
<p>A. When the form filler (eg. LHC Forms)  merges a questionnaire response with a questionnaire, what are the expectations for behavior if there is a mismatch such as a questionnaire response has the question as a string but the questionnaire definition has this now as a dropdown?  Or do you prevent mismatches by storing (in the questionnaire ID element of the questionnaire response) the entire url of the questionnaire used to create the qr including the version?</p>
<p>I know that when we call the utility method to do the merge, we reference the form definitions for the questionnaire used to create the qr, but we didn't ever consider mismatches between the latest questionnaire version and the version when the questionnaire was created.  Ideally, the questionnaire should be stable, so the shouldn't be many changes from year to year, but it is something to think about.</p>
<p>B. Is it part of the spec that the questionnaire response is supposed to be populated by the form filler when the questionnaire response is submitted?  I don't see that happening, but maybe there is a setting in LHC-Forms parameters for the method that I don't have enabled?  If LHC-Forms doesn't do this when the form is submitted, then I guess our software should add functionality to add questionnaire ID to the questionnaire response?</p>



<a name="264662292"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Editing%20a%20questionnaire%20response/near/264662292" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Editing.20a.20questionnaire.20response.html#264662292">(Dec 13 2021 at 04:17)</a>:</h4>
<p>That is a canonical URL, not a reference, and yes, we do recommend putting the version on the end<br>
e.g. <a href="https://lforms-fhir.nlm.nih.gov/baseR4/Questionnaire/55418-8-x|0.2.0">https://lforms-fhir.nlm.nih.gov/baseR4/Questionnaire/55418-8-x|0.2.0</a></p>



<a name="264663211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Editing%20a%20questionnaire%20response/near/264663211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Editing.20a.20questionnaire.20response.html#264663211">(Dec 13 2021 at 04:41)</a>:</h4>
<p>Thanks for pointing out the canonical URL with the bar for the version!</p>



<a name="264737256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Editing%20a%20questionnaire%20response/near/264737256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Editing.20a.20questionnaire.20response.html#264737256">(Dec 13 2021 at 17:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="237340">Diane</span> <a href="#narrow/stream/179255-questionnaire/topic/Editing.20a.20questionnaire.20response/near/264653618">said</a>:</p>
<blockquote>
<p>B. Is it part of the spec that the questionnaire response is supposed to be populated by the form filler when the questionnaire response is submitted?  I don't see that happening, but maybe there is a setting in LHC-Forms parameters for the method that I don't have enabled?  If LHC-Forms doesn't do this when the form is submitted, then I guess our software should add functionality to add questionnaire ID to the questionnaire response?</p>
</blockquote>
<p>LHC-Forms does leave it up to the application to set QuestionnaireResponse.questionnaire on the response it generates.  The reason it does that is that there are some situations in which only the application knows what the questionnaire canonical should be-- for instance, if the user has uploaded a new Questionnaire into the app which needs to be saved to the FHIR server prior to saving the QuestionnaireResponse.</p>



<a name="264761262"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Editing%20a%20questionnaire%20response/near/264761262" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Editing.20a.20questionnaire.20response.html#264761262">(Dec 13 2021 at 19:58)</a>:</h4>
<p>Thanks. This makes sense.</p>



<a name="265556798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Editing%20a%20questionnaire%20response/near/265556798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jing Tang <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Editing.20a.20questionnaire.20response.html#265556798">(Dec 20 2021 at 12:36)</a>:</h4>
<p>Looking at this example: <a href="http://www.hl7.org/fhir/questionnaireresponse-example-gcs.json.html">http://www.hl7.org/fhir/questionnaireresponse-example-gcs.json.html</a> the questionnaire field is set to a questionnaire id ("Questionnaire/gcs") rather than a canonical url in the corresponding questionnaire <a href="http://www.hl7.org/fhir/questionnaire-example-gcs.json.html">http://www.hl7.org/fhir/questionnaire-example-gcs.json.html</a> - should this be corrected?</p>



<a name="265576222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Editing%20a%20questionnaire%20response/near/265576222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Editing.20a.20questionnaire.20response.html#265576222">(Dec 20 2021 at 15:18)</a>:</h4>
<p>Yes it should.  Can you submit a change request <span class="user-mention" data-user-id="366686">@Jing Tang</span>?</p>



<a name="265594377"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/Editing%20a%20questionnaire%20response/near/265594377" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jing Tang <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/Editing.20a.20questionnaire.20response.html#265594377">(Dec 20 2021 at 17:41)</a>:</h4>
<p>done <a href="https://jira.hl7.org/browse/FHIR-34530">https://jira.hl7.org/browse/FHIR-34530</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
