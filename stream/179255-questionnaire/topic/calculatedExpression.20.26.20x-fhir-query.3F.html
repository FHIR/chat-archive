---
layout: page
title: "FHIR Chat  · calculatedExpression &amp; x-fhir-query? · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/calculatedExpression.20.26.20x-fhir-query.3F.html">calculatedExpression &amp; x-fhir-query?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="212823738"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/calculatedExpression%20%26%20x-fhir-query%3F/near/212823738" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/calculatedExpression.20.26.20x-fhir-query.3F.html#212823738">(Oct 09 2020 at 13:15)</a>:</h4>
<p>I think the purpose of allowing x-fhir-query expressions for calculatedExpression was for item type=reference.  However, I am not sure how that works.  An x-fhir-query will return a Resource (or a Bundle, or the result of an operation), but a Reference is basically a URI with a display string, and not the whole resource the URI points to.</p>



<a name="212824529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/calculatedExpression%20%26%20x-fhir-query%3F/near/212824529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/calculatedExpression.20.26.20x-fhir-query.3F.html#212824529">(Oct 09 2020 at 13:22)</a>:</h4>
<p>Right, but the drop-down would need to contain information about the referenced resource.  The extension we used to use to constrain what is pointed to was a query too</p>



<a name="212825302"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/calculatedExpression%20%26%20x-fhir-query%3F/near/212825302" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/calculatedExpression.20.26.20x-fhir-query.3F.html#212825302">(Oct 09 2020 at 13:29)</a>:</h4>
<p>So, then the form renderer needs to construct a Reference from the returned Resource?  How does it know what to use for the display string?  Or is that up to the renderer?</p>



<a name="212825486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/calculatedExpression%20%26%20x-fhir-query%3F/near/212825486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/calculatedExpression.20.26.20x-fhir-query.3F.html#212825486">(Oct 09 2020 at 13:31)</a>:</h4>
<p>We provide guidance in the columns extension about what should go in the display.  In the absence of that, yes - it would be up to the renderer - or more specifically, the system that captures the response.</p>



<a name="212827228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/calculatedExpression%20%26%20x-fhir-query%3F/near/212827228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/calculatedExpression.20.26.20x-fhir-query.3F.html#212827228">(Oct 09 2020 at 13:45)</a>:</h4>
<p>The choiceColumn extension controls what goes into the columns of a multi-column drop down list, which would be useful in displaying a list of resources, but I don't see how it controls the format (or the content) of what goes into Reference.display after the user picks an item.  Is that just up to the implementation?</p>



<a name="212834512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/calculatedExpression%20%26%20x-fhir-query%3F/near/212834512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/calculatedExpression.20.26.20x-fhir-query.3F.html#212834512">(Oct 09 2020 at 14:40)</a>:</h4>
<p>There's a property on that extension that indicates if the column value should go in the display</p>



<a name="212834815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/calculatedExpression%20%26%20x-fhir-query%3F/near/212834815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/calculatedExpression.20.26.20x-fhir-query.3F.html#212834815">(Oct 09 2020 at 14:43)</a>:</h4>
<p>I missed that.  That's perfect!  Thanks.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
