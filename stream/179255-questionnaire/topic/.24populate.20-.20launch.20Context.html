---
layout: page
title: "FHIR Chat  · $populate - launch Context · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html">$populate - launch Context</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="239224599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239224599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kreutz <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239224599">(May 18 2021 at 09:36)</a>:</h4>
<p>For the (structure map based) $populate operation the IG says that a questionnaire-launchContext extension should be included to identify contextual information for the population process. </p>
<p>a) May there be any kind of data in the launchContext or are there only some possible entries like patient or encounter defined somewhere? <br>
b) The extension defines what information should be in the launchContext. If I have a backend server how is the actual launch context passed to the server? Is this only possible with authentication or is it possible to pass a launchContext to a public server?</p>



<a name="239272912"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239272912" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239272912">(May 18 2021 at 15:24)</a>:</h4>
<p>The launch context information can be passed as arguments to the $populate operation</p>



<a name="239274909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239274909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239274909">(May 18 2021 at 15:36)</a>:</h4>
<p>Actually, as I look for the change request that says we'll do that, I can't find it...  <span class="user-mention" data-user-id="217312">@Joee Garcia</span> <span class="user-mention" data-user-id="195344">@Paul Lynch</span> do you guys remember us agreeing to add arguments to the $populate operation to pass context variables?</p>



<a name="239274967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239274967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239274967">(May 18 2021 at 15:37)</a>:</h4>
<p>The set of launch context options is going to be locked down as fixed.  Resolution for that is here: <a href="http://jira.hl7.org/browse/FHIR-22803">FHIR#22803</a></p>



<a name="239292223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239292223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239292223">(May 18 2021 at 17:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context/near/239274967">said</a>:</p>
<blockquote>
<p>The set of launch context options is going to be locked down as fixed.  Resolution for that is here: <a href="http://jira.hl7.org/browse/FHIR-22803">FHIR#22803</a></p>
</blockquote>
<p>I think might have been superseded by <a href="http://jira.hl7.org/browse/FHIR-29664">FHIR-29664</a>, which sets the <a href="http://build.fhir.org/ig/HL7/sdc/ValueSet-launchContext.html">Questionnaire Launch Context </a> binding on "name" to "extensible".</p>



<a name="239293077"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239293077" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239293077">(May 18 2021 at 17:26)</a>:</h4>
<p>EpisodeOfCare is not in that second tracker item - not sure what the invariant would be (best practice?) given that you have an extensible binding</p>



<a name="239293590"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239293590" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239293590">(May 18 2021 at 17:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context/near/239274909">said</a>:</p>
<blockquote>
<p>Actually, as I look for the change request that says we'll do that, I can't find it...  <span class="user-mention silent" data-user-id="217312">Joee Garcia</span> <span class="user-mention silent" data-user-id="195344">Paul Lynch</span> do you guys remember us agreeing to add arguments to the $populate operation to pass context variables?</p>
</blockquote>
<p>I am not sure, but the IG (under StructureMap population) does say, "Include the questionnaire-launchContext extension to identify any contextual information that needs to be passed into the population process. "  That would suggest it gets passed to $populate somehow.</p>



<a name="239310296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239310296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239310296">(May 18 2021 at 19:17)</a>:</h4>
<p>could we add an additional launchContext parameter to the IN-Parameters of the <a href="http://build.fhir.org/ig/HL7/sdc/OperationDefinition-Questionnaire-populate.html">$populate</a> operation? IN 0..1 launchContext : Parameters, this would then allow to specify the name and (resource or reference to resource) pairs to be provided.</p>



<a name="239394702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239394702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kreutz <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239394702">(May 19 2021 at 09:48)</a>:</h4>
<p>I want to propose these changes to the structure map based population:</p>
<p>Changes to $populate definition:<br>
1) Launch context should be an input parameter to the $populate operation<br>
Proposal: Add "launchContext" Parameter to $populate Operation (Type "Parameters", Cardinality 0..1)<br>
For discussion: Could the launchContext parameters just be direct additional parameters to the $populate operation?</p>
<p>Changes to StructureMap based population:<br>
2) Questionnaire resource should be an input to the structure map<br>
3) Launch context should be an input to the structure map<br>
4) "subject" parameter of populate operation should be an input to the structure map<br>
5) "content" parameter resources of populate operation should be an input to the structure map<br>
Proposal: Change input to structure map. New input is a Bundle with the following entries:<br>
Entry 1: The Questionnaire Resource that should be populated<br>
Entry 2: The Parameters Resource passed to the $populate operation. (May contains launchContext, subject, content)<br>
Remaining entries: The result of the source queries batch<br>
For discussion: Can the input somehow be flattened so that it is easier to handle? </p>
<p>Remarks:<br>
2) Including the Questionnaire Resource as input to the StructureMap allows to create StructureMaps that don't break if minor (non population related) changes are done to the source Questionnaire.</p>



<a name="239417138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239417138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239417138">(May 19 2021 at 12:48)</a>:</h4>
<p>I thought that 1) was already approved somewhere (but not applied)<br>
(but I definitely agree that it must be)</p>



<a name="239417667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239417667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239417667">(May 19 2021 at 12:52)</a>:</h4>
<p>5) I would actually encourage that to be a new specific parameter for a specific StructureMap (reference or resource) rather than re-using the content, as that was intended to be input data, not mapping structure data.</p>



<a name="239417764"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239417764" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239417764">(May 19 2021 at 12:53)</a>:</h4>
<p>2) Just curious why you'd want the Questionnaire definition to be passed through?<br>
What would you be reading from it?</p>



<a name="239418306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239418306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239418306">(May 19 2021 at 12:57)</a>:</h4>
<p>i think 2) is not necessary, <span class="user-mention" data-user-id="410858">@Alexander Kreutz</span> ? the knoledge how to create the qr response and link to the QR can be within the StructureMap</p>



<a name="239418576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239418576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239418576">(May 19 2021 at 12:59)</a>:</h4>
<p>That's what I was thinking, my expectation is that the structure map already has so much intimate knowledge of the Questionnaire that it's not going to rely on it for anything, and probably has way more detail than within it.</p>



<a name="239429075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239429075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kreutz <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239429075">(May 19 2021 at 14:01)</a>:</h4>
<p>Well. With 2) you could copy the item.text from the Questionnaire to the QuestionnaireResponse but I am not sure someone will actually do it.</p>



<a name="239454712"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239454712" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239454712">(May 19 2021 at 16:23)</a>:</h4>
<p>Launch context can be an input to the queries performed and whose results are included in the Bundle.  The only input possible to the StructureMap is a single resource instance.  StructureMap can't handle multiple inputs.  It transforms one model into another.  The source model is a Bundle of search response Bundles.  Why isn't it sufficient to have one of the searches expose the Patient or the user?</p>



<a name="239477206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239477206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239477206">(May 19 2021 at 18:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context/near/239454712">said</a>:</p>
<blockquote>
<p>The source model is a Bundle of search response Bundles.  Why isn't it sufficient to have one of the searches expose the Patient or the user?</p>
</blockquote>
<p>agree that we need to have one source model for the StructureMap. we cannot get the input from the launchContext via source queries added (no Patient or user connection to the bundle), and would like to add the launchContext  to the source model. you mentioned that 'The launch context information can be passed as arguments to the $populate operation', is there a way we can add the launch context information to the source model?</p>



<a name="239484461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239484461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239484461">(May 19 2021 at 19:41)</a>:</h4>
<p>I suppose we could have other entries in the Bundle - the challenge would be identifying who/what they represented.  Maybe a Parameters resource in the Bundle?  Then you'd have the name of the parameter as well as the value.  Though all of that adds complexity.  We really don't think being able to query is sufficient?</p>



<a name="239485891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239485891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239485891">(May 19 2021 at 19:52)</a>:</h4>
<p>I like the idea of the Parameter Resoruce in the Bundle (would correspond to the launchContext) but agree also that it adds complexity. For our usecase query is not sufficient, and as I understood the prepop with questionnnaireresponse discussed at the connectathon track today had a similar challenge that query is not sufficent.</p>



<a name="239498486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239498486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239498486">(May 19 2021 at 21:27)</a>:</h4>
<p>Can you explain why query is not sufficient?  Is the issue that the information passed in context isn't available for query?</p>



<a name="239541084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239541084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239541084">(May 20 2021 at 06:29)</a>:</h4>
<p>yes, we would like to have the $populate operation implemented in the Form Manager <a href="http://build.fhir.org/ig/HL7/sdc/workflow.html">step 4.2.2 in SDC Workflow: QR is prepopulated with EHR provided patient datat</a> which does not have query access to the Form Filler in our setup.</p>



<a name="239585670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239585670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239585670">(May 20 2021 at 12:54)</a>:</h4>
<p>It also seems wasteful to have to query for something that the form filler issuing $populate already has from the launchContext.</p>



<a name="239669325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239669325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239669325">(May 20 2021 at 22:34)</a>:</h4>
<p>And the data going in to all populate techniques really should be the same (except for a parameter to force a specific structure map)</p>



<a name="239669509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/%24populate%20-%20launch%20Context/near/239669509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/.24populate.20-.20launch.20Context.html#239669509">(May 20 2021 at 22:36)</a>:</h4>
<p>From today's resolution of <a href="http://jira.hl7.org/browse/FHIR-32644">FHIR-32644</a>: "Will update the $populate operation to allow launch contexts to be passed in."</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
