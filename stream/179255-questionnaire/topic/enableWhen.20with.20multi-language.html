---
layout: page
title: "FHIR Chat  · enableWhen with multi-language · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20with.20multi-language.html">enableWhen with multi-language</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="272203688"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20with%20multi-language/near/272203688" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Milton Mitjans <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20with.20multi-language.html#272203688">(Feb 17 2022 at 01:34)</a>:</h4>
<p>We have a FHIR Questionnaire resource where currently only supports one language. But we would like to support other languages. The system calls a CAAS (content as a service) to provide the question text / answer text. </p>
<p>When it becomes difficult is in the enableWhen behavior where it points to a valueString of an answer.  Which would the best approach to handle multi-language on a valueString where it can support various languages? Could enableWhen reference a code on valueCoding?</p>
<p>For example:</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"workHours"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"How many hours do you work?"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"choice"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"answerOption"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">"valueString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"more than 8"</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">"valueString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"less than 8"</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">"enableWhen"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"doYouWork"</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"="</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">"answerString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yes"</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="272204589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20with%20multi-language/near/272204589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20with.20multi-language.html#272204589">(Feb 17 2022 at 01:49)</a>:</h4>
<p>In general, you should never have 'enableWhen' that's driven by valueString - valueString could be anything under the sun, written in any way and spelled (or misspelled) in any manner.  If you want to drive something by enableWhen, the triggering answer(s) should be codes, integers, dates or something computable and guaranteed to be entered in a consistent manner.  So, in your example of "doYouWork?" the answer should be of type 'choice' with values of 'yes' or 'no' or even an answerBoolean.  valueString is for things like "What's your first name?" - something you presumably would never trigger logic off, except perhaps based on whether the value is populated or not.</p>



<a name="272204934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20with%20multi-language/near/272204934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Milton Mitjans <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20with.20multi-language.html#272204934">(Feb 17 2022 at 01:55)</a>:</h4>
<p>ok. If the doYouWork question is a choice type as shown below. But the valueString could change per language. Should we change the answerOption as valueCoding?</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="nt">"answerOption"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">                            </span><span class="p">{</span><span class="w"></span>
<span class="w">                                </span><span class="nt">"valueString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yes"</span><span class="w"></span>
<span class="w">                            </span><span class="p">},</span><span class="w"></span>
<span class="w">                            </span><span class="p">{</span><span class="w"></span>
<span class="w">                                </span><span class="nt">"valueString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no"</span><span class="w"></span>

<span class="w">                        </span><span class="p">]</span><span class="w"></span>
<span class="w">                    </span><span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="272211704"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20with%20multi-language/near/272211704" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20with.20multi-language.html#272211704">(Feb 17 2022 at 04:02)</a>:</h4>
<p>If you use valueCoding, you can keep the code consistent (which is what drives the enableWhen), while changing the display (which is what the user sees when they make their choice).</p>



<a name="272219110"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20with%20multi-language/near/272219110" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20with.20multi-language.html#272219110">(Feb 17 2022 at 06:29)</a>:</h4>
<p>We use value Coding for this all the time.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
