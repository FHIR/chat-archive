---
layout: page
title: "FHIR Chat  · EnableWhen with answerOptions · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20with.20answerOptions.html">EnableWhen with answerOptions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="277407826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20with%20answerOptions/near/277407826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marieke Span <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20with.20answerOptions.html#277407826">(Apr 01 2022 at 12:17)</a>:</h4>
<p>Hi all,</p>
<p>I faced a problem in using the enableWhen together with answerOptions. </p>
<p>I am creating questionnaires in FSH and want to use answerOptions for some of the questions in the questionnaires. The permitted answers in our questionnaires are very specific, therefore we want to avoid creating numerous valueSets by using answerOptions.</p>
<p>However, I can’t figure out how to use anwerOptions in the enableWhen. I’ve tested my questionnaires in a rendering tool, SDC questionnaire app, but it is not working. So I would like to know whether it is possible to use enableWhen with valueString answerOptions. </p>
<p>This is an example of what I am trying to do:</p>
<ul>
<li>
<p>item[+]  <br>
    * linkId = "SYSTPATIENT"<br>
    * type = #choice<br>
    * text = "Is the patient currently receiving systemic treatment for breast cancer?"<br>
    * answerOption[+].valueString = "no, never had systemic treatment"<br>
    * answerOption[+].valueString = "yes, but the treatment has stopped"<br>
    * answerOption[+].valueString = "yes, on chemotherapy"<br>
    * answerOption[+].valueString = "yes, on targeted therapy"<br>
    * answerOption[+].valueString = "yes, on hormone therapy"<br>
    * required = true</p>
</li>
<li>
<p>item[+]</p>
<ul>
<li>linkId = "SYSTDATEPATIENT_Date"</li>
<li>type = #boolean</li>
<li>text = "Is the stop date of the systemic treatment known?"</li>
<li>enableWhen[+]<ul>
<li>question = "SYSTPATIENT"</li>
<li>operator = #=</li>
<li>answerString = "yes, but the treatment has stopped"</li>
</ul>
</li>
<li>required = true</li>
</ul>
</li>
</ul>



<a name="277419938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20with%20answerOptions/near/277419938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20with.20answerOptions.html#277419938">(Apr 01 2022 at 13:45)</a>:</h4>
<p>You can't have 'valueString' when the type is 'choice'.  If you're using 'choice', the answer must have a type of 'Coding'.  An open-choice will allow a user-specified string as an answer, but all controlled answers must be Codings.</p>



<a name="278167752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20with%20answerOptions/near/278167752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20with.20answerOptions.html#278167752">(Apr 07 2022 at 13:59)</a>:</h4>
<blockquote>
<p>Question with a Coding drawn from a list of possible answers (specified in either the answerOption property, or via the valueset referenced in the answerValueSet property) as an answer (valueCoding).</p>
</blockquote>



<a name="278167815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20with%20answerOptions/near/278167815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20with.20answerOptions.html#278167815">(Apr 07 2022 at 13:59)</a>:</h4>
<p>So we can do answerOption with an inline valueCoding, but not a valueString?</p>



<a name="278167876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20with%20answerOptions/near/278167876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20with.20answerOptions.html#278167876">(Apr 07 2022 at 14:00)</a>:</h4>
<p>That would actually solve another problem we're having, will try this.</p>



<a name="278174424"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/EnableWhen%20with%20answerOptions/near/278174424" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/EnableWhen.20with.20answerOptions.html#278174424">(Apr 07 2022 at 14:45)</a>:</h4>
<p>You can do valueString, but best practice is definitely valueCoding.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
