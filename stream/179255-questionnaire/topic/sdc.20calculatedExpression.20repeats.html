---
layout: page
title: "FHIR Chat  · sdc calculatedExpression repeats · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc.20calculatedExpression.20repeats.html">sdc calculatedExpression repeats</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="183891513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc%20calculatedExpression%20repeats/near/183891513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Spencer Evans <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc.20calculatedExpression.20repeats.html#183891513">(Dec 19 2019 at 22:25)</a>:</h4>
<p>Hi all,<br>
just want to confirm some intuition that isn't covered in the spec. There shouldn't ever be a calculatedExpression (<a href="https://build.fhir.org/ig/HL7/sdc/expressions.html#calculatedExpression" target="_blank" title="https://build.fhir.org/ig/HL7/sdc/expressions.html#calculatedExpression">https://build.fhir.org/ig/HL7/sdc/expressions.html#calculatedExpression</a>) that is attached to a item with repeats = true, correct? It wouldn't make sense to me for repeats to ever be used here since calculatedExpression should be deterministic, in which case  we'd inevitably just have a duplicated answer. </p>
<p>note: I think that a calculatedExpression item within a group that itself repeats is a legit use case (though a difficult one to grapple with) but that is not my question right now.</p>



<a name="183894958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc%20calculatedExpression%20repeats/near/183894958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc.20calculatedExpression.20repeats.html#183894958">(Dec 19 2019 at 23:15)</a>:</h4>
<p>That sounds correct to me, although I don't know if it is necessary to enforce it.  I can't think of a case where it would be desirable, but I don't see any harm in it either.</p>



<a name="183897448"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc%20calculatedExpression%20repeats/near/183897448" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc.20calculatedExpression.20repeats.html#183897448">(Dec 19 2019 at 23:58)</a>:</h4>
<p>CalculatedExpression doesn't necessarily result to a numeric value.  With FHIRPath, it <em>could</em> evaluate to a collection and thus satisfy mutliple answers.  I can't think of a situation where you'd <em>want</em> to do this, but I don't know that it's <em>wrong</em> to do so..</p>



<a name="183975728"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc%20calculatedExpression%20repeats/near/183975728" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Spencer Evans <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc.20calculatedExpression.20repeats.html#183975728">(Dec 20 2019 at 21:36)</a>:</h4>
<p>Good point Lloyd. That sounds reasonable and after thinking about it some more, about what I'd expect! As you both suggest, probably something that wouldn't come up but wanted to check anyways. Thank you Paul and Lloyd :)</p>



<a name="183983627"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/sdc%20calculatedExpression%20repeats/near/183983627" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/sdc.20calculatedExpression.20repeats.html#183983627">(Dec 20 2019 at 23:28)</a>:</h4>
<p><span class="user-mention" data-user-id="197053">@Spencer Evans</span> Would you mind submitting a change request for us to add some language clarifying expected behavior here?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
