---
layout: page
title: "FHIR Chat  · questionnaire-calculatedExpression =&gt; readOnly? · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html">questionnaire-calculatedExpression =&gt; readOnly?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154022531"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154022531" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154022531">(Dec 03 2018 at 16:06)</a>:</h4>
<p>If a question's value is set by questionnaire-calculatedExpression, should that necessarily mean the field is readOnly (regardless of whether readOnly was set)?</p>
<p>If it does not, and calculatedExpression contains a FHIRPath expression, then potentially any data on the form could be referenced by the calculatedExpression, which means the calculatedExpression would need to be run as soon as any other field was changed.  If the user has edited the field with the calculatedExpression, their change would be overwritten-- unless we add a rule that prevents calculatedExpression from running on edited fields.</p>



<a name="154022601"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154022601" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154022601">(Dec 03 2018 at 21:35)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="154022608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154022608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154022608">(Dec 03 2018 at 21:44)</a>:</h4>
<p>That seems like a reasonable assumption to me. But I do like to be explicit in my questionnaire designs.<br>
(I might add that as a custom validation rule in my server)</p>



<a name="154022644"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154022644" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154022644">(Dec 03 2018 at 23:24)</a>:</h4>
<p>We do have a demo form here in which the user can edit a field that is calculated.  An example would be a form with weight, height and BMI, where the user still has the option of entering a known BMI value if weight and height are unknown.  (A rather unlikely example, but perhaps a more likely one exists).</p>



<a name="154024250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154024250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154024250">(Dec 10 2018 at 22:24)</a>:</h4>
<p>We don't have questionniare-calculatedExpression.  We have questionnaire-initialExpression.  If the element isn't read only and the user changes it, then the element won't be calculated anymore.  But agree we should make that explicit in the spec.  Can you submit a change request?</p>



<a name="154024284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154024284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154024284">(Dec 10 2018 at 23:15)</a>:</h4>
<p>Then what is this:  <a href="http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html" target="_blank" title="http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html">http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html</a> ?</p>



<a name="154024285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154024285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154024285">(Dec 10 2018 at 23:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> I see it was <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemBrowse&amp;tracker_id=677&amp;querynav=%2Fgf%2Fproject%2Ffhir%2Ftracker%2F%3Faction%3DTrackerItemBrowse%26tracker_id%3D677%26forget_query%3D1&amp;quickquery=1&amp;tracker_item_id=&amp;summary=&amp;submitted_by=&amp;priority=&amp;assigned_to=&amp;extra_field%5B4214%5D=&amp;extra_field%5B4215%5D=&amp;extra_field%5B4060%5D=&amp;extra_field%5B3631%5D=&amp;extra_field%5B3807%5D=&amp;extra_field%5B3808%5D=&amp;extra_field%5B3628%5D=&amp;extra_field%5B3626%5D=&amp;extra_field%5B4065%5D=&amp;extra_field%5B4092%5D=&amp;extra_field%5B4063%5D=&amp;extra_field%5B4062%5D=&amp;extra_field%5B2415%5D=&amp;extra_field%5B4252%5D=&amp;extra_field%5B3633%5D=calculatedExpression&amp;extra_field%5B3969%5D=&amp;extra_field%5B4069%5D=&amp;extra_field%5B4066%5D=&amp;extra_field%5B4071%5D=&amp;extra_field%5B3632%5D=&amp;sortcol=tracker_item_id&amp;sortord=DESC" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemBrowse&amp;tracker_id=677&amp;querynav=%2Fgf%2Fproject%2Ffhir%2Ftracker%2F%3Faction%3DTrackerItemBrowse%26tracker_id%3D677%26forget_query%3D1&amp;quickquery=1&amp;tracker_item_id=&amp;summary=&amp;submitted_by=&amp;priority=&amp;assigned_to=&amp;extra_field%5B4214%5D=&amp;extra_field%5B4215%5D=&amp;extra_field%5B4060%5D=&amp;extra_field%5B3631%5D=&amp;extra_field%5B3807%5D=&amp;extra_field%5B3808%5D=&amp;extra_field%5B3628%5D=&amp;extra_field%5B3626%5D=&amp;extra_field%5B4065%5D=&amp;extra_field%5B4092%5D=&amp;extra_field%5B4063%5D=&amp;extra_field%5B4062%5D=&amp;extra_field%5B2415%5D=&amp;extra_field%5B4252%5D=&amp;extra_field%5B3633%5D=calculatedExpression&amp;extra_field%5B3969%5D=&amp;extra_field%5B4069%5D=&amp;extra_field%5B4066%5D=&amp;extra_field%5B4071%5D=&amp;extra_field%5B3632%5D=&amp;sortcol=tracker_item_id&amp;sortord=DESC">moved</a> to the SDC IG but I don't see anything about it being dropped.  Without questionnaire-calculatedExpression, how would one do BMI or score calculations?</p>



<a name="154024289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154024289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154024289">(Dec 10 2018 at 23:46)</a>:</h4>
<p>initialExpression</p>



<a name="154024290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154024290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154024290">(Dec 10 2018 at 23:46)</a>:</h4>
<p>And if you don't want the user to tweak them, make them readOnly</p>



<a name="154024368"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154024368" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Astrid Corinna Wolff <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154024368">(Dec 11 2018 at 07:55)</a>:</h4>
<p>For me, there seems to be a substantial difference between <em>questionnaire-initialExpression</em> and <em>questionnaire-calculatedExpression</em>:</p>
<p><a href="http://hl7.org/fhir/2018Sep/extension-questionnaire-initialexpression.html" target="_blank" title="http://hl7.org/fhir/2018Sep/extension-questionnaire-initialexpression.html">http://hl7.org/fhir/2018Sep/extension-questionnaire-initialexpression.html</a><br>
= Initial value is <strong>only calculated at the time the QuestionnaireResponse is first generated</strong>.</p>
<p><a href="http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html" target="_blank" title="http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html">http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html</a><br>
= Calculated value is <strong>updated as other answers</strong> in the QuestionnaireResponse <strong>are filled in</strong>.</p>



<a name="154024439"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154024439" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154024439">(Dec 11 2018 at 15:55)</a>:</h4>
<p>My bad.  calculatedExpression got moved to SDC.  I'm not totally clear on why initialExpression didn't move too.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Is this something I can still fix?</p>



<a name="154024462"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154024462" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154024462">(Dec 11 2018 at 16:30)</a>:</h4>
<blockquote>
<p>Can you submit a change request?</p>
</blockquote>
<p><a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19753" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19753">#GF19753</a></p>



<a name="154024628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154024628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154024628">(Dec 11 2018 at 21:55)</a>:</h4>
<p>what exactly do you want to fix?</p>



<a name="154024647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154024647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154024647">(Dec 11 2018 at 22:15)</a>:</h4>
<p>Move questionnaire-initialExpression extension to SDC too</p>



<a name="154024653"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154024653" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154024653">(Dec 12 2018 at 00:00)</a>:</h4>
<p>ok</p>



<a name="154024673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154024673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154024673">(Dec 12 2018 at 03:38)</a>:</h4>
<p>ok = yes, I can still make that change?</p>



<a name="154024688"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/questionnaire-calculatedExpression%20%3D%3E%20readOnly%3F/near/154024688" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/questionnaire-calculatedExpression.20.3D.3E.20readOnly.3F.html#154024688">(Dec 12 2018 at 04:26)</a>:</h4>
<p>yes</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
