---
layout: page
title: "FHIR Chat  · enableWhen and repeating elements · questionnaire"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/index.html">questionnaire</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20and.20repeating.20elements.html">enableWhen and repeating elements</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="188385182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20and%20repeating%20elements/near/188385182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenneth Myhra <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20and.20repeating.20elements.html#188385182">(Feb 17 2020 at 15:06)</a>:</h4>
<p>Can a question outside a repeating group have an enableWhen referring a linkId within that repeating group?</p>
<p>The definition at <a href="http://hl7.org/fhir/questionnaire-definitions.html#Questionnaire.item.enableWhen.question" target="_blank" title="http://hl7.org/fhir/questionnaire-definitions.html#Questionnaire.item.enableWhen.question">http://hl7.org/fhir/questionnaire-definitions.html#Questionnaire.item.enableWhen.question</a> seems not to handle that case.</p>
<p>We have looked at this in our Form Filler and is considering "isolating" repeating groups such that an enableWhen can only refer to items within the repeating group, if itself is within that group. Thereby disallowing a question outside a repeating group to have an enableWhen referring a linkId within that repeating group</p>



<a name="188388975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20and%20repeating%20elements/near/188388975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20and.20repeating.20elements.html#188388975">(Feb 17 2020 at 15:57)</a>:</h4>
<p>Certainly we should have some clarity around the behavior here.  Care to submit a change request?</p>
<p>As currently defined, I believe the enableWhen would be driven by the 'nearest' repetition (first for a following group, last for a preceding group), but that's rather odd behavior and probably not too useful.</p>



<a name="188391297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20and%20repeating%20elements/near/188391297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenneth Myhra <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20and.20repeating.20elements.html#188391297">(Feb 17 2020 at 16:29)</a>:</h4>
<p>That’s the same conclusion we came to. I’ll submit a change request</p>



<a name="188397343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20and%20repeating%20elements/near/188397343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenneth Myhra <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20and.20repeating.20elements.html#188397343">(Feb 17 2020 at 18:05)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-26312" target="_blank" title="https://jira.hl7.org/browse/FHIR-26312">FHIR-26312</a></p>



<a name="188415937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20and%20repeating%20elements/near/188415937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20and.20repeating.20elements.html#188415937">(Feb 18 2020 at 00:47)</a>:</h4>
<p>Would a case where you have a follow up group after a repeating section that checks inside for the presence of a specific question answer/combination of answers to enable it to ask?<br>
(I don't have a need for it, but was just considering possibilities that might make sense)</p>



<a name="188431371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20and%20repeating%20elements/near/188431371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenneth Myhra <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20and.20repeating.20elements.html#188431371">(Feb 18 2020 at 08:20)</a>:</h4>
<p>We actually went briefly through the use case you're suggesting. I was a bit wary of the level of complexity it could add, but looking at your definition it might not be that complicated. I'm also thinking that it does not necessarily need to physically come after the repeating section although that would probably make sense from UX level.</p>



<a name="188537802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20and%20repeating%20elements/near/188537802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenneth Myhra <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20and.20repeating.20elements.html#188537802">(Feb 19 2020 at 12:01)</a>:</h4>
<p>Does this sound like a possible rule set that could work for my original question and Brian's suggested additional use case?</p>
<ul>
<li>An enableWhen within a repeating group can only refer to items within one instance of the repeating group, effectively isolating its context</li>
<li>An enableWhen that lives outside a repeating section, but refers to items in a repeating section will be enabled if the presence of a specific answer or combination of answers exists</li>
</ul>



<a name="188557646"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20and%20repeating%20elements/near/188557646" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20and.20repeating.20elements.html#188557646">(Feb 19 2020 at 16:05)</a>:</h4>
<p>My preference is that if we're going to talk about pointing into repeating things, you should use enableWhenExpression - that allows you to define very concretely what your expectations are (all of, at least one of, etc.)</p>



<a name="188565090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20and%20repeating%20elements/near/188565090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenneth Myhra <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20and.20repeating.20elements.html#188565090">(Feb 19 2020 at 17:24)</a>:</h4>
<p>Agree, I was not aware of that one</p>



<a name="188623687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179255-questionnaire/topic/enableWhen%20and%20repeating%20elements/near/188623687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179255-questionnaire/topic/enableWhen.20and.20repeating.20elements.html#188623687">(Feb 20 2020 at 09:53)</a>:</h4>
<p>Agree with using expression there.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
