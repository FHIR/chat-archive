---
layout: page
title: "FHIR Chat  · Terminology - SNOMED CT UK Edition · uk"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179189-uk/index.html">uk</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html">Terminology - SNOMED CT UK Edition</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="200748246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200748246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200748246">(Jun 13 2020 at 04:14)</a>:</h4>
<p>I want to push terminology validation in UK implementations (as it drives both SCT and validation). <br>
As the UK onto server is still in beta, what other options do we have.?</p>
<p>Possibly could use the SCT built into the HL7 Validator?</p>



<a name="200753220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200753220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200753220">(Jun 13 2020 at 07:10)</a>:</h4>
<p>What are your timeframes?</p>



<a name="200753445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200753445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200753445">(Jun 13 2020 at 07:19)</a>:</h4>
<p>as soon as its workable I think we should start recommending it.<br>
I'm pushing validation as something developers should do early on. Terminology support helps that (and helps terminlogy)</p>



<a name="200753605"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200753605" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200753605">(Jun 13 2020 at 07:25)</a>:</h4>
<p>See also <a href="#narrow/stream/179177-conformance/topic/FHIR.20Validator.20-sct.20option">https://chat.fhir.org/#narrow/stream/179177-conformance/topic/FHIR.20Validator.20-sct.20option</a></p>



<a name="200753650"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200753650" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200753650">(Jun 13 2020 at 07:26)</a>:</h4>
<p>I guess I'm wondering why not start with the current beta as it is there now?</p>



<a name="200753852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200753852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200753852">(Jun 13 2020 at 07:32)</a>:</h4>
<p>I've just tried using FHR Validator with this parameter -tx <a href="https://ontoserver.dataproducts.nhs.uk/fhir/">https://ontoserver.dataproducts.nhs.uk/fhir/</a></p>



<a name="200753864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200753864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200753864">(Jun 13 2020 at 07:33)</a>:</h4>
<p>Get this response</p>



<a name="200753865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200753865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200753865">(Jun 13 2020 at 07:33)</a>:</h4>
<p>FHIR Validation tool Version 5.0.7-SNAPSHOT (Git# 6bc790d98b04). Built 2020-06-07T08:35:37.25+10:00 (6 days old)<br>
Detected Java version: 14.0.1 from /Users/kevinmayfield/Library/Java/JavaVirtualMachines/openjdk-14.0.1/Contents/Home on x86_64 (64bit). 8192MB available<br>
Arguments: Bundle-prescription-order.xml -version 4.0.1 -ig <a href="https://packages.simplifier.net/uk.core.r4/-/uk.core.r4-1.1.0.tgz">https://packages.simplifier.net/uk.core.r4/-/uk.core.r4-1.1.0.tgz</a> -tx <a href="https://ontoserver.dataproducts.nhs.uk/fhir/">https://ontoserver.dataproducts.nhs.uk/fhir/</a><br>
Directories: Current = /Users/kevinmayfield/github/nhsconnect/eps/Examples, Package Cache = /Users/kevinmayfield/.fhir/packages<br>
  .. FHIR Version 4.0, definitions from hl7.fhir.r4.core#4.0.1<br>
  .. connect to tx server @ <a href="https://ontoserver.dataproducts.nhs.uk/fhir/">https://ontoserver.dataproducts.nhs.uk/fhir/</a><br>
Exception in thread "main" org.hl7.fhir.exceptions.FHIRException: Unable to connect to terminology server. Use parameter '-tx n/a' tun run without using terminology services to validate LOINC, SNOMED, ICD-X etc. Error = Error parsing response message: Unknown Content acceptUnknown @  START_TAG seen ...&lt;fhirVersion value="3.0.2"/&gt;&lt;acceptUnknown value="extensions"/&gt;... @1:1239<br>
    at org.hl7.fhir.r5.context.SimpleWorkerContext.connectToTSServer(SimpleWorkerContext.java:258)<br>
    at org.hl7.fhir.validation.ValidationEngine.connectToTSServer(ValidationEngine.java:718)<br>
    at org.hl7.fhir.validation.ValidationEngine.setTerminologyServer(ValidationEngine.java:309)<br>
    at org.hl7.fhir.validation.ValidationEngine.&lt;init&gt;(ValidationEngine.java:339)<br>
    at org.hl7.fhir.validation.cli.services.ValidationService.getValidator(ValidationService.java:180)<br>
    at org.hl7.fhir.validation.Validator.main(Validator.java:175)<br>
Caused by: org.hl7.fhir.r5.utils.client.EFhirClientException: Error parsing response message: Unknown Content acceptUnknown @  START_TAG seen ...&lt;fhirVersion value="3.0.2"/&gt;&lt;acceptUnknown value="extensions"/&gt;... @1:1239<br>
    at org.hl7.fhir.r5.utils.client.ClientUtils.unmarshalReference(ClientUtils.java:352)<br>
    at org.hl7.fhir.r5.utils.client.ClientUtils.issueResourceRequest(ClientUtils.java:237)<br>
    at org.hl7.fhir.r5.utils.client.ClientUtils.issueResourceRequest(ClientUtils.java:219)<br>
    at org.hl7.fhir.r5.utils.client.ClientUtils.issueResourceRequest(ClientUtils.java:210)<br>
    at org.hl7.fhir.r5.utils.client.ClientUtils.issueGetResourceRequest(ClientUtils.java:146)<br>
    at org.hl7.fhir.r5.utils.client.FHIRToolingClient.getCapabilitiesStatementQuick(FHIRToolingClient.java:181)<br>
    at org.hl7.fhir.convertors.txClient.TerminologyClientR5.getCapabilitiesStatementQuick(TerminologyClientR5.java:94)<br>
    at org.hl7.fhir.r5.context.SimpleWorkerContext.connectToTSServer(SimpleWorkerContext.java:256)<br>
    ... 5 more<br>
Caused by: org.hl7.fhir.exceptions.FHIRFormatError: Unknown Content acceptUnknown @  START_TAG seen ...&lt;fhirVersion value="3.0.2"/&gt;&lt;acceptUnknown value="extensions"/&gt;... @1:1239<br>
    at org.hl7.fhir.r5.formats.XmlParserBase.unknownContent(XmlParserBase.java:312)<br>
    at org.hl7.fhir.r5.formats.XmlParser.parseCapabilityStatement(XmlParser.java:3929)<br>
    at org.hl7.fhir.r5.formats.XmlParser.parseResource(XmlParser.java:26381)<br>
    at org.hl7.fhir.r5.formats.XmlParserBase.parse(XmlParserBase.java:136)<br>
    at org.hl7.fhir.r5.formats.XmlParserBase.parse(XmlParserBase.java:120)<br>
    at org.hl7.fhir.r5.formats.ParserBase.parse(ParserBase.java:61)<br>
    at org.hl7.fhir.r5.utils.client.ClientUtils.unmarshalReference(ClientUtils.java:345)</p>



<a name="200753924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200753924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200753924">(Jun 13 2020 at 07:35)</a>:</h4>
<p>I'll look into it tomorrow sometime</p>



<a name="200754322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200754322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200754322">(Jun 13 2020 at 07:49)</a>:</h4>
<p>Does it work with <a href="https://r4.ontoserver.csiro.au/fhir">https://r4.ontoserver.csiro.au/fhir</a> -- it also has SNOMED UK loaded</p>



<a name="200754380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200754380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200754380">(Jun 13 2020 at 07:50)</a>:</h4>
<p>Note, the UK Beta is STU3 not R4</p>



<a name="200763418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200763418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200763418">(Jun 13 2020 at 12:12)</a>:</h4>
<p>Yep, that did work.</p>



<a name="200785661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200785661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200785661">(Jun 13 2020 at 21:05)</a>:</h4>
<p><span class="user-mention" data-user-id="191687">@Kevin Mayfield</span> if you run with the parameter -version 3.0 then -tx <a href="https://ontoserver.dataproducts.nhs.uk/fhir/">https://ontoserver.dataproducts.nhs.uk/fhir/</a> should work</p>



<a name="200800650"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200800650" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200800650">(Jun 14 2020 at 05:06)</a>:</h4>
<p>Yes the NHSD terminology server works (but then resource validation has errors).</p>
<p>Which leads to: Should the terminology server be the same version as the IG?</p>



<a name="200803830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200803830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200803830">(Jun 14 2020 at 07:02)</a>:</h4>
<p>Researched a little more and what I've found is:</p>
<ul>
<li>NHS Digital Terminology STU3 does validate codes in ValueSets</li>
<li>ValueSet uri's are inconsistent between versions (this is logged)</li>
<li>FHIR Validator does not like mixing versions (terminology and IG need to be same versions)</li>
<li>Quality of validation using FHIR Validator and terminology server is very good</li>
<li><a href="https://r4.ontoserver.csiro.au/fhir/">https://r4.ontoserver.csiro.au/fhir/</a> doesn't contain UK Drug Extension</li>
</ul>



<a name="200803930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200803930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200803930">(Jun 14 2020 at 07:06)</a>:</h4>
<ul>
<li>A terminology server (with UK SNOMED) is required (not using a -tx results in validation failure)</li>
</ul>



<a name="200803936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200803936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200803936">(Jun 14 2020 at 07:07)</a>:</h4>
<p>May need some workarounds to get a clean validation.</p>



<a name="200804036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200804036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200804036">(Jun 14 2020 at 07:11)</a>:</h4>
<ul>
<li><a href="https://ontoserver.dataproducts.nhs.uk">https://ontoserver.dataproducts.nhs.uk</a> is on an old UK SNOMED version (20190807)</li>
</ul>



<a name="200804081"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200804081" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200804081">(Jun 14 2020 at 07:12)</a>:</h4>
<ul>
<li><a href="https://r4.ontoserver.csiro.au">https://r4.ontoserver.csiro.au</a> is on the current UK SNOMED version</li>
</ul>



<a name="200829869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/200829869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#200829869">(Jun 14 2020 at 19:26)</a>:</h4>
<blockquote>
<p>FHIR Validator does not like mixing versions</p>
</blockquote>
<p>yes.</p>



<a name="201401820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/201401820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#201401820">(Jun 19 2020 at 15:02)</a>:</h4>
<p>We are working to load the UK Edition on <a href="http://tx.fhir.org">tx.fhir.org</a>. But the current loader code assumes that all of the content is provided in a single set of files, which isn't the case with the UK distribution. The Clinical and Drug extensions and the International edition are distributed in separate folders, which will need to be combined (accounting for the proper dependencies). I do have access to the distributions through TRUD, so that isn't a problem, but deciding what to load and how best to get it loaded is. Should we load the latest SNOMEDCT2_29.3.0_20200610000001 Clinical Edition release and the SNOMEDCT2_29.2.0_20200513000001 Drug Extension release (which I think is the latest - I need to double check that)? And maybe we should use the BETA releases, as that will be the structure going forward? The releases are pretty frequent, especially for the drugs and with the recent COVID-19 micro-releases, and we probably won't try to stay absolutely current with all of it. We appreciate any advice and help we can get from the UK community in figuring out what is the best way forward on this.</p>



<a name="201420738"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/201420738" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#201420738">(Jun 19 2020 at 17:43)</a>:</h4>
<p>@Michael Lawley may have some insights as I know they have worked with the peculiarities of the UK SNOMED edition.</p>



<a name="201422062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/201422062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#201422062">(Jun 19 2020 at 17:55)</a>:</h4>
<p>Yes, I've discussed it a bit with Michael, already, and we'll likely discuss it further.  I think we're fairly clear on what needs to be done to load the content.  Long term I think that's going to need some changes to the loader code.  But I think what we most need to figure out right now is what extension/version/format combinations we should target for the initial content load and then how we plan to keep that content maintained (and on what frequency) going forward.</p>



<a name="201782376"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/201782376" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#201782376">(Jun 23 2020 at 21:00)</a>:</h4>
<p>what needs to change in the loader code?</p>



<a name="201783527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/201783527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#201783527">(Jun 23 2020 at 21:10)</a>:</h4>
<p>The code needs to support specifying multiple source folders (snapshot or possibly full) for the content that need to be combined as the source of a complete edition, and then once the content has been combined to run the snapshot extraction algorithm on the combined content to create the edition that needs to be loaded.</p>



<a name="201783654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/201783654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#201783654">(Jun 23 2020 at 21:10)</a>:</h4>
<p>what's the combination rules? Everytime I've looked at something like this, there's redefinitions or versioning issues that mean that it's not just a matter of reading more files</p>



<a name="201785009"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/201785009" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#201785009">(Jun 23 2020 at 21:20)</a>:</h4>
<p>That's the snapshot extraction algorithm.  I can locate a reference for you (or Michael can).  If you have other things to do (tongue in cheek question), I'm happy to take the lead on working on it (I'm sure with some of your help).</p>



<a name="201785579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/201785579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#201785579">(Jun 23 2020 at 21:25)</a>:</h4>
<p>sure a reference would be good</p>



<a name="201815381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/201815381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#201815381">(Jun 24 2020 at 06:38)</a>:</h4>
<p>It's RF2 and because you're combining multiple packages you need to treat the content as if it conformed to the FULL ReleaseType and then compute a SNAPSHOT ReleaseType.  I'd like to be able to point at <a href="http://snomed.org/rf2">http://snomed.org/rf2</a> but it seems that the real URL is <a href="http://snomed.org/rfs">http://snomed.org/rfs</a><br>
I had a quick look to try to point at the right page that talks about generating a SNAPSHOT from FULL, but failed -- I'm not sure such a page exists.</p>
<p>You at least need to process the MDRS -  Module Dependency Reference Set (<a href="https://confluence.ihtsdotools.org/x/M4e2AQ">https://confluence.ihtsdotools.org/x/M4e2AQ</a> or <a href="https://confluence.ihtsdotools.org/display/DOCRELFMT/5.2.12+Module+Dependency+Reference+Set">https://confluence.ihtsdotools.org/display/DOCRELFMT/5.2.12+Module+Dependency+Reference+Set</a>) - which gives you a set of moduleId-effectiveTime pairs for the version you're importing.</p>
<p>Then, for every "component" (identified by the id column) you take the row with the latest effectiveTime value as long as it is NOT GREATER than the effectiveTime from the corresponding pairs above with the same moduleId. (so it is not enough to just take the latest effective time; you always need to first filter against the MDRS pairs).</p>
<p>All of this, and the fact that the files can't be assumed to be sorted in a useful manner, means that you need to load a huge pile of stuff into memory and/or do two passes over the content.</p>



<a name="201959451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/201959451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adam Flinton <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#201959451">(Jun 25 2020 at 12:00)</a>:</h4>
<p>"All of this, and the fact that the files can't be assumed to be sorted in a useful manner, means that you need to load a huge pile of stuff into memory and/or do two passes over the content."<br>
Yup used to blow stuff up when I was trying to combine the UK &amp; UK drugs into one..... eventually gave up as had other things to do.</p>



<a name="278722441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179189-uk/topic/Terminology%20-%20SNOMED%20CT%20UK%20Edition/near/278722441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeremy Rogers <a href="https://fhir.github.io/chat-archive/stream/179189-uk/topic/Terminology.20-.20SNOMED.20CT.20UK.20Edition.html#278722441">(Apr 12 2022 at 17:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span> WRT your June 2020 post about the difficulty of loading the UK Edition onto <a href="http://tx.fhir.org">tx.fhir.org</a>, because it was scattered across multiple files and zipped archives...you might try your luck again with the New! Simpler! Monolithic! Bundling of the UK extensions content. Its a snapshot-only distro across a single set of the 22-odd files that make up any well formatted SNOMED edition or extension release distro bundle. Content-wise, it therefore includes the union of the relevant International Edition plus (currently) the latest versions of the UK Clinical, Drug and Pathology extensions. Can be found on the dreaded TRUD here: <a href="https://isd.digital.nhs.uk/trud/users/guest/filters/0/categories/26/items/1799/releases">https://isd.digital.nhs.uk/trud/users/guest/filters/0/categories/26/items/1799/releases</a>. New releases expected every 4 weeks, as per the schedule for releases of the UK Drug Extension component within.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
