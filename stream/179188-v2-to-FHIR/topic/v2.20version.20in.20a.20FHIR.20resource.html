---
layout: page
title: "FHIR Chat  · v2 version in a FHIR resource · v2 to FHIR"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/index.html">v2 to FHIR</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html">v2 version in a FHIR resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="160481615"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/160481615" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Newman <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#160481615">(Mar 11 2019 at 14:11)</a>:</h4>
<p>When converting a v2 message to a FHIR message bundle, is it helpful to retain the v2 version (eg v2.5.1) somewhere in MessageHeader? If so, is MessageHeader.implicitRules the best place? The definition of implicitRules is "A set of rules under which this content was created" which is true about the content of the original v2 message but may be confusing in the context of a FHIR message. <br>
If this is the best place, what should the uri look like? Something like "hl7.messageVersion.v2.2" or just a pointer to the HL7 product brief (<a href="https://www.hl7.org/implement/standards/product_brief.cfm?product_id=139" target="_blank" title="https://www.hl7.org/implement/standards/product_brief.cfm?product_id=139">https://www.hl7.org/implement/standards/product_brief.cfm?product_id=139</a>) or do we create a value set and bind it to implicitRules? <br>
We've created a gForge ticket (20523) to track this question.Thanks</p>



<a name="160487201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/160487201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#160487201">(Mar 11 2019 at 15:14)</a>:</h4>
<p>Provenance would be a better way to capture this information. The 2.x message would itself be subject to a set of (unidentified, implied) messaging rules. A FHIR resource being sourced from v2.4 or v2.7 wouldn't tell me anything. The rules used to create the contents of that v2 message, the context of the sender of the v2 message, now that would be of interest. But most of that is provenance.</p>



<a name="160508965"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/160508965" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#160508965">(Mar 11 2019 at 19:20)</a>:</h4>
<p>Hm, that sounds like the V2 Conformance Identifier, i.e. MSH-21 (Message Profile Identifier) ?</p>



<a name="160726204"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/160726204" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#160726204">(Mar 13 2019 at 20:53)</a>:</h4>
<p>MSH-21 maps to resource.meta.profile. if version really mattered, it would be the same - something like <a href="http://hl7.org/fhir/v2/StructureDefinition/ADT-A01|2.5" target="_blank" title="http://hl7.org/fhir/v2/StructureDefinition/ADT-A01|2.5">http://hl7.org/fhir/v2/StructureDefinition/ADT-A01|2.5</a></p>



<a name="161064258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161064258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Buitendijk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161064258">(Mar 18 2019 at 14:57)</a>:</h4>
<p>Agreed that message profile (MSH-21) is not Provenance, rather resource.meta.profile.  But version could be considered the most basic message profile (albeit it wildly flexible and variable as pretty much any base standard version that is open to interpretation), so why would that not then be communicated in the same place and consolidate that?  Note I don't have a firm opinion either way.</p>



<a name="161071694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161071694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161071694">(Mar 18 2019 at 16:13)</a>:</h4>
<p>Mmm. The fact that a v2 message complies with profile/IG X, doesn't mean its FHIR transformation complies with profile/IG X. The transformation agent may have done all sorts of things, both constraining the data present as well as enriching it in all sorts of ways. <br>
One could define a profile for "the v2.5 to FHIR message mapping as done by transformation agent XYZ using its mapping definition ABC" - but then those details are typically something captured in Provenance.</p>



<a name="161074843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161074843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Buitendijk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161074843">(Mar 18 2019 at 16:49)</a>:</h4>
<p>I can see the need for a "was mapped according to V2-to-FHIR Profile XYZ" in addition to a statement that preserves the original V2 message having been mapped to "message profile ABC", but still don't understand why the original v2 message would be through Provenance.  Shouldn't resource.meta.profile then be on Provenance rather than on MessageHeader as well?  What do you see as deciding that?  Not sure what attribute would be used on Provenance otherwise.</p>



<a name="161077242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161077242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Buitendijk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161077242">(Mar 18 2019 at 17:19)</a>:</h4>
<p>As a related question to <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> on use of resource.meta.profile, should that then be valued on every resource in the message bundle (or whatever it is transformed into)?</p>



<a name="161099673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161099673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161099673">(Mar 18 2019 at 21:53)</a>:</h4>
<p>don't know. I think Rene is fundamentally right; the fact that the source was in some particular v2 version is properly stated on the provenance, it's not a fact about the resource itself.</p>



<a name="161107413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161107413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Buitendijk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161107413">(Mar 18 2019 at 23:50)</a>:</h4>
<p>Question is then where on Provenance?  meta.profile would need seem right as that is about the Provenance resource, not about what the Provenance is about.  And it would have to reference all resources reflecting that message.  Starts to sound like an extension to be used when a v2 message is transformed.</p>



<a name="161114054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161114054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161114054">(Mar 19 2019 at 02:05)</a>:</h4>
<p>it's further information about <code>Provenance.entity.what</code> - is it necessary? why is it necessary? It's not enough just to reference the source so interested parties can go find it if they want?</p>



<a name="161162085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161162085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Buitendijk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161162085">(Mar 19 2019 at 15:45)</a>:</h4>
<p>Not sure what resource would represent the v2 source.  entity.role would be clear "derivation", but what would you put in entity.what?  Regarding why it would be necessary would be two-fold:<br>
- documentation purposes only.<br>
- identify the message format for any application level acknowledgement that needs to travel back.<br>
Neither are very strong reasons, hence at most an extension, certainly not core.  It would be best to do that in entity, but since entity.what is required, that would not work.<br>
Note that wherever we decide not to map (yet), we just put in "Who is using this?" so as soon as somebody has a clear use case (in this case, they need to have a way to understand what version of v2 to use on a return acknowledgement for example) that then we move forward.  Still, it then would be good to already know where/what.</p>



<a name="161162426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161162426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161162426">(Mar 19 2019 at 15:49)</a>:</h4>
<p>I am jumping in late, so might not have the whole scenario understood...  What you are looking for is a place to save the 'how' data was transformed? That would be Provenance.policy. You might have a structureDefinition at the end of the URI, but it is a URI so can be placed in to .policy.</p>



<a name="161162641"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161162641" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161162641">(Mar 19 2019 at 15:52)</a>:</h4>
<p>This is how it is used in IHE where a document (might be CDA or anything) is decomposed into various FHIR Resources. Thus the policy indicates this.</p>



<a name="161162707"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161162707" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161162707">(Mar 19 2019 at 15:53)</a>:</h4>
<p>note that there is also a recommendation that the software used for decomposition be described in an .agent. Likely just as a Device resource. But by describing it detail with version and such.. one can tell which derivations might be faulty if that software is found faulty.</p>



<a name="161162817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161162817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161162817">(Mar 19 2019 at 15:55)</a>:</h4>
<p><a href="https://github.com/IHE/fhir/blob/master/StructureDefinition/IHE_QEDm_Provenance.xml" target="_blank" title="https://github.com/IHE/fhir/blob/master/StructureDefinition/IHE_QEDm_Provenance.xml">https://github.com/IHE/fhir/blob/master/StructureDefinition/IHE_QEDm_Provenance.xml</a></p>



<a name="161163323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161163323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Buitendijk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161163323">(Mar 19 2019 at 16:00)</a>:</h4>
<p>Nope.  Looking for a spot to have express MSH-12.  MSH-21 is fine.  When we get to SFT (what was used to transform along the way) surely we'll look at agent and entity for that.  But this topic is about maintaining what the version of the v2 message was that was in play to create the FHIR resources.  So really about maintaining information about the format (MSH-12 plus MSH-21 ultimately) to traceability and understanding.</p>



<a name="161174795"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161174795" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161174795">(Mar 19 2019 at 17:57)</a>:</h4>
<p>so you don't want to just stuff the received v2 message in a Binary, and reference that in .entity.what?  possibly needing a DocumentReference to express minimal metadata to make that binary understandable? Or using DocumentReference with the message inline?</p>



<a name="161174896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161174896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161174896">(Mar 19 2019 at 17:58)</a>:</h4>
<p>hence what is documented <a href="http://build.fhir.org/provenance.html#6.3.4.5" target="_blank" title="http://build.fhir.org/provenance.html#6.3.4.5">http://build.fhir.org/provenance.html#6.3.4.5</a></p>



<a name="161175095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161175095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Buitendijk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161175095">(Mar 19 2019 at 18:00)</a>:</h4>
<p>Interesting thought.  I'll run that by, but that was not the original idea.  Not sure we need to go to that "extreme", but there may be a use case that may need that, so will certainly hold on to the link.  We were just thinking simple version of the source message.</p>



<a name="161181296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161181296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161181296">(Mar 19 2019 at 19:12)</a>:</h4>
<blockquote>
<p>just stuff the received v2 message in a Binary, and reference that in .entity.what</p>
</blockquote>
<p>yes, except that I would not actually do the stuffing, just imply that it had happened in entity.what</p>



<a name="161181603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161181603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Buitendijk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161181603">(Mar 19 2019 at 19:16)</a>:</h4>
<p>How would you "imply" that, as mostly that would be sufficient?  What resource would hold the "implication"?  Conceptually with you, but not sure what to use to express that.</p>



<a name="161471441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161471441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Iryna Roy <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161471441">(Mar 22 2019 at 18:20)</a>:</h4>
<p>Dear V2 implementers, I probably have a similar question: I have a FHIR based middleware component that connects either FHIR or HL7 V2 based source systems to (again) FHIR or HL7 V2 target systems. I need to send HL7 V2 message somehow inside FHIR resource (without V2 transformation) - what resource would you recommend? Provenance? MessageStructure? Just Bundle? anything else? I can parse / populate FHIR anything but I need to preserve the actual V2 in the message somehow - ideas?</p>



<a name="161473179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161473179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Buitendijk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161473179">(Mar 22 2019 at 18:45)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  Can you clarify how you would express "v2.5.1" in entity.what?</p>



<a name="161473347"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161473347" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Buitendijk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161473347">(Mar 22 2019 at 18:47)</a>:</h4>
<p>Regarding Iryna's question, if we want to get the V2 message across as-is using FHIR as the vehicle, I'm wondering whether using MessageHeader and DocumentReference would be sufficient, if not just DocumentReference.  Curious about <span class="user-mention" data-user-id="191404">@John Moehrke</span> 's reaction.  It would in this case not be Provenance as we're not trying to indicate the origin/source of the FHIR construct.</p>



<a name="161483394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161483394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161483394">(Mar 22 2019 at 20:59)</a>:</h4>
<p>why is the v2 message there? is this just for audit purposes? or is it the focus?</p>



<a name="161483504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161483504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161483504">(Mar 22 2019 at 21:00)</a>:</h4>
<p>I would just refer to the source message in entity.what. You'd have to go look at the source message to see what version it was. Why else would you need to know?</p>



<a name="161484397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161484397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Buitendijk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161484397">(Mar 22 2019 at 21:12)</a>:</h4>
<p>Since we are mixing two purposes here, holding on to the v2 version of the source v2 message that was used to construct the FHIR resources (starting point of this thread) vs. the v2 message being the payload of a FHIR based exchange as the focus (Iryna's addition).  Perhaps we should split that conversation.</p>
<p>So to Grahame's question as to why to hold on to the v2 version in Provenace would be on the return trip to understand what format to respond.  One could argue that at the time of that transformation the two parties have an agreement, so no need to really track it, for that purpose.  Fair argument.  But for audit purposes it is still helpful documentation as the original may have already been purged given the life time of a message.  Sending a binary of the original v2 message, as John Moehrke suggested, may be overkill, but still helpful to indicate how to do if you really want to, while having to look up a potentially purged message is not that great either.  So simple text string with the value would be fine.  I'm not arguing for an addition in the core necessarily.  But if entity.what is required adding an extension without valueing entity.what would not work either (unless we create the extension outside of entity.</p>



<a name="161485084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161485084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161485084">(Mar 22 2019 at 21:20)</a>:</h4>
<p>in order to construct a proper v2 response, you'd need information that isn't in the FHIR response, I think. I would expect to the have the v2 request around at the same time as converting the response</p>



<a name="161485108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161485108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161485108">(Mar 22 2019 at 21:20)</a>:</h4>
<p>and I would not expect the provenance to echo back with the response. So I don't think it's a solution at all</p>



<a name="161485258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161485258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Iryna Roy <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161485258">(Mar 22 2019 at 21:22)</a>:</h4>
<p>In our solution we may auto-generate the ACK once the V2 message is received by an adapter. An adapter then creates a FHIR resource with the V2 inside. Our V2 messages are notifications only. The source system does not expect the processing result. We may specify the source system in a fhir resource.</p>



<a name="161485322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161485322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Iryna Roy <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161485322">(Mar 22 2019 at 21:23)</a>:</h4>
<p>I tried to read the Provenance description in the specification and got totally lost :)</p>



<a name="161485576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161485576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161485576">(Mar 22 2019 at 21:26)</a>:</h4>
<p>I think both preseving and non-preserving are useful. I was just describing how preserving links back through Provenance.entity... but I could also understand just using the timestamp as an indicator of the inbound message.</p>



<a name="161658280"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161658280" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Buitendijk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161658280">(Mar 25 2019 at 16:04)</a>:</h4>
<p>I'll put back into the v2-to-FHIR team:<br>
create a Provenance instance where Provenance.target(MessageHeader) references the message header at hand; when the transformer of v2-to-FHIR holds on to the original v2 message that they maintain a link between the MessageHeader.identifier and MSH-10/etc. for any return messaging; when the transformer does not hold or the return may go through a different party, then put the binary representation of the v2 source message into Provenance.entity.what(Binary); don't bother with the putting MSH-12 value into a dedicated Provenance attribute.<br>
Does that sum it up?</p>



<a name="161670370"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161670370" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161670370">(Mar 25 2019 at 18:03)</a>:</h4>
<p>btw - do you have a page where you're documenting all this stuff?</p>



<a name="161674236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/v2%20version%20in%20a%20FHIR%20resource/near/161674236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Buitendijk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/v2.20version.20in.20a.20FHIR.20resource.html#161674236">(Mar 25 2019 at 18:40)</a>:</h4>
<p>This will go to the MSH page that is connected to this overall project page: <a href="https://confluence.hl7.org/display/OO/2-To-FHIR+Project" target="_blank" title="https://confluence.hl7.org/display/OO/2-To-FHIR+Project">https://confluence.hl7.org/display/OO/2-To-FHIR+Project</a>.  Go to Segments/Fields, then MSH.  I did not copy it yet though........:)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
