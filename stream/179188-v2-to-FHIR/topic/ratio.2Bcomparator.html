---
layout: page
title: "FHIR Chat  · ratio+comparator · v2 to FHIR"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/index.html">v2 to FHIR</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/ratio.2Bcomparator.html">ratio+comparator</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="178391305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/ratio%2Bcomparator/near/178391305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christoph Müller <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/ratio.2Bcomparator.html#178391305">(Oct 17 2019 at 15:20)</a>:</h4>
<p>From our lab System we receive messages containing a ratio plus a comparator in OBX.5 (sth. like "&lt; 1:80"). Assuming, that this style is valid (standard procedure for such cases in v2), then how to I transform this into a FHIR-resource correctly?</p>
<p>Intuitively i would do it via modeling the ratio first as a valueRatio and then taking the "&lt;" into the comparator-property of the numerator. Would that be the way to do it?</p>



<a name="178423709"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/ratio%2Bcomparator/near/178423709" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/ratio.2Bcomparator.html#178423709">(Oct 17 2019 at 21:32)</a>:</h4>
<p>I think so</p>



<a name="178448224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/ratio%2Bcomparator/near/178448224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christoph Müller <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/ratio.2Bcomparator.html#178448224">(Oct 18 2019 at 06:45)</a>:</h4>
<p>ok, great. Thank you!</p>



<a name="178848278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/ratio%2Bcomparator/near/178848278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christoph Müller <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/ratio.2Bcomparator.html#178848278">(Oct 23 2019 at 12:28)</a>:</h4>
<p>I am sorry, but unfortunately I have to reopen this topic...<br>
 As for valueRatio this works perfectly fine. For referenceRange though, one may only provide SimpleQuantitites. In the case of titer for example, where the referenceRange would be sth. like "&lt;1:20", the way to write it as discussed in my previous post would not work out. (I mean sure i could put this into referenceRange.text, but this seems not very FHIR and makes not much sence after alle the "effort", coding the value itself correct)</p>
<p>Does anybody have any experience on that, or maybe even some extension at hand?</p>



<a name="178876777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/ratio%2Bcomparator/near/178876777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/ratio.2Bcomparator.html#178876777">(Oct 23 2019 at 17:32)</a>:</h4>
<p>this is a reference range with high = 1:20, and no low, right?</p>



<a name="178932195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/ratio%2Bcomparator/near/178932195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christoph Müller <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/ratio.2Bcomparator.html#178932195">(Oct 24 2019 at 08:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> yes, the Ratio "1:20" is the high.</p>



<a name="180130454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/ratio%2Bcomparator/near/180130454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christoph Müller <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/ratio.2Bcomparator.html#180130454">(Nov 07 2019 at 13:18)</a>:</h4>
<p>We now use an Extension to store that Ratio as a high. So tahnk you for that! :) </p>
<p>But, we have got another Problem at hand: within our transformation, cloverleaf replaces "&gt;" and "&lt;" by "&gt;" and "&lt;" respectively. This behavior seems legit, since the prior are not valid for XML, on the other hand the <a href="https://www.hl7.org/fhir/valueset-quantity-comparator.html" target="_blank" title="https://www.hl7.org/fhir/valueset-quantity-comparator.html">fhir spec</a> name them as valid codes. The question now is: will the receiving systems all understand the "&gt;" and "&lt;" as for what the are, or is there another, better solution? </p>
<p>Thank you already! <br>
Christoph</p>



<a name="180144599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/ratio%2Bcomparator/near/180144599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/ratio.2Bcomparator.html#180144599">(Nov 07 2019 at 15:45)</a>:</h4>
<p>The tool should be escaping and unescaping instances transparently...</p>



<a name="180219645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/ratio%2Bcomparator/near/180219645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christoph Müller <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/ratio.2Bcomparator.html#180219645">(Nov 08 2019 at 10:59)</a>:</h4>
<p>ahahaha only now i saw, that the " &amp; l t ;" above had already been converted. All problems solved so far then. Thank you for the help! :)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
