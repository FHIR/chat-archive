---
layout: page
title: "FHIR Chat  · Transform  Validator · v2 to FHIR"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/index.html">v2 to FHIR</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/Transform.20.20Validator.html">Transform  Validator</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="185212808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/Transform%20%20Validator/near/185212808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> robert worden <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/Transform.20.20Validator.html#185212808">(Jan 09 2020 at 13:47)</a>:</h4>
<p>The V2-FHIR Mapping project is considering developing an Open Source Transform Validator tool as one of the project deliverables.</p>
<p>How the transform validator will work:</p>
<p>Suppose somebody has a V2-to-FHIR transform engine or transform service, and they have at least one test V2 message instance, and the FHIR bundle they get by transforming it.</p>
<p>This pair of (V2 message, FHIR bundle) would be input to the transform validator. The validator will check that all the values to be expected from the transform are present in the FHIR bundle in the right places, and that no other values are present – checking that the transform is consistent with the mapping tables from this project. The validator will note any discrepancies, in a spreadsheet and in an OperationOutcome resource (e.g. for each discrepancy noted, giving the V2 source path, the FHIR target path, and the nature of the discrepancy).</p>
<p>Alternatively, someone may have a local variant of V2 and a local profile of FHIR, and have a localised V2-FHIR transform. They may have mapping tables describing their local transform requirements. Then, they can edit the mapping tables from this project, to reflect their local transform requirements, and can feed these modified mapping tables to the validator. The validator will check that the modified mapping tables are syntactically valid, before checking that the (message-Bundle) pair from the transform conforms with their own mapping tables. This is likely to be the most frequent use case.</p>
<p>The transform validator will be similar to FHIR validators which validate a FHIR instance against a profile. Using it, FHIR servers could offer a transform validation service. This will not compete with suppliers of transform engines and transform services, but will enable them to check and demonstrate the quality of their offerings.</p>
<p>The validator is partly implemented, and we are now considering various aspects of its functionality. If you have views on what it should do, please get in touch.</p>



<a name="185214837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/Transform%20%20Validator/near/185214837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/Transform.20.20Validator.html#185214837">(Jan 09 2020 at 14:13)</a>:</h4>
<p><span class="user-mention" data-user-id="193818">@robert worden</span> is the validator using the java fhir validator as a base? because i would be also interested in such a functionality for cda to fhir transforms and back, actually for any logical model to fhir transform and back <span aria-label="sunglasses" class="emoji emoji-1f60e" role="img" title="sunglasses">:sunglasses:</span></p>



<a name="185226885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/Transform%20%20Validator/near/185226885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> robert worden <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/Transform.20.20Validator.html#185226885">(Jan 09 2020 at 16:13)</a>:</h4>
<p>Currently the validator is specialised to V2-to-FHIR transforms, mainly because it reads the spreadsheet mapping notation being used by the v2 to FHIR mapping project; those sheets define what the transform should do. See <a href="https://confluence.hl7.org/display/OO/2-To-FHIR+Project" target="_blank" title="https://confluence.hl7.org/display/OO/2-To-FHIR+Project">https://confluence.hl7.org/display/OO/2-To-FHIR+Project</a> . However, you could use a similar layout of mapping spreadsheets to specify other transforms, such as CDA to FHIR or  OpenEHR to FHIR. In that case the validator could be adapted to validate those transforms. No, it does not depend on any FHIR validator.</p>



<a name="185234181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/Transform%20%20Validator/near/185234181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/Transform.20.20Validator.html#185234181">(Jan 09 2020 at 17:18)</a>:</h4>
<p>Has any thought been given to using StructureMap as the mapping reference rather than the spreadsheets? (possibly with changes to StructureMap of course)...</p>



<a name="185282846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/Transform%20%20Validator/near/185282846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/Transform.20.20Validator.html#185282846">(Jan 10 2020 at 05:06)</a>:</h4>
<p>I've implemented v2 to fhir and found it very useful to just run fhir validation on the output.  What I've found myself doing is posting v2 and using http headers to get the responses as fhir operation outcome. This applies fhir profile rules to v2 which I think is really useful.</p>



<a name="185282865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/Transform%20%20Validator/near/185282865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/Transform.20.20Validator.html#185282865">(Jan 10 2020 at 05:07)</a>:</h4>
<p>I havent tried it with Fhir MessageDefintion which seems to be the next step (we dont have any useful examples in the UK)</p>



<a name="185392895"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/Transform%20%20Validator/near/185392895" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> robert worden <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/Transform.20.20Validator.html#185392895">(Jan 11 2020 at 14:56)</a>:</h4>
<p>The project is considering both StructureMap and ConceptMap as representations of the 'mapping reference'. StructureMap in particular has the benefit of being executable. However, I think the project's view is that StructureMap is not yet a suitable notation for capturing and reviewing mappings - because understanding of the StructureMap resource (or equivalently, of FHIR Mapping Language) is still pretty scarce - e.g. amongst the V2 experts who we need to contribute and review the mappings. </p>
<p>In practice it appears that most people - when thinking about the relationships (or mappings) between two notations such as V2 and FHIR -  start their thinking in with spreadsheets. We don't get resistance to spreadsheets from V2 domain experts - so for capturing and reviewing the mappings, spreadsheets are the medium of choice. </p>
<p>The question is then - are spreadsheets precise enough and expressive enough to do the whole job? We think they are - and they are modular, and you can validate a transform result against spreadsheets. Watch this space.</p>



<a name="185393407"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/Transform%20%20Validator/near/185393407" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> robert worden <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/Transform.20.20Validator.html#185393407">(Jan 11 2020 at 15:11)</a>:</h4>
<p>Running FHIR validation on the resulting resource or bundle is useful, but we are aiming to do better. Validating a resource is a <strong>syntactic </strong>validation - checking that the resource obeys the rules of FHIR, but not checking that the data are correct. Validating a transform result is <strong>semantic </strong>validation - checking that the content is correct,  according to the V2 message it came from, via the transform. </p>
<p>e.g. validating a Patient resource may check that the patient has a valid  birthDate - any possible birthDate. But validating the transform result checks that it is the correct birthDate, according to the V2 message source.</p>
<p>So the transform validator will do semantic validation, supporting the HL7 goal of semantic interoperability.</p>



<a name="185398758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/Transform%20%20Validator/near/185398758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/Transform.20.20Validator.html#185398758">(Jan 11 2020 at 17:47)</a>:</h4>
<p>Fhir validation checks semantic content is correct. It can check a snomed observation in a obx segment is correct and follows any ValueSet rules.</p>



<a name="185491362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/Transform%20%20Validator/near/185491362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> robert worden <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/Transform.20.20Validator.html#185491362">(Jan 13 2020 at 13:14)</a>:</h4>
<p>Kevin - agreed - FHIR validation does some semantic validation, and transform validation does more - in combination you will get pretty comprehensive  semantic validation.</p>



<a name="190011815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/Transform%20%20Validator/near/190011815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> robert worden <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/Transform.20.20Validator.html#190011815">(Mar 08 2020 at 12:13)</a>:</h4>
<p>The attached note expains use cases for a V2-FHIR transform validator. Comments please. <a href="/user_uploads/10155/7vhAMfbdnQOwsXg0Wll5KUIT/Transform-Validator.docx" target="_blank" title="Transform-Validator.docx">Transform-Validator.docx</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
