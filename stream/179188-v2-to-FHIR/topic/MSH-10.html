---
layout: page
title: "FHIR Chat  · MSH-10 · v2 to FHIR"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/index.html">v2 to FHIR</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/MSH-10.html">MSH-10</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="169301618"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/MSH-10/near/169301618" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/MSH-10.html#169301618">(Jun 29 2019 at 15:23)</a>:</h4>
<p>Does anyone have any suggestions as to where to put the source HL7 V2 message's 'Message Control ID' (MSH-10) when transforming the V2 message to a Bundle using the messaging paradigm?</p>



<a name="169329005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/MSH-10/near/169329005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/MSH-10.html#169329005">(Jun 30 2019 at 07:25)</a>:</h4>
<p>Suggestion: I would think of <a href="http://MessageHeader.id" target="_blank" title="http://MessageHeader.id">MessageHeader.id</a> (but i am not too that <a href="http://Bundle.id" target="_blank" title="http://Bundle.id">Bundle.id</a> is not to be used too/instead)</p>



<a name="169339362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/MSH-10/near/169339362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/MSH-10.html#169339362">(Jun 30 2019 at 13:05)</a>:</h4>
<p>The problem is that MSH-10 in v2 is NOT a unique identifier, mostly it's a rollover number from 1 to 9999. It's only supposed to be unique within the context of 1 peer-to-peer communication link, within the next 10 minutes or so (to link responses to messages, to detect duplicate messages). Outside of that context is has no guarantee whatsoever of uniqueness, so never use it as a FHIR id or identifier unless you happen to know (you could be lucky) that the sender of the v2 message happens to create unique control IDs.</p>



<a name="169360053"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/MSH-10/near/169360053" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/MSH-10.html#169360053">(Jul 01 2019 at 00:23)</a>:</h4>
<p>I agree Rene. Your point also leads to the problem of how I would represent  MSH-10 as a fullUrl in the message Bundle. I was then thinking an extension on MessageHeader, yet was surprised this has not been addressed before. This then lead me to think I could and probably should create a Provenance resource  where the  activity is a create, the target is my FHIR resources, the agent is the integration engine, the entity is the HL7 V2 message where its whatReference is a reference with just an identifier property that is the MSH-10 Message Control ID.</p>



<a name="169376778"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/MSH-10/near/169376778" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/MSH-10.html#169376778">(Jul 01 2019 at 08:24)</a>:</h4>
<p>Given that MSH-10, after a v2 message has been transformed into FHIR resources, is just "provenance" this would seem to be a good fit. But even in provenance one has to be careful not to regard MSH-10 as a unique identifier, for the Datatypes used in provenance will likely require you to use unique identifiers. As such you may need an extension (of type string) on Provenance.</p>



<a name="169388030"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/MSH-10/near/169388030" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Newman <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/MSH-10.html#169388030">(Jul 01 2019 at 11:47)</a>:</h4>
<p>The v2-to-FHIR project has already started thinking about what Provenance records might be needed for such a transform. We haven't reached any conclusions, but the begins are documented at <a href="https://confluence.hl7.org/display/OO/v2-to-FHIR+Provenance" target="_blank" title="https://confluence.hl7.org/display/OO/v2-to-FHIR+Provenance">https://confluence.hl7.org/display/OO/v2-to-FHIR+Provenance</a>. Please have a look and add your own thoughts.</p>



<a name="169444638"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/MSH-10/near/169444638" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/MSH-10.html#169444638">(Jul 02 2019 at 00:54)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="192758">@Craig Newman</span> that reference was very useful and validated most of my thinking.</p>



<a name="169612920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179188-v2%20to%20FHIR/topic/MSH-10/near/169612920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179188-v2-to-FHIR/topic/MSH-10.html#169612920">(Jul 04 2019 at 00:46)</a>:</h4>
<p>I think you prefix the message id with a GUID to make it unique globally. As for rolling reuse... that's the sort of thing you just to wear as a limitation if you can't alter the sourrce</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
