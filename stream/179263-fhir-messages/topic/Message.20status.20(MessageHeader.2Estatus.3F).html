---
layout: page
title: "FHIR Chat  · Message status (MessageHeader.status?) · fhir-messages"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179263-fhir-messages/index.html">fhir-messages</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179263-fhir-messages/topic/Message.20status.20(MessageHeader.2Estatus.3F).html">Message status (MessageHeader.status?)</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="215678817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179263-fhir-messages/topic/Message%20status%20%28MessageHeader.status%3F%29/near/215678817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179263-fhir-messages/topic/Message.20status.20(MessageHeader.2Estatus.3F).html#215678817">(Nov 05 2020 at 07:45)</a>:</h4>
<p>On our ePrescribing project we will have a queue holding prescriptions awaiting delivery to a pharmacy. <br>
They will have a status of queued. When they are collected the status will change to delivered.</p>
<p>This seems to be a similar concept to {resource}.status and I should create a status extension for MessageHeader?</p>



<a name="215901627"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179263-fhir-messages/topic/Message%20status%20%28MessageHeader.status%3F%29/near/215901627" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179263-fhir-messages/topic/Message.20status.20(MessageHeader.2Estatus.3F).html#215901627">(Nov 06 2020 at 20:45)</a>:</h4>
<p>In our space, we simply delete the messages once the recipient has taken custody of them.  You <em>could</em> create an extension - either a status or a boolean.  Do you have a reason to retain the messages as queriable (as opposed to in audit) once they've been consumed?</p>



<a name="215941104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179263-fhir-messages/topic/Message%20status%20%28MessageHeader.status%3F%29/near/215941104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179263-fhir-messages/topic/Message.20status.20(MessageHeader.2Estatus.3F).html#215941104">(Nov 07 2020 at 06:28)</a>:</h4>
<p>What I'm looking at is in the sequence diagrams here:  <a href="https://specs.prescribeit.ca/R3.0/erx/erx.html#eeh">https://specs.prescribeit.ca/R3.0/erx/erx.html#eeh</a></p>
<p>For the Get poll queue requests I'm suggesting:</p>
<p>GET [base]/Bundle?message.destination.receiver=[ODSCode]&amp;status=queued<br>
or<br>
GET [base]/Bundle/{id}</p>
<p>For the POST clear message queue, I'm looking at PATCH to change the message status for individual messages.</p>
<p>We also have a prescription tracker api. which is similar queries to the GET poll queue requests.</p>



<a name="215941493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179263-fhir-messages/topic/Message%20status%20%28MessageHeader.status%3F%29/near/215941493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179263-fhir-messages/topic/Message.20status.20(MessageHeader.2Estatus.3F).html#215941493">(Nov 07 2020 at 06:42)</a>:</h4>
<p>We can use this in our cancellation process, so if prescription-order has a status of delivered. A prescriber will know they have to contact the pharmacy to cancel the prescription (and the pharmacy will return the order by setting the status back to queued).</p>



<a name="215943571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179263-fhir-messages/topic/Message%20status%20%28MessageHeader.status%3F%29/near/215943571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179263-fhir-messages/topic/Message.20status.20(MessageHeader.2Estatus.3F).html#215943571">(Nov 07 2020 at 07:52)</a>:</h4>
<p>Shouldn't the message stay 'queued' until an ack-message has been received by the server?</p>



<a name="215944042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179263-fhir-messages/topic/Message%20status%20%28MessageHeader.status%3F%29/near/215944042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179263-fhir-messages/topic/Message.20status.20(MessageHeader.2Estatus.3F).html#215944042">(Nov 07 2020 at 08:08)</a>:</h4>
<p>Yes, that's what I was thinking. The PATCH acts as an ack. </p>
<p>I think polling is the wrong description, it's a query API which is also used to collect messages.</p>



<a name="215971734"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179263-fhir-messages/topic/Message%20status%20%28MessageHeader.status%3F%29/near/215971734" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179263-fhir-messages/topic/Message.20status.20(MessageHeader.2Estatus.3F).html#215971734">(Nov 07 2020 at 20:23)</a>:</h4>
<p>In PrescribeIT, the 'ack' is the request by the recipient to delete the message from the queue</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
