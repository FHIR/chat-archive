---
layout: page
title: "FHIR Chat  · Test case bugs · crucible"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/index.html">crucible</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Test.20case.20bugs.html">Test case bugs</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153965734"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Test%20case%20bugs/near/153965734" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Toby Hu <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Test.20case.20bugs.html#153965734">(May 30 2018 at 19:17)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191381">@Jason Walonoski</span>  and <span class="user-mention" data-user-id="192576">@Robert Scanlon</span> , there seems to be a few bugs in the test resources in crucible test suites:<br>
  - In X010: Appointment: Create New Message,  the field "reason" is of 0..* carnality, so a pair of square brackets are missing.<br>
  - In X010 Claim: Create New, item.category, item.detail.category, item.detail.subDetail.category and item.detail.subDetail.service should be CodeableConcepts, but the sub fields are not conformant.<br>
  - In X010: AdverseEvent: Create New, there are no such fields as "kind" and "event"<br>
  - In X010: ClaimResponse: Create New adjudication.category fields should be CodeableConcept.</p>
<p>There are similar syntax errors for EpisodeOfCare, ImagingManifest, MedicationDispense and StructureDefinition resources.</p>
<p>Please take a look if they do look like bugs in your test cases. Thanks a lot.</p>



<a name="178202260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Test%20case%20bugs/near/178202260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elkhan Yusubov <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Test.20case.20bugs.html#178202260">(Oct 15 2019 at 15:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191381">@Jason Walonoski</span>  &amp; <span class="user-mention" data-user-id="192576">@Robert Scanlon</span> - found another bug in test setup for Clinical resources =&gt; Resource Test Care Plan:<br>
Setup of test has CarePlan resource payload has kind property set to invalid value set: "kind": "Group",<br>
According to R4 spec on CarePlan it needs be one of the following: <a href="http://hl7.org/fhir/valueset-care-plan-activity-kind.html" target="_blank" title="http://hl7.org/fhir/valueset-care-plan-activity-kind.html">http://hl7.org/fhir/valueset-care-plan-activity-kind.html</a></p>



<a name="178226724"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Test%20case%20bugs/near/178226724" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Test.20case.20bugs.html#178226724">(Oct 15 2019 at 19:29)</a>:</h4>
<p>I'm having trouble finding that error.  Did you run that on the public <a href="http://projectcrucible.org" target="_blank" title="http://projectcrucible.org">projectcrucible.org</a> site or are you running a local instance?</p>



<a name="178293699"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Test%20case%20bugs/near/178293699" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elkhan Yusubov <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Test.20case.20bugs.html#178293699">(Oct 16 2019 at 14:23)</a>:</h4>
<p>Yes, that is correct. It was run on the public <a href="http://projectcrucible.org" target="_blank" title="http://projectcrucible.org">projectcrucible.org</a>.</p>



<a name="178320067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Test%20case%20bugs/near/178320067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Test.20case.20bugs.html#178320067">(Oct 16 2019 at 19:18)</a>:</h4>
<p>Do you have a link to the specific example?  When looking at a result, there is a "Test Result Permalink" which saves a direct link to the result to your clipboard that you can share.</p>



<a name="178328478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Test%20case%20bugs/near/178328478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elkhan Yusubov <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Test.20case.20bugs.html#178328478">(Oct 16 2019 at 21:08)</a>:</h4>
<p><span class="user-mention" data-user-id="192576">@Robert Scanlon</span>  here is the link: <a href="https://projectcrucible.org/servers/5d9f940704ebd0731c000002#5da7834b04ebd05204000000/resourcetest_careplan/X010_CarePlan" target="_blank" title="https://projectcrucible.org/servers/5d9f940704ebd0731c000002#5da7834b04ebd05204000000/resourcetest_careplan/X010_CarePlan">https://projectcrucible.org/servers/5d9f940704ebd0731c000002#5da7834b04ebd05204000000/resourcetest_careplan/X010_CarePlan</a></p>



<a name="178390469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Test%20case%20bugs/near/178390469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Test.20case.20bugs.html#178390469">(Oct 17 2019 at 15:11)</a>:</h4>
<p>Thanks! <span class="user-mention" data-user-id="191381">@Jason Walonoski</span> looks like our CarePlan resource mysteriously includes a single code outside of the ValueSet binding (<code>directive</code> isn't in <a href="http://hl7.org/fhir/ValueSet/care-plan-intent|4.0.0" target="_blank" title="http://hl7.org/fhir/ValueSet/care-plan-intent|4.0.0">http://hl7.org/fhir/ValueSet/care-plan-intent|4.0.0</a>).  I didn't find any obvious culprit (e.g. incorrect data in expansions.json) See <a href="https://github.com/fhir-crucible/fhir_models/blob/6a68c2787159576311eccf186bc5c21b28add4e8/lib/fhir_models/fhir/resources/CarePlan.rb#L24" target="_blank" title="https://github.com/fhir-crucible/fhir_models/blob/6a68c2787159576311eccf186bc5c21b28add4e8/lib/fhir_models/fhir/resources/CarePlan.rb#L24">https://github.com/fhir-crucible/fhir_models/blob/6a68c2787159576311eccf186bc5c21b28add4e8/lib/fhir_models/fhir/resources/CarePlan.rb#L24</a> and <a href="https://www.hl7.org/fhir/valueset-care-plan-intent.html" target="_blank" title="https://www.hl7.org/fhir/valueset-care-plan-intent.html">https://www.hl7.org/fhir/valueset-care-plan-intent.html</a></p>



<a name="178399275"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Test%20case%20bugs/near/178399275" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Test.20case.20bugs.html#178399275">(Oct 17 2019 at 16:47)</a>:</h4>
<p>It looks like it is being incorrectly imported from here: <a href="https://www.hl7.org/fhir/codesystem-request-intent.html" target="_blank" title="https://www.hl7.org/fhir/codesystem-request-intent.html">https://www.hl7.org/fhir/codesystem-request-intent.html</a> which that ValueSet <code>compose.include</code>'s from.</p>



<a name="178417123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Test%20case%20bugs/near/178417123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Test.20case.20bugs.html#178417123">(Oct 17 2019 at 20:11)</a>:</h4>
<p>Fix pending: <a href="https://github.com/fhir-crucible/fhir_models/pull/66" target="_blank" title="https://github.com/fhir-crucible/fhir_models/pull/66">https://github.com/fhir-crucible/fhir_models/pull/66</a></p>



<a name="178471019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Test%20case%20bugs/near/178471019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elkhan Yusubov <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Test.20case.20bugs.html#178471019">(Oct 18 2019 at 13:01)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191381">@Jason Walonoski</span> looking into it, let me know when it is ready to be tested. Will gladly provide support.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
