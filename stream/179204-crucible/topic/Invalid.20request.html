---
layout: page
title: "FHIR Chat  · Invalid request · crucible"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/index.html">crucible</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html">Invalid request</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153911572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153911572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153911572">(Oct 01 2017 at 23:31)</a>:</h4>
<p>Just discovered that (test X020) one of the requests that crucible makes for the AllergyIntolerance has a URL that violates the permissible <code>id</code> characters<br>
<a href="http://hl7.org/fhir/resource.html#id" target="_blank" title="http://hl7.org/fhir/resource.html#id">http://hl7.org/fhir/resource.html#id</a><br>
It includes a <code>:</code>char</p>



<a name="153911573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153911573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153911573">(Oct 01 2017 at 23:33)</a>:</h4>
<p>Also, the test data created for test X030 FamilyMember history does not conform to the resource invariant <code>fhs-3</code> Not done reason was false, but a reason was provided.<br>
(recommended changing the test condition on this one to indicate that the server didn't validate it (if the server supports validation)</p>



<a name="153911574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153911574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153911574">(Oct 01 2017 at 23:37)</a>:</h4>
<p>The test data generated for X010 AdverseEvent includes a property <code>kind</code> that doesn't exist on the resource.</p>



<a name="153911575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153911575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153911575">(Oct 01 2017 at 23:38)</a>:</h4>
<p>The AdverseEvent S000 search test also lists an incorrect set of search parameters that aren't defined in the specification.</p>



<a name="153911576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153911576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153911576">(Oct 01 2017 at 23:55)</a>:</h4>
<p>The test data generated for X010: ImagingManifest includes a property FrameNumber that isn't defined in the spec</p>



<a name="153911871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153911871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153911871">(Oct 02 2017 at 19:26)</a>:</h4>
<p><span class="user-mention" data-user-id="194155">@Dylan Mahalingam</span> <span class="user-mention" data-user-id="192576">@Robert Scanlon</span></p>



<a name="153912061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153912061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153912061">(Oct 03 2017 at 12:41)</a>:</h4>
<p>Thanks for reporting these Brian.  I started taking a look last night but don't have answers yet.  Thanks for the reports and I'll get back to you later this week when I have time to dig into thise.</p>



<a name="153912549"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153912549" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153912549">(Oct 05 2017 at 05:49)</a>:</h4>
<p>no problems, if you send me a link to where this code is on github to generate the sample data, I'd be happy to take a look and make some pull requests too</p>



<a name="153912550"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153912550" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153912550">(Oct 05 2017 at 05:49)</a>:</h4>
<p>otherwise just happy to keep on logging issues this way</p>



<a name="153912633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153912633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153912633">(Oct 05 2017 at 15:20)</a>:</h4>
<p>Sure, happy to have pull requests.</p>
<p>I make no claims on the beauty of this code. :)</p>
<p><a href="https://github.com/fhir-crucible/plan_executor/blob/16bc0516ff8a1bab2a6a44e4281243444a649015/lib/resource_generator.rb#L278" target="_blank" title="https://github.com/fhir-crucible/plan_executor/blob/16bc0516ff8a1bab2a6a44e4281243444a649015/lib/resource_generator.rb#L278">https://github.com/fhir-crucible/plan_executor/blob/16bc0516ff8a1bab2a6a44e4281243444a649015/lib/resource_generator.rb#L278</a></p>



<a name="153954933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153954933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153954933">(Apr 30 2018 at 07:48)</a>:</h4>
<p>Just back checking over test results again, this X030 still failing...<br>
Line 571 looks like where the fix needs to go</p>



<a name="153954937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153954937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153954937">(Apr 30 2018 at 08:19)</a>:</h4>
<p>Another that I've found is that the minimal Condition doesn't pass the <code>con-3</code> invariant<br>
<a href="https://github.com/fhir-crucible/plan_executor/blob/16bc0516ff8a1bab2a6a44e4281243444a649015/lib/resource_generator.rb#L197" target="_blank" title="https://github.com/fhir-crucible/plan_executor/blob/16bc0516ff8a1bab2a6a44e4281243444a649015/lib/resource_generator.rb#L197">https://github.com/fhir-crucible/plan_executor/blob/16bc0516ff8a1bab2a6a44e4281243444a649015/lib/resource_generator.rb#L197</a></p>



<a name="153954938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153954938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153954938">(Apr 30 2018 at 08:20)</a>:</h4>
<p>Subsequently my server doesn't pass XFER0 (creating the patient in a transaction, as the condition doesn't pass)</p>



<a name="153954939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153954939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153954939">(Apr 30 2018 at 08:21)</a>:</h4>
<p>Just need to also provide the clinicalStatus property value, suggest "active"</p>



<a name="153954944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153954944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153954944">(Apr 30 2018 at 08:31)</a>:</h4>
<p>Also looking at the dstu2/stu3 compatibility, how is that done, as the same test fails on our dstu2 server due to the <code>patient</code> property being renamed in stu3 to <code>subject</code></p>



<a name="153954945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153954945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153954945">(Apr 30 2018 at 08:33)</a>:</h4>
<p><a href="https://www.projectcrucible.org/servers/56ac11f76372752b95020000#5ae6d36804ebd0479a000004/transactionandbatchtest/XFER0" target="_blank" title="https://www.projectcrucible.org/servers/56ac11f76372752b95020000#5ae6d36804ebd0479a000004/transactionandbatchtest/XFER0">https://www.projectcrucible.org/servers/56ac11f76372752b95020000#5ae6d36804ebd0479a000004/transactionandbatchtest/XFER0</a></p>



<a name="153955057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153955057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153955057">(Apr 30 2018 at 17:55)</a>:</h4>
<p>Thanks for the details, Brian. We have an open issue on this (<a href="https://github.com/fhir-crucible/crucible/issues/273" target="_blank" title="https://github.com/fhir-crucible/crucible/issues/273">https://github.com/fhir-crucible/crucible/issues/273</a>) that I've linked back to this thread.</p>



<a name="153955132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153955132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153955132">(Apr 30 2018 at 23:03)</a>:</h4>
<p>Thanks, has anyone run it on Windows before, or has to be Mac/Linux?</p>



<a name="153956067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/153956067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#153956067">(May 04 2018 at 21:24)</a>:</h4>
<p>I haven't tried to run a local server of Crucible on Windows in a while. There can be funky setup of Ruby on Windows. If you can get passed that, it should work as expected.</p>



<a name="221752096"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179204-crucible/topic/Invalid%20request/near/221752096" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sanjay Kandula <a href="https://fhir.github.io/chat-archive/stream/179204-crucible/topic/Invalid.20request.html#221752096">(Jan 06 2021 at 10:26)</a>:</h4>
<p>Hi Brian, Do you have the steps to install crucible in windows 10 local machine?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
