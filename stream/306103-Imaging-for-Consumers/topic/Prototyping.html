---
layout: page
title: "FHIR Chat  · Prototyping · Imaging for Consumers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/index.html">Imaging for Consumers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html">Prototyping</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="260425486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/260425486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#260425486">(Nov 05 2021 at 16:04)</a>:</h4>
<p>So, to get concrete about prototypes... we have the latest SMART on FHIR launcher (including support for the about-to-be-published <a href="http://build.fhir.org/ig/HL7/smart-app-launch/">SMARTv2 spec</a>) at <a href="https://smart.argo.run">https://smart.argo.run</a>. It acts as a proxy in front of the open server hosted at <a href="https://r4.smarthealthit.org">https://r4.smarthealthit.org</a>, implementing support for SMART on FHIR launch as well as token introspection. What this means is that </p>
<ul>
<li>a client app can "register" (or not; the launcher isn't picky) and request authorization for a specific patient record</li>
<li>an imaging API server can receive API calls that include an access token, and can introspect this token by calling the the <code>introspection_endpoint</code> endpoint listed in <code>[FHIR base]/.well-known/smart-configuration</code> to receive a payload like:</li>
</ul>
<div class="codehilite"><pre><span></span><code>{
    &quot;patient&quot;: &quot;87a339d0-8cae-418e-89c7-8651e6aab3c6&quot;,
    &quot;token_type&quot;: &quot;bearer&quot;,
    &quot;scope&quot;: &quot;launch/patient patient/ImagingStudy.rs patient/Patient.rs&quot;,
    &quot;client_id&quot;: &quot;smart_granular_app&quot;,
    &quot;active&quot;: true,
    // extra properties snipped
}
</code></pre></div>
<p>This introspection payload should have all the data needed (<code>patient</code>, <code>scope</code>, <code>active</code>) for an imaging API server to perform authz on a request like <code>GET /fhir/ImagingStudy?patient=X</code> or <code>GET /dicomweb/studies/Y</code>.</p>



<a name="260425603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/260425603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#260425603">(Nov 05 2021 at 16:05)</a>:</h4>
<p>The source for (this branch of) the SMART Launcher is at <a href="https://github.com/microsoft-healthcare-madison/smart-launcher">https://github.com/microsoft-healthcare-madison/smart-launcher</a>; we've got a PR underway to incorporate the latest functionality back into <a href="https://github.com/smart-on-fhir/smart-launcher">https://github.com/smart-on-fhir/smart-launcher</a></p>



<a name="260426277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/260426277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#260426277">(Nov 05 2021 at 16:09)</a>:</h4>
<p>So for a demo, I think we'd want:</p>
<ol start="0">
<li>An imaging server (or pair of 'em) supporting <code>GET /fhir/ImagingStudy?patient=X</code> and <code>GET /dicomweb/studies/Y</code>, enforcing authz based on token introspection</li>
<li>A simple web app that authorizes against the launcher and then fetches some patient demographics from the launcher's clinical data server + fetches some imaging data from the Imaging server</li>
</ol>



<a name="260439521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/260439521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Hafey <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#260439521">(Nov 05 2021 at 17:43)</a>:</h4>
<p>Now that I think of it, the fastest way to get this done is to implement a server that implements the needed FHIR and DICOMweb endpoints for some static data.  Another benefit of this is that it would make it much easier for others to understand so they can implement it themselves (my ultimate goal)</p>



<a name="260439629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/260439629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Hafey <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#260439629">(Nov 05 2021 at 17:44)</a>:</h4>
<p>that long with a simple image viewer built with cornerstone should be easy to do</p>



<a name="260441702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/260441702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#260441702">(Nov 05 2021 at 17:59)</a>:</h4>
<p>Re: server implementing support for static data just to be clear, you mean a "dynamic" web server that can parse query params and authz headers (etc), but for which the "backing store" is basically a directory with a few JSON + DICOM files in it? I agree, that's a great model.</p>



<a name="260441811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/260441811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#260441811">(Nov 05 2021 at 18:00)</a>:</h4>
<p>I think this could be a ~200-line Node.js app. (Then we can talk about other "persistence modules" that would allow this server to source data from a PACS or whatever. There's going to be some real value, one the very bare bones work, to showing how to connect this into real underlying imaging data sources.)</p>



<a name="260442398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/260442398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#260442398">(Nov 05 2021 at 18:03)</a>:</h4>
<p>(On the real-world integration front, the hard and interesting bits are like: given a FHIR Patient id, how do I know which DICOM files "belong to" this patient? You need some mapping/matching strategy that's often institution-specific.)</p>



<a name="260454542"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/260454542" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Hafey <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#260454542">(Nov 05 2021 at 19:38)</a>:</h4>
<p>yes exactly and nodejs is exactly what I was planning to do it in.</p>



<a name="260454876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/260454876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Hafey <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#260454876">(Nov 05 2021 at 19:41)</a>:</h4>
<p>for real world integration, yes I can see this being an integration issue.  Most PACS/VNA systems are synchronized with the PHR nowadays so it may not be too bad.  I have not heard of many customers integrating PACS/VNA with FHIR yet though - I think it is still in early adoption phase</p>



<a name="261281366"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/261281366" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Hafey <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#261281366">(Nov 12 2021 at 17:02)</a>:</h4>
<p>All - realistically I won't be able to move this forward until December due to RSNA and US Thanksgiving Holidays coming up.</p>



<a name="261284271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/261284271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#261284271">(Nov 12 2021 at 17:24)</a>:</h4>
<p>Thanks for the heads up! If anyone feels the urge to start a project before then, I'd say drop a note here :-)</p>



<a name="267647915"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/267647915" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#267647915">(Jan 11 2022 at 21:30)</a>:</h4>
<p>I've been tinkering a bit at the FHIR connecthon this week --  using Epic's support for Introspection to try things out.</p>



<a name="267766693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/267766693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#267766693">(Jan 12 2022 at 18:32)</a>:</h4>
<p><a href="https://github.com/jmandel/smart-imaging-c10n-2022-01">https://github.com/jmandel/smart-imaging-c10n-2022-01</a> is what I put together as a quick demo. It works around some current limitations in the Epic introspection API, resolves the FHIR Patient full resource associated with an access token, and provides access to some canned DICOM images. The major gap right now is that Epic's authorization UX doesn't provide any way for consumers to review/approve a request that includes "Imaging Data". Just USCDI stuff.</p>



<a name="275719429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/275719429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Howells <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#275719429">(Mar 17 2022 at 20:14)</a>:</h4>
<p>We (<span class="user-mention" data-user-id="191315">@Josh Mandel</span> <span class="user-mention" data-user-id="222054">@Gino Canessa</span> and a few others) are still actively looking for folks who may want to test out this spec. If you are interested, please let us know via this thread or offline.</p>



<a name="275719628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/275719628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#275719628">(Mar 17 2022 at 20:16)</a>:</h4>
<p>This thread only has a handful of subscribers -- folks who have already indicated interest. It's likely not a good place to cast a net!</p>



<a name="275719698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/275719698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ricky Bloomfield <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#275719698">(Mar 17 2022 at 20:16)</a>:</h4>
<p>I've reached out to some contacts to see if I can drum up some interest!</p>



<a name="277931682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/277931682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Howells <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#277931682">(Apr 05 2022 at 19:25)</a>:</h4>
<p>I'm still actively looking as well. It came up today in a conversation with an app that may have some interest from a health system.</p>



<a name="277938683"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/277938683" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ricky Bloomfield <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#277938683">(Apr 05 2022 at 20:26)</a>:</h4>
<p>I have two people who are looking into it at their respective organizations. Neither of them have said "no" yet, so that's a start!</p>



<a name="277952434"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/277952434" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#277952434">(Apr 05 2022 at 22:33)</a>:</h4>
<p>Ping. <span class="user-mention" data-user-id="197037">@Jonathan Whitby</span> <span class="user-mention" data-user-id="193597">@Chris Hafey</span> <span class="user-mention" data-user-id="277357">@Christopher Lindop</span> <span class="user-mention" data-user-id="194118">@Kinson</span> <span class="user-mention" data-user-id="462175">@David Kwan</span> <span class="user-mention" data-user-id="197447">@Diana_Ovelgoenne</span> <span class="user-mention" data-user-id="253949">@Brian Bialecki</span> <span class="user-mention" data-user-id="193441">@Chris Carr</span> <span class="user-mention" data-user-id="195336">@Eric Martin</span> <span class="user-mention" data-user-id="191960">@Brad Genereaux</span></p>



<a name="278114706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/306103-Imaging%20for%20Consumers/topic/Prototyping/near/278114706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brad Genereaux <a href="https://fhir.github.io/chat-archive/stream/306103-Imaging-for-Consumers/topic/Prototyping.html#278114706">(Apr 07 2022 at 03:58)</a>:</h4>
<p>I'm not sure I can help with testing, but happy to ideate or talk through any issues!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
