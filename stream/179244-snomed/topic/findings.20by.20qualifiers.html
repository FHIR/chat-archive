---
layout: page
title: "FHIR Chat  · findings by qualifiers · snomed"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179244-snomed/index.html">snomed</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179244-snomed/topic/findings.20by.20qualifiers.html">findings by qualifiers</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="208539544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179244-snomed/topic/findings%20by%20qualifiers/near/208539544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179244-snomed/topic/findings.20by.20qualifiers.html#208539544">(Aug 31 2020 at 10:09)</a>:</h4>
<p>Hi (and apologies if I'm not using the right terms):<br>
Can I query a server for all findings that have a given qualifier? How?<br>
The case at hand: I want to see all findings that have a qualifier "Perinatal" or "Neonatal"</p>



<a name="208556331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179244-snomed/topic/findings%20by%20qualifiers/near/208556331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cora Drenkhahn <a href="https://fhir.github.io/chat-archive/stream/179244-snomed/topic/findings.20by.20qualifiers.html#208556331">(Aug 31 2020 at 13:32)</a>:</h4>
<p>If I understand this correctly you'll probably need to query using the <a href="https://confluence.ihtsdotools.org/display/DOCECL/1.+Introduction">Expression Constraint Language (ECL)</a>. Like this, you can limit your results to concepts that adhere to a given definition. <br>
For your example the ECL expression would be something like this: </p>
<div class="codehilite"><pre><span></span><code>&lt;&lt; 404684003|Clinical finding| : &lt;&lt; 246454002|Occurrence| = (
    (&lt;&lt; 371578004|Perinatal period| OR &lt;&lt; 255407002|Neonatal|)
  )
</code></pre></div>


<p>Your server needs to be able to handle ECL but <a href="https://confluence.ihtsdotools.org/display/FHIR/Features+of+Known+Servers">quite a few do</a>.<br>
Then, you can use the <code>$expand</code> operation to <a href="https://www.hl7.org/fhir/snomedct.html#implicit">query an implicit ValueSet</a> defined by ECL (see the last of the five possibilities).</p>



<a name="208922439"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179244-snomed/topic/findings%20by%20qualifiers/near/208922439" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179244-snomed/topic/findings.20by.20qualifiers.html#208922439">(Sep 03 2020 at 05:29)</a>:</h4>
<p>You _should_ also be able to use <code>ValueSet.compose.include.filter</code>, since all properties should have a corresponding filter that supports the <code>=</code> and <code>in</code> operators (<a href="https://www.hl7.org/fhir/codesystem.html#filters">https://www.hl7.org/fhir/codesystem.html#filters</a>).  In this case, where you want to test <code>&lt;&lt; 255407002|Neonatal|</code> it is unclear whether SNOMED's redefinition of the <code>in</code> operator to take a ValueSet URI as its parameter value applies, or whether the default comma-separated list of codes should be used.<br>
If the ValueSet approach does apply, then you'd have</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;include&quot;</span><span class="p">:</span> <span class="p">[{</span>
    <span class="nt">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot;http://snomed.info/sct&quot;</span><span class="p">,</span>
    <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;concept&quot;</span><span class="p">,</span>
      <span class="nt">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;is-a&quot;</span><span class="p">,</span>
      <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;404684003&quot;</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;246454002&quot;</span><span class="p">,</span>
      <span class="nt">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
      <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;http://snomed.info/sct?fhir_vs=isa/371578004&quot;</span>
    <span class="p">}]</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="nt">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot;http://snomed.info/sct&quot;</span><span class="p">,</span>
    <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="p">[{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;concept&quot;</span><span class="p">,</span>
      <span class="nt">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;is-a&quot;</span><span class="p">,</span>
      <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;404684003&quot;</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;246454002&quot;</span><span class="p">,</span>
      <span class="nt">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
      <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;http://snomed.info/sct?fhir_vs=isa/255407002&quot;</span>
    <span class="p">}]</span>
  <span class="p">}]</span>
<span class="p">}</span>
</code></pre></div>


<p>Note, this is quite the same semantics because it doesn't capture the  descendants or self of <code>&lt;&lt; 246454002|Occurrence|</code> but since Occurrence has no descendants this is not likely to be an issue.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
