---
layout: page
title: "FHIR Chat  · Validierung gegen Kostenträger Profil · german/kbv"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/index.html">german/kbv</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Validierung.20gegen.20Kostentr.C3.A4ger.20Profil.html">Validierung gegen Kostenträger Profil</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="175513974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Validierung%20gegen%20Kostentr%C3%A4ger%20Profil/near/175513974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarat Chand Kandukuri <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Validierung.20gegen.20Kostentr.C3.A4ger.20Profil.html#175513974">(Sep 12 2019 at 09:45)</a>:</h4>
<p>Hallo,</p>
<p>Gerade versuche ich eine Beispiel von eine Kostenträger Profil von KBV von VOS 1.01. Das kann man hier <a href="https://simplifier.net/verordnungssoftware-schnittstelle/74prvmkostentraeger" target="_blank" title="https://simplifier.net/verordnungssoftware-schnittstelle/74prvmkostentraeger">https://simplifier.net/verordnungssoftware-schnittstelle/74prvmkostentraeger</a> finden.<br>
Da gibts eine nested extension das 'ruhenderLeistunganspruchart' heißt. Das ist eine Coverage-&gt;gkv-zusatzinfo-geschuetzt-&gt;ruhenderLeistungsanspruch-&gt;art finden. Das hat eine valueCode von [12]. Laut Doku von FHIR Elementdefinition "<a href="http://www.hl7.org/fhir/STU3/elementdefinition-definitions.html#ElementDefinition.pattern_x_" target="_blank" title="http://www.hl7.org/fhir/STU3/elementdefinition-definitions.html#ElementDefinition.pattern_x_">http://www.hl7.org/fhir/STU3/elementdefinition-definitions.html#ElementDefinition.pattern_x_</a>" bedeutet das einer Wert von die pattern erlaubt sein soll. Das heißt, da sollte "1" oder "2" erlaubt sein.</p>
<p>Jetzt wenn ich meine beispiel Kostenträger XML mit eine Pattern Code von "1" auf dem Simplifier gegen  <a href="https://simplifier.net/verordnungssoftware-schnittstelle/74prvmkostentraeger" target="_blank" title="https://simplifier.net/verordnungssoftware-schnittstelle/74prvmkostentraeger">https://simplifier.net/verordnungssoftware-schnittstelle/74prvmkostentraeger</a> validiere, bekomme ich fehler meldung. Meine Beispiel Kostenträger sieht wie folgt aus:</p>
<div class="codehilite"><pre><span></span>&lt;Coverage&gt;
    &lt;id value=&quot;VOSCOVERAGE&quot; /&gt;
    &lt;meta&gt;
        &lt;profile value=&quot;http://www.kbv.de/fhir/Profil/74_PR_VM_Kostentraeger&quot; /&gt;
    &lt;/meta&gt;
    &lt;extension url=&quot;http://fhir.de/StructureDefinition/gkv/zusatzinfos-geschuetzt/0.2&quot;&gt;
        &lt;extension url=&quot;besonderePersonengruppe&quot;&gt;
            &lt;valueCode value=&quot;00&quot; /&gt;
        &lt;/extension&gt;
        &lt;extension url=&quot;dmpKennzeichnung&quot;&gt;
            &lt;valueCode value=&quot;00&quot; /&gt;
        &lt;/extension&gt;
        &lt;extension url=&quot;ruhenderLeistungsanspruch&quot;&gt;
            &lt;extension url=&quot;beginn&quot;&gt;
                &lt;valueDate value=&quot;2018-01-01&quot; /&gt;
            &lt;/extension&gt;
            &lt;extension url=&quot;ende&quot;&gt;
                &lt;valueDate value=&quot;2019-01-01&quot; /&gt;
            &lt;/extension&gt;
            &lt;extension url=&quot;art&quot;&gt;
                &lt;valueCode value=&quot;1&quot; /&gt;
            &lt;/extension&gt;
        &lt;/extension&gt;
    // Something else required for the profile.
    &lt;/Coverage&gt;
</pre></div>


<p>Dann bekomme ich eine Fehlermeldung wie folgt:</p>
<div class="codehilite"><pre><span></span>Invalid : Value does not match pattern &#39;[12]&#39;
Coverage.extension[1].extension[2].extension[2].valueCode[0]
</pre></div>


<p>Statt "1", wenn ich [12] als Wert geben, dann bekommen ich keine fehler meldungen. <br>
Ich finde dass es komisch ist oder soll das so sein? </p>
<p>Hinweis von meine Researche:<br>
Das ist eine Element von eine Coverage_DE_GKV Profil, dass KBV irgendwo ableitet(denke ich).  </p>
<p>Den relevante XML teil von die Profil habe ich hier:</p>
<div class="codehilite"><pre><span></span>&lt;element id=&quot;Extension.extension:ruhenderLeistungsanspruch.extension:art.value[x]:valueCode&quot;&gt;
    &lt;path value=&quot;Extension.extension.extension.valueCode&quot;/&gt;
    &lt;sliceName value=&quot;valueCode&quot;/&gt;
    &lt;short value=&quot;Value of extension&quot;/&gt;
    &lt;definition value=&quot;Value of extension - may be a resource or one of a constrained set of the data types (see Extensibility in the spec for list).&quot;/&gt;
    &lt;comment value=&quot;A stream of bytes, base64 encoded&quot;/&gt;
    &lt;min value=&quot;1&quot;/&gt;
    &lt;max value=&quot;1&quot;/&gt;
    &lt;base&gt;
        &lt;path value=&quot;Extension.value[x]&quot;/&gt;
        &lt;min value=&quot;0&quot;/&gt;
        &lt;max value=&quot;1&quot;/&gt;
    &lt;/base&gt;
    &lt;type&gt;
        &lt;code value=&quot;code&quot;/&gt;
    &lt;/type&gt;
    &lt;patternCode value=&quot;[12]&quot;/&gt;
    &lt;condition value=&quot;ele-1&quot;/&gt;
    &lt;constraint&gt;
        &lt;key value=&quot;ele-1&quot;/&gt;
        &lt;severity value=&quot;error&quot;/&gt;
        &lt;human value=&quot;All FHIR elements must have a @value or children&quot;/&gt;
        &lt;expression value=&quot;hasValue() | (children().count() &gt; id.count())&quot;/&gt;
        &lt;xpath value=&quot;@value|f:*|h:div&quot;/&gt;
    &lt;/constraint&gt;
    &lt;mapping&gt;
        &lt;identity value=&quot;rim&quot;/&gt;
        &lt;map value=&quot;n/a&quot;/&gt;
    &lt;/mapping&gt;
    &lt;mapping&gt;
        &lt;identity value=&quot;rim&quot;/&gt;
        &lt;map value=&quot;N/A&quot;/&gt;
    &lt;/mapping&gt;
&lt;/element&gt;
</pre></div>



<a name="175515160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Validierung%20gegen%20Kostentr%C3%A4ger%20Profil/near/175515160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Validierung.20gegen.20Kostentr.C3.A4ger.20Profil.html#175515160">(Sep 12 2019 at 10:06)</a>:</h4>
<p>Ja, das ist ein Fehler in der Definition der Extension im deutschen Basisprofil! Das müsste ein Constraint mit der FHIRPath-Expression matches(‚[12]‘) sein statt dem Pattern, um das zu tun, was es soll! <br>
Ich kümmere mich um die Korrektur!<br>
Danke für den Hinweis!</p>



<a name="175516249"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Validierung%20gegen%20Kostentr%C3%A4ger%20Profil/near/175516249" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarat Chand Kandukuri <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Validierung.20gegen.20Kostentr.C3.A4ger.20Profil.html#175516249">(Sep 12 2019 at 10:27)</a>:</h4>
<p>Hii Simone,</p>
<p>Dann sollte nicht nur für die Extension, es sollte auch villeicht auch für die folgenden extensions angepasst werden.<br>
In the <a href="http://fhir.de/StructureDefinition/gkv/zusatzinfos-geschuetzt/0.2" target="_blank" title="http://fhir.de/StructureDefinition/gkv/zusatzinfos-geschuetzt/0.2">http://fhir.de/StructureDefinition/gkv/zusatzinfos-geschuetzt/0.2</a> : </p>
<div class="codehilite"><pre><span></span>gkv-zusatzinfo-geschuetzt.zuzahlungstatus.status.valueCode
gkv-zusatzinfo-geschuetzt.selektivvertaege.aerztlich.valueCode
gkv-zusatzinfo-geschuetzt.selektivvertaege.zahnaerztlich.valueCode
gkv-zusatzinfo-geschuetzt.selektivvertaege.art.valueCode
</pre></div>


<p>und in the <a href="http://fhir.de/StructureDefinition/gkv/zusatzinfos-allgemein/0.2" target="_blank" title="http://fhir.de/StructureDefinition/gkv/zusatzinfos-allgemein/0.2">http://fhir.de/StructureDefinition/gkv/zusatzinfos-allgemein/0.2</a>:</p>
<div class="codehilite"><pre><span></span>gkv-zusatzinfo-allgemein.kostenerstaettung.aerztlichVersorgung.valueCode
gkv-zusatzinfo-allgemein.kostenerstaettung.zahnaerztlichVersorgung.valueCode
gkv-zusatzinfo-allgemein.kostenerstaettung.stationaereBereich.valueCode
gkv-zusatzinfo-allgemein.kostenerstaettung.veranlassteLeistungen.valueCode
</pre></div>


<p>Danke in Voraus.</p>



<a name="175752603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Validierung%20gegen%20Kostentr%C3%A4ger%20Profil/near/175752603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Validierung.20gegen.20Kostentr.C3.A4ger.20Profil.html#175752603">(Sep 15 2019 at 14:58)</a>:</h4>
<p>Ich habe die Extensions jetzt korrigiert:<br>
<a href="https://simplifier.net/BasisprofilDE/gkv-zusatzinfos-allgemein-0.2" target="_blank" title="https://simplifier.net/BasisprofilDE/gkv-zusatzinfos-allgemein-0.2">https://simplifier.net/BasisprofilDE/gkv-zusatzinfos-allgemein-0.2</a><br>
<a href="https://simplifier.net/basisprofilde/gkv-zusatzinfos-geschuetzt-0.2" target="_blank" title="https://simplifier.net/basisprofilde/gkv-zusatzinfos-geschuetzt-0.2">https://simplifier.net/basisprofilde/gkv-zusatzinfos-geschuetzt-0.2</a></p>
<p>Ich werde es gleich mal mit deinem Beispiel testen...</p>



<a name="175759349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Validierung%20gegen%20Kostentr%C3%A4ger%20Profil/near/175759349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Validierung.20gegen.20Kostentr.C3.A4ger.20Profil.html#175759349">(Sep 15 2019 at 18:03)</a>:</h4>
<p>Ok, die gute Nachricht ist: Die Fehlermeldung erscheint jetzt nicht mehr, wenn man einen gültigen Code eingibt.<br>
Die schlechte Nachricht ist: Wenn man einen <em>ungültigen Wert</em> eingibt , sollte eigentlich eine Warnung erscheinen, tut es momentan aber noch nicht. Ich kläre das und melde mich wieder...</p>



<a name="175761115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Validierung%20gegen%20Kostentr%C3%A4ger%20Profil/near/175761115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Validierung.20gegen.20Kostentr.C3.A4ger.20Profil.html#175761115">(Sep 15 2019 at 18:50)</a>:</h4>
<p>Problem erledigt: Die Fehler werden nun korrekt ausgegeben. Test kann man die korrigierten Fassungen, indem man gegen den Endpunkt <a href="https://simplifier.net/validate?fhirVersion=STU3&amp;scope=aws-dummy-current" target="_blank" title="https://simplifier.net/validate?fhirVersion=STU3&amp;scope=aws-dummy-current">https://simplifier.net/validate?fhirVersion=STU3&amp;scope=aws-dummy-current</a> validiert.</p>



<a name="175818119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Validierung%20gegen%20Kostentr%C3%A4ger%20Profil/near/175818119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Validierung.20gegen.20Kostentr.C3.A4ger.20Profil.html#175818119">(Sep 16 2019 at 14:38)</a>:</h4>
<p>In diesem Zusammenhang bitte ich auch um Beachtung der <a href="#narrow/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR" title="#narrow/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR">Diskussionen im allgemeinen Deutschen Stream zur künftigen Handhabung der eGK/VSDM-Daten in R4</a>. Wir würden uns über Feedback von Entwicklern freuen!</p>



<a name="176186622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Validierung%20gegen%20Kostentr%C3%A4ger%20Profil/near/176186622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarat Chand Kandukuri <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Validierung.20gegen.20Kostentr.C3.A4ger.20Profil.html#176186622">(Sep 20 2019 at 12:10)</a>:</h4>
<p>Das scheint jetzt zu funktioneren. sehr sehr gut und vielen Dank <span class="user-mention" data-user-id="191450">@Simone Heckmann</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
