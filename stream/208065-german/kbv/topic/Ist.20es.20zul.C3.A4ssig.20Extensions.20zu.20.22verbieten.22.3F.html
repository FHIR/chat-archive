---
layout: page
title: "FHIR Chat  · Ist es zulässig Extensions zu &quot;verbieten&quot;? · german/kbv"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/index.html">german/kbv</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F.html">Ist es zulässig Extensions zu &quot;verbieten&quot;?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="216074660"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Ist%20es%20zul%C3%A4ssig%20Extensions%20zu%20%22verbieten%22%3F/near/216074660" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Volker Wick <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F.html#216074660">(Nov 09 2020 at 11:59)</a>:</h4>
<p>Macht es eigentlich Sinn, ein System wie FHIR zu verwenden, das von sich aus einen großen Wert auf universelle Erweiterbarkeit legt (Extensions) aber dann gleichzeitig jegliche Erweiterung fremder Extensions zu verbieten?</p>
<p>Ich denke da an die KBV Verordnungssoftware-Schnittstelle (<em>Anforderungskatalog Verordnungssoftware-Schnittstelle nach § 291d Absatz 1a Satz 1 Nr. 1 SGB V</em>)</p>
<p>Hier werden diverse Profile und Extensions vorgegeben, allerdings mit folgender der Einschränkung:</p>
<blockquote>
<p>Die KBV-Profile müssen ohne jegliche Modifikation eingesetzt werden. ... Bei der Realisierung der VoS müssen die KBV-Profile, -Extensions, -ValueSets und -CodeSystems eingesetzt werden. <strong>Einschränkungen, Erweiterungen und jegliche Modifikationen dieser Dokumente sind nicht erlaubt.</strong></p>
</blockquote>
<p>(Hervorhebung von mir)</p>
<p>Meiner Meinung nach steht das im Widerspruch zu <a href="https://www.hl7.org/fhir/extensibility.html#2.5.0">Kapitel 2.5.0 in der FHIR Dokumentation</a>, insbesondere im zweiten Abschnitt:</p>
<blockquote>
<p>As such, extensibility is a fundamental part of the design of this specification. Every element in a resource can have extension child elements to represent additional information that is not part of the basic definition of the resource. <strong>Applications should not reject resources merely because they contain extensions,</strong> though they may need to reject resources because of the specific contents of the extensions.</p>
</blockquote>
<p>(Hervorhebung von mir)</p>
<p>Wenn ich hier den letzten Abschnitt richtig lese bedeutet das doch daß man Extension nicht per se zurückweisen darf (also nur weil sie da sind), sondern höchstens weil etwas mit den vorhandenen Daten nicht in Ordnung ist. Bei ValueSets und CodeSystems würde ich eine solche Einschränkung verstehen aber bei Extensions finde ich macht diese Einschänkung wenig Sinn.</p>
<p>Oder habe ich da etwas falsch verstanden?</p>



<a name="216076390"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Ist%20es%20zul%C3%A4ssig%20Extensions%20zu%20%22verbieten%22%3F/near/216076390" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F.html#216076390">(Nov 09 2020 at 12:19)</a>:</h4>
<p>Aus meiner Sicht lässt sich diese Frage nur aus dem Anwendungskontext heraus beantworten. Generell ist natürlich immer korrekterweise drauf hinzuweisen, dass Extensions in FHIR nicht als etwas "Spezielles" zu werten sind, sondern wie jedes anderen Element auch verarbeitet werden sollte. Jedoch befinden wir uns im KBV Kontext in einer sehr tiefen Ableitungshierarchie. Diese Profile sind Use-Case spezifisch. Und in diesem konkreten Fall sind Erweiterungen nicht vorgesehen, aus div. nachvollziehbaren Gründen. Genau aus diesem Grund steht in der FHIR Spezifikation ein SHOULD und kein MUST NOT. Solange gute Gründe vorliegen darf ein Implementation Guide Einschränkungen vornehmen.</p>



<a name="216076406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Ist%20es%20zul%C3%A4ssig%20Extensions%20zu%20%22verbieten%22%3F/near/216076406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F.html#216076406">(Nov 09 2020 at 12:19)</a>:</h4>
<p>Vielleicht mag jemand anders noch ein wenig auf die Gründe eingehen :)</p>



<a name="216078867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Ist%20es%20zul%C3%A4ssig%20Extensions%20zu%20%22verbieten%22%3F/near/216078867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Oemig <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F.html#216078867">(Nov 09 2020 at 12:46)</a>:</h4>
<p>Diese Flexibilität ist genau das Problem für IGs. Wir arbeiten gerade an speziellen Extensions für mustSupport, die hier dann Näheres regeln, d.h. wann man was machen darf. Die vielen IGs haben hier eine derartige Komplexität entwickelt, die sich im Narrativ versteckt. Das muss formalisiert werden, damit man das in den Griff bekommt.<br>
In sofern hat Alexander Recht, dass das use case spezifisch entschieden werden muss. Es ist mehr als legitim, das mitunter auch zu verbieten.</p>



<a name="216222883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Ist%20es%20zul%C3%A4ssig%20Extensions%20zu%20%22verbieten%22%3F/near/216222883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F.html#216222883">(Nov 10 2020 at 14:55)</a>:</h4>
<p>Für die VoS-Schnittstelle kann ich es jetzt konkret nicht beantworten, beim eRezept war die (nachvollziehbare) Begründung für das rigorose verbieten von allem, was nicht ausdrücklich in der Spezifikation steht, dass auf dem eRezept aus Gründen des Datenschutzes und der Datensparsamkeit nichts draufstehen darf, was nicht auch auf dem Papierrezept stand. Klar widerspricht das der Philosophie von FHIR, die versucht, eine möglichst offene und interoperable Basis vorzugeben, aber Philosophie ist halt kein Gesetz und "Offenheit" beinhaltet eben auch, dass der Standard auch für extrem reglementierte Bereiche nutzbar ist.</p>



<a name="216224255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Ist%20es%20zul%C3%A4ssig%20Extensions%20zu%20%22verbieten%22%3F/near/216224255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F.html#216224255">(Nov 10 2020 at 15:04)</a>:</h4>
<p>Ich verstehe aber, dass genau diese Einschränkungen die Entwickler in Zukunft viel Nerven kosten werden. Insbesondere da dies zu Inkompatibilitäten zwischen verschiedenen Spezifikationen führt.</p>
<p>Daher mein Tipp:<br>
Implementiert FHIR immer so, dass ihr das Maximum dessen, was euer System an Daten liefern kann, liefert.<br>
Baut euch einmal ein Skript/Modul/Microservice (was auch immer), das folgendes tut:</p>
<ul>
<li>
<p>es nimmt zwei Parameter entgegen:</p>
<ol>
<li>Instanz einer Ressource die "bereinigt" werden soll</li>
<li>Profil auf das bereinigt werden muss</li>
</ol>
</li>
<li>
<p>in den Profilen (StructureDefinitions) steht in einfacher, maschinenlesbarer Form drin, wie die Kardinalitäten der einzelnen Elemente lauten<br>
Das Skript muss also das Profil lesen, und aus der Instanz alles entfernen, was eine Kardinalität von 0..0 hat.</p>
</li>
<li>
<p>Die Rückgabe ist die bereinigte Ressource</p>
</li>
</ul>
<p>Das funktioniert dann mit x-beliebigen FHIR-Ressourcen und x-beliebigen Profilen. Einmal programmiert, kann man dann künftigen restriktiven Spezifikationen einigermaßen entspannt entgegenblicken. <br>
Für jeden neuen Kommunikationskanal muss dem Skript dann bloß noch ein neues Zielprofil als Parameter übergeben werden.</p>
<p>Der/die erste, der/die das macht und es open source stellt, kriegt ein Eis von mir <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="216224357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Ist%20es%20zul%C3%A4ssig%20Extensions%20zu%20%22verbieten%22%3F/near/216224357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F.html#216224357">(Nov 10 2020 at 15:05)</a>:</h4>
<p>Problematisch könnte an den o.g. Einschränkungen der VoS allerdings sein, wenn diese nur in Prosa im IG stehen, aber nicht maschinenlesbar im Profil. Muss ich mir mal anschauen...</p>



<a name="216227344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Ist%20es%20zul%C3%A4ssig%20Extensions%20zu%20%22verbieten%22%3F/near/216227344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Oemig <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F.html#216227344">(Nov 10 2020 at 15:28)</a>:</h4>
<p>So einfach wird es nicht werden - das gilt nur für lineare Einschränkungen wie von dir beschrieben. Profile führen auch andere Einschränkungen  ein, die sich zT gegenseitig ausschließen und nicht additiv wirken.</p>



<a name="216250294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Ist%20es%20zul%C3%A4ssig%20Extensions%20zu%20%22verbieten%22%3F/near/216250294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F.html#216250294">(Nov 10 2020 at 18:08)</a>:</h4>
<p>Hast du ein Beispiel?</p>



<a name="216287408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Ist%20es%20zul%C3%A4ssig%20Extensions%20zu%20%22verbieten%22%3F/near/216287408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Oemig <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F.html#216287408">(Nov 10 2020 at 23:08)</a>:</h4>
<p>Kodierungen, weitere oder alternative Extensions, Kardinalitäten, ..</p>



<a name="216287488"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Ist%20es%20zul%C3%A4ssig%20Extensions%20zu%20%22verbieten%22%3F/near/216287488" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Oemig <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F.html#216287488">(Nov 10 2020 at 23:09)</a>:</h4>
<p>Das maximal Lieferbare muss ja auch nicht immer ein Superset sein...</p>



<a name="216288005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Ist%20es%20zul%C3%A4ssig%20Extensions%20zu%20%22verbieten%22%3F/near/216288005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Oemig <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F.html#216288005">(Nov 10 2020 at 23:14)</a>:</h4>
<p>Es ist auch eine Frage, ob die Semantik der Instanz zum Profil passt...</p>



<a name="216318214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Ist%20es%20zul%C3%A4ssig%20Extensions%20zu%20%22verbieten%22%3F/near/216318214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F.html#216318214">(Nov 11 2020 at 08:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191549">Frank Oemig</span> <a href="#narrow/stream/208065-german.2Fkbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F/near/216287408">said</a>:</p>
<blockquote>
<p>Kodierungen, weitere oder alternative Extensions, Kardinalitäten, ..</p>
</blockquote>
<p>Alternative Kodierungen/Bindings stellen keine Inkompatibilität dar, so lange das Superset die entsprechende Mehrfachkodierung enthält.<br>
Alternative Extensions dto.<br>
Weitere Extensions sind bei der Validierung generell unproblematisch, (außer im o.g. Fall der KBV)<br>
Kardinalitäten wurden ja genannt. Eine besondere Herausforderung könnte es jedoch sein, wie man in dem Skript mit begrenzenten Max-Kardinalitäten &gt; 0 umgeht. Wenn die Anzahl der Adressen beim Patienten z.B. von 3 auf 1 reduzieren muss, weil das Zielprofil nur eine Adresse erlaubt.<br>
Dabei müsste man dann eine qualifizierte Entscheidung treffen, <em>welche</em> Adressen gelöscht werden und welche das Zielproblem braucht.</p>
<p>Müsste aber technisch auch lösbar sein, sofern man im (HAPI-) Code eine Möglichkeit hat, einzelne Elemente gegen einzelne ElementDefinitions zu validieren, bzw. zu ermitteln, welches Element auf ein Slice passt. Ich meine, dass das geht, bin mir aber nicht 100% sicher...</p>



<a name="216319834"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Ist%20es%20zul%C3%A4ssig%20Extensions%20zu%20%22verbieten%22%3F/near/216319834" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Oemig <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F.html#216319834">(Nov 11 2020 at 08:52)</a>:</h4>
<p>Das erfordert eine semantische Beschreibung, um was es sich genau handelt. So bezweifele ich, dass irgendeine Observation gemäß eines beliebigen Profils einfach reduziert werden kann - und dann validiert es.<br>
Ich muss zumindest ein Basisprofil haben. Dazu müssten wir aber Profilhierarchien einführen - wie ich es seit Jahren fordere. Aktuell sehe ich das aber nicht. Vielleicht kann man mir den Link mal geben...</p>



<a name="216437312"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208065-german/kbv/topic/Ist%20es%20zul%C3%A4ssig%20Extensions%20zu%20%22verbieten%22%3F/near/216437312" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Volker Wick <a href="https://fhir.github.io/chat-archive/stream/208065-german/kbv/topic/Ist.20es.20zul.C3.A4ssig.20Extensions.20zu.20.22verbieten.22.3F.html#216437312">(Nov 12 2020 at 08:01)</a>:</h4>
<p>Vielen Dank an alle für das Feedback. Besonders der Vorschlag von Simone klingt ziemlich interessant. (Wenn wir die Zeit für einen solchen Bereinigungs-Service hätten würden wir es sicher angehen...)<br>
In der Zwischenzeit werden wir die "verbotenen" Extensions erstmal wieder rauswerfen und fürs nächste Mal entsprechend vorsichtiger sein.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
