---
layout: page
title: "FHIR Chat  · docref · IPA"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/261969-IPA/index.html">IPA</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/261969-IPA/topic/docref.html">docref</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="265902975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/261969-IPA/topic/docref/near/265902975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/261969-IPA/topic/docref.html#265902975">(Dec 23 2021 at 10:25)</a>:</h4>
<p><span class="user-mention" data-user-id="192917">@Mikael Rinnetmäki</span> how does the IPA <code>$docref</code>operation differ from the IPS <code>$summary</code>that we have discussed <span class="user-mention" data-user-id="191405">@Rob Hausam</span> ?</p>



<a name="265905982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/261969-IPA/topic/docref/near/265905982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikael Rinnetmäki <a href="https://fhir.github.io/chat-archive/stream/261969-IPA/topic/docref.html#265905982">(Dec 23 2021 at 11:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> obviously, the name is different. :P</p>
<p>The $docref is named as it is, as such an operation already exists in the US Core and we can just reuse it. The functionality, as specified in the base level IPA specification is that the operation returns an undefined default document when called without specifying a type, but you can also request documents with a profile definition, in which case you get a document based on the specified profile, if such a document exists or if the server can construct it.</p>



<a name="265907070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/261969-IPA/topic/docref/near/265907070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/261969-IPA/topic/docref.html#265907070">(Dec 23 2021 at 11:12)</a>:</h4>
<p>So the need for the "doc extraction operation" is present in US Core, IPA and IPS. Shouldn't it then either be extracted to its own IG, or hoisted to the global standard?</p>



<a name="265907428"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/261969-IPA/topic/docref/near/265907428" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikael Rinnetmäki <a href="https://fhir.github.io/chat-archive/stream/261969-IPA/topic/docref.html#265907428">(Dec 23 2021 at 11:17)</a>:</h4>
<p>I guess from IPA perspective we are a kind of extracting it from the US Core to a more generic specification.</p>
<p>I don't think it would be a problem for for IPA to refer to another IG or the base FHIR specification if it was further extracted.</p>
<p>I'm not sure which are the differences between the  US Core <code>$docref</code> operation and the IPS <code>$summary</code> operation.<br>
I have also seen <code>$everything</code> proposed, and we discussed that in IPA too.</p>



<a name="265914361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/261969-IPA/topic/docref/near/265914361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/261969-IPA/topic/docref.html#265914361">(Dec 23 2021 at 13:03)</a>:</h4>
<p>I would prefer a modular approach, where the operation to generate an IPS be defined in a purpose specific IG. It could use IPA to access the data, and it would produce an IPS compliant document.</p>



<a name="265914529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/261969-IPA/topic/docref/near/265914529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/261969-IPA/topic/docref.html#265914529">(Dec 23 2021 at 13:05)</a>:</h4>
<p>I think one of the visions of two different operations is that one would purely create the IPS, and a second would use that first one to create the IPS and also create a DocumentReference instance for that newly created IPS Bundle. Thus if you simply wanted the IPS and had no use for a DocumentReference you could get that, but if you needed the IPS you created to be discovered in the future (persisted) then you would need a DocumentReference instance created for that.</p>



<a name="265927862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/261969-IPA/topic/docref/near/265927862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/261969-IPA/topic/docref.html#265927862">(Dec 23 2021 at 15:44)</a>:</h4>
<p>I proposed <code>$summary</code> to IPS (<a href="https://github.com/HL7/fhir-ips/pull/15/files">https://github.com/HL7/fhir-ips/pull/15/files</a>) as a broadspectered approach, where one of the input parameters would be a <code>profile</code>URI, in order to determine and leave it to the specific IG to figure out what the summary should consist of.  As such, the <code>$summary</code>operation may have been initially defined in IPS, but is not tailored to it.</p>



<a name="265931189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/261969-IPA/topic/docref/near/265931189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/261969-IPA/topic/docref.html#265931189">(Dec 23 2021 at 16:25)</a>:</h4>
<p>A very interesting discussion. My initial view of this is as follows:</p>
<ul>
<li><code>$everything</code> returns a graph of resources. It is defined in the core spec, and IGs must constrain it for their use</li>
<li><code>$summary</code> imposes a (almost?) tree-like structure on top of the generic graph of resources via the root <code>Composition</code> resource. IPS is the first to use it, it is not clear to me if a more generic use case exists.</li>
<li><code>$docref</code> causes a DocumentReference resource to be returned (whether pre-existing , or newly created) containing or referencing a patient-specific document of some kind. My preference is that it is defined in IPA (without any restrictions on the kind/type of document),  and correspondingly constrained in IPS (document is an IPS FHIR Document or IPS CDA), US Core (Document is C-CDA) and others.</li>
</ul>
<p>I think IPS needs both <code>$summary</code> and <code>$docref</code> - they are complementary, but serve different purposes.</p>



<a name="265934865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/261969-IPA/topic/docref/near/265934865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/261969-IPA/topic/docref.html#265934865">(Dec 23 2021 at 17:08)</a>:</h4>
<p>I agree, that is what I was viewing as the modular approach.</p>



<a name="265934897"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/261969-IPA/topic/docref/near/265934897" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/261969-IPA/topic/docref.html#265934897">(Dec 23 2021 at 17:08)</a>:</h4>
<p>I think the additional discussion is.. where should each of these be defined. as where they are defined drives their reusability.</p>



<a name="265938938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/261969-IPA/topic/docref/near/265938938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John D&#x27;Amore <a href="https://fhir.github.io/chat-archive/stream/261969-IPA/topic/docref.html#265938938">(Dec 23 2021 at 18:02)</a>:</h4>
<p>I appreciate the feedback from above. I have been working on a page (should finish in next two weeks) with initial documentation around how to generate an IPS for the IPS IG. Here is the early draft which is currently on a branch: <a href="https://github.com/HL7/fhir-ips/blob/generation-and-data-inclusion/input/pagecontent/ipsGeneration.md">https://github.com/HL7/fhir-ips/blob/generation-and-data-inclusion/input/pagecontent/ipsGeneration.md</a> I will attempt to integrate some of the above as I work on during holidays. Additional feedback welcome.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
