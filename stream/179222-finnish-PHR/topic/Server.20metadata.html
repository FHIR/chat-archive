---
layout: page
title: "FHIR Chat  · Server metadata · finnish PHR"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/index.html">finnish PHR</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/topic/Server.20metadata.html">Server metadata</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153970599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179222-finnish%20PHR/topic/Server%20metadata/near/153970599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikael Rinnetmäki <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/topic/Server.20metadata.html#153970599">(Jun 19 2018 at 19:02)</a>:</h4>
<p>Hi! It seems <code>https://fhirsandbox2.kanta.fi/phr-resourceserver/baseStu3/metadata</code> is not accessible without a valid access token. That's unfortunate for FHIR apps that would handle the authentication automatically, based on the metadata provided by the server. Another way to get the <em>auth</em> and <em>token</em> locations would be from the "well known" location at <a href="https://fhirsandbox2-auth.kanta.fi/.well-known/openid-configuration" target="_blank" title="https://fhirsandbox2-auth.kanta.fi/.well-known/openid-configuration">https://fhirsandbox2-auth.kanta.fi/.well-known/openid-configuration</a> (based on OpenID specs), but that does not seem to be available either.<br>
How should a FHIR app query for the auth and token locations of the server?</p>



<a name="153972038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179222-finnish%20PHR/topic/Server%20metadata/near/153972038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pirjo Vuorikallas <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/topic/Server.20metadata.html#153972038">(Jun 27 2018 at 07:51)</a>:</h4>
<p>Hi, thanks for question. We have to think about this from a whole Kanta PHR service architecture view, so we’ll get back to you later.</p>



<a name="153973100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179222-finnish%20PHR/topic/Server%20metadata/near/153973100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juha Paasolainen <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/topic/Server.20metadata.html#153973100">(Jul 03 2018 at 10:01)</a>:</h4>
<p>Hi,<br>
not any client can use the PHR production environment. You have to go through the connection process to connect a client. Therefore the authorization can not be done automatically, even though the endpoint information were available.</p>



<a name="153974457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179222-finnish%20PHR/topic/Server%20metadata/near/153974457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikael Rinnetmäki <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/topic/Server.20metadata.html#153974457">(Jul 10 2018 at 13:30)</a>:</h4>
<p>I understand I need to go through the client registration process to get the client ID. The requirement is not to be able to do that automagically, although that would be awesome too.</p>
<p>The requirement is to reduce environment specific implementation in the application, both in the code and configuration. And to reduce the need for  manual maintenance work.</p>
<p>I have a FHIR application that gets its client ID and potential client secret from a configuration file. However, in an attempt to be as dynamic as possible, it fetches and stores all other information dynamically, based on the <code>iss</code> parameter from the SMART on FHIR launch sequence. So that there is minimal need to update the configuration manually, even when the FHIR server the application uses decides to change a URL, for instance. In this case, the application notices that the previously fetched configuration is no longer valid, and fetches the new configuration (mainly auth and token urls) again, and uses those.</p>
<p>This is very nice and works with all other FHIR servers. However, I need to change this dynamic application logic in order to support the Finnish PHR, and only for that single FHIR server rely on static configuration or hard-coded URLs. That's not nice.</p>



<a name="153983586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179222-finnish%20PHR/topic/Server%20metadata/near/153983586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juha Paasolainen <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/topic/Server.20metadata.html#153983586">(Aug 08 2018 at 09:53)</a>:</h4>
<p>Thank you for the feedback. We will consider this when planning the Kanta PHR road map.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
