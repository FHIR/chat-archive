---
layout: page
title: "FHIR Chat  · Observation sorting? · finnish PHR"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/index.html">finnish PHR</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/topic/Observation.20sorting.3F.html">Observation sorting?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="162421360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179222-finnish%20PHR/topic/Observation%20sorting%3F/near/162421360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sulka Haro <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/topic/Observation.20sorting.3F.html#162421360">(Apr 03 2019 at 11:47)</a>:</h4>
<p>Hi! I noticed that i f I load Observation resources with the REST API, specifying _sort=date and _sort=-date produce the same results, even though one should return the results in chronological order and the other in inverse chronological order. Searching the date using the HAPI server, it looks like the _sort parameter is ignored for all fields - sorting by date and identifier produces the same results for the data I've uploaded. Is sorting disabled, or is something going on with the indexing?</p>



<a name="162543444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179222-finnish%20PHR/topic/Observation%20sorting%3F/near/162543444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sulka Haro <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/topic/Observation.20sorting.3F.html#162543444">(Apr 04 2019 at 16:35)</a>:</h4>
<p>Any news on this? Not being able to sort query results is blocking our development.</p>



<a name="162912020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179222-finnish%20PHR/topic/Observation%20sorting%3F/near/162912020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sulka Haro <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/topic/Observation.20sorting.3F.html#162912020">(Apr 09 2019 at 13:53)</a>:</h4>
<p>Here's a screenshot. AFAIK the results should be sorted by the updated field but are actually listed in seemingly random order. The same order is reproduced for all values of _sort. <a href="/user_uploads/10155/EnT6fXDSdO1n9CbQAuro9MNs/Screen-Shot-2019-04-09-at-16.42.04.png" target="_blank" title="Screen-Shot-2019-04-09-at-16.42.04.png">Screen-Shot-2019-04-09-at-16.42.04.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/EnT6fXDSdO1n9CbQAuro9MNs/Screen-Shot-2019-04-09-at-16.42.04.png" target="_blank" title="Screen-Shot-2019-04-09-at-16.42.04.png"><img src="/user_uploads/10155/EnT6fXDSdO1n9CbQAuro9MNs/Screen-Shot-2019-04-09-at-16.42.04.png"></a></div>



<a name="163089911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179222-finnish%20PHR/topic/Observation%20sorting%3F/near/163089911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anna Korpela <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/topic/Observation.20sorting.3F.html#163089911">(Apr 11 2019 at 11:05)</a>:</h4>
<p>We discussed this briefly yesterday during the HL7 Finland PH SIG Kanta PHR support meeting, Kanta PHR doesn't currently have suppport for _sort-parameter. But we are designing support for it as we speak, I'll get back to you with the timetable hopefully soon.</p>



<a name="163355856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179222-finnish%20PHR/topic/Observation%20sorting%3F/near/163355856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sulka Haro <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/topic/Observation.20sorting.3F.html#163355856">(Apr 15 2019 at 06:29)</a>:</h4>
<p>Ok great! So just to confirm, am I right there is no way currently to query for the last n inserted / updated records? If not, is there a way to query for any metadata (like dates) that'd allow querying for the data for a user with more targeted queries than doing something like walking back dates from current date, until data is found? The number of records I'll be pushing in with the blood glucose data is sadly such that it's not practical to just load all the records and sort programmatically after loading.</p>



<a name="163632800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179222-finnish%20PHR/topic/Observation%20sorting%3F/near/163632800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eeva Turkka <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/topic/Observation.20sorting.3F.html#163632800">(Apr 18 2019 at 08:44)</a>:</h4>
<p>Currently no, there is no way to ask "give me 50 latest results".  We have the conformance statement available in Simplifier (<a href="https://simplifier.net/FinnishPHR/capabilitystatement3/" target="_blank" title="https://simplifier.net/FinnishPHR/capabilitystatement3/">https://simplifier.net/FinnishPHR/capabilitystatement3/</a>) and there is the search parameter that works for the field "last updated" from meta element in the resource. The "date" parameter works on the   Observation.effective[x] date if it is more approriate for the use case.   Downloading (or looking, but it doesn't always show everything, there is something in weird in Simplifier with the json-presentation) the statement's json representation will give the paths in resources where the search parameters point to.</p>
<p>Limiting query by either parameter for example to last week or last month will give the results from that period.</p>



<a name="163636894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179222-finnish%20PHR/topic/Observation%20sorting%3F/near/163636894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/topic/Observation.20sorting.3F.html#163636894">(Apr 18 2019 at 09:57)</a>:</h4>
<p>$lastN ?</p>



<a name="163639819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179222-finnish%20PHR/topic/Observation%20sorting%3F/near/163639819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eeva Turkka <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/topic/Observation.20sorting.3F.html#163639819">(Apr 18 2019 at 10:44)</a>:</h4>
<p>Could be, but the Finnish PHR server doesn't support searches like that yet, we haven't implemented everything fhir describes. Sorting query results is in plans and then you could just fetch the first page of results.</p>



<a name="163640982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179222-finnish%20PHR/topic/Observation%20sorting%3F/near/163640982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179222-finnish-PHR/topic/Observation.20sorting.3F.html#163640982">(Apr 18 2019 at 11:05)</a>:</h4>
<p>well, I appreciate the difficulty, but $lastN is a little more sophisticated than just sorting :-(</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
