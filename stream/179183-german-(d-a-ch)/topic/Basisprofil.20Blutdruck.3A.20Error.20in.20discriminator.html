---
layout: page
title: "FHIR Chat  · Basisprofil Blutdruck: Error in discriminator · german (d-a-ch)"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/index.html">german (d-a-ch)</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html">Basisprofil Blutdruck: Error in discriminator</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154025281"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025281" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025281">(Dec 13 2018 at 09:30)</a>:</h4>
<p>Ich bekomme gerade einen etwas seltsamen Fehler vom neusten Java JAR Validator, wenn ich versuche, eine Beispiel-Resource gegen den Blutdruck-Basisprofil (<a href="http://fhir.de/StructureDefinition/observation-de-blutdruck/0.2" target="_blank" title="http://fhir.de/StructureDefinition/observation-de-blutdruck/0.2">http://fhir.de/StructureDefinition/observation-de-blutdruck/0.2</a>) zu validieren:</p>
<div class="codehilite"><pre><span></span>*FAILURE* validating examples/bp-base-example.xml:  error:4 warn:0 info:0
  Error @ Observation.component[1] (line 20, col16) : Error in discriminator at Observation.component:diastolisch.code.coding: slicing found
  Error @ Observation.component[1] (line 20, col16) : Error in discriminator at Observation.component:systolisch.code.coding: slicing found
  Error @ Observation.component[2] (line 34, col16) : Error in discriminator at Observation.component:diastolisch.code.coding: slicing found
  Error @ Observation.component[2] (line 34, col16) : Error in discriminator at Observation.component:systolisch.code.coding: slicing found
</pre></div>


<p>Wenn ich das richtig lese, beschwert er sich hier über den Profil, könnte aber auch einen Bug im Validator sein (<code>$validate</code>auf <a href="http://fhir.hl7.de" target="_blank" title="http://fhir.hl7.de">fhir.hl7.de</a> mit meinem Beispiel geht durch, weiss aber nicht, ob er die Profile hat). Hat jemanden diesen Fehler schon mal gesehen?</p>



<a name="154025283"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025283" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025283">(Dec 13 2018 at 09:37)</a>:</h4>
<p>Beispiel-Resource:</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;Observation</span>
    <span class="na">xmlns=</span><span class="s">&quot;http://hl7.org/fhir&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta&gt;</span>
        <span class="nt">&lt;profile</span> <span class="na">value =</span><span class="s">&quot;http://fhir.de/StructureDefinition/observation-de-blutdruck/0.2&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/meta&gt;</span>
    <span class="nt">&lt;status</span> <span class="na">value=</span><span class="s">&quot;final&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;code&gt;</span>
        <span class="nt">&lt;coding&gt;</span>
            <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">&quot;http://loinc.org&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;85354-9&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/coding&gt;</span>
    <span class="nt">&lt;/code&gt;</span>
    <span class="nt">&lt;subject&gt;</span>
        <span class="nt">&lt;reference</span> <span class="na">value=</span><span class="s">&quot;Patient/patient-example&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/subject&gt;</span>
    <span class="nt">&lt;effectiveDateTime</span> <span class="na">value=</span><span class="s">&quot;2016-03-21T18:01:10Z&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;performer&gt;</span>
        <span class="nt">&lt;reference</span> <span class="na">value=</span><span class="s">&quot;Practitioner/practitioner-example&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/performer&gt;</span>
    <span class="nt">&lt;component&gt;</span>
        <span class="nt">&lt;code&gt;</span>
            <span class="nt">&lt;coding&gt;</span>
                <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">&quot;http://loinc.org&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;8462-4&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/coding&gt;</span>
        <span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;valueQuantity&gt;</span>
            <span class="nt">&lt;value</span> <span class="na">value=</span><span class="s">&quot;58&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;unit</span> <span class="na">value=</span><span class="s">&quot;mmHg&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">&quot;http://unitsofmeasure.org&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;mm[Hg]&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/valueQuantity&gt;</span>
    <span class="nt">&lt;/component&gt;</span>
    <span class="nt">&lt;component&gt;</span>
        <span class="nt">&lt;code&gt;</span>
            <span class="nt">&lt;coding&gt;</span>
                <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">&quot;http://loinc.org&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;8480-6&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/coding&gt;</span>
        <span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;valueQuantity&gt;</span>
            <span class="nt">&lt;value</span> <span class="na">value=</span><span class="s">&quot;111&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;unit</span> <span class="na">value=</span><span class="s">&quot;mmHg&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">&quot;http://unitsofmeasure.org&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;mm[Hg]&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/valueQuantity&gt;</span>
    <span class="nt">&lt;/component&gt;</span>
<span class="nt">&lt;/Observation&gt;</span>
</pre></div>



<a name="154025303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025303">(Dec 13 2018 at 11:23)</a>:</h4>
<p>Hallo Morten,</p>
<p>hast du das Beispiel mal auf Simplifier hochgeladen und validiert? Dann hättest Du eine Zweitmeinung von einem Validator, der das Profil definitiv kennt ;-)</p>



<a name="154025308"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025308" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025308">(Dec 13 2018 at 11:33)</a>:</h4>
<p>Hi Simone,<br>
nee, nocht nicht, gute Idee - wie geht das eigentlicht? Meinst Du POST per HTTP-Client  gegen <a href="https://stu3.simplifier.net/BasisprofilDE/Patient" target="_blank" title="https://stu3.simplifier.net/BasisprofilDE/Patient">https://stu3.simplifier.net/BasisprofilDE/Patient</a> oder can ich $validate auf dem URL benutzen? (ich will ja Simplifier nicht zumüllen <span class="emoji emoji-1f600" title="grinning">:grinning:</span>).</p>



<a name="154025310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025310">(Dec 13 2018 at 11:36)</a>:</h4>
<p>Simplifier Account anlegen &gt; Sandbox-Projekt erstellen &gt; per upload (c&amp;p) das Beispiel hochladen und dann den Validate-Button verwenden. Ist etwas aufwendiger, aber dafür kannst du uns dann auch den Link zum Beispiel zur Verfügung stellen, und wir können das reproduzieren :)</p>



<a name="154025313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025313">(Dec 13 2018 at 11:42)</a>:</h4>
<p>Ah ja, macht Sinn. Simplifier sagt alles gut - zieht er automatisch den richtigen Profil von dem Basisprofile-Repo?</p>



<a name="154025314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025314">(Dec 13 2018 at 11:45)</a>:</h4>
<p>Ah, macht er. Dann sind die Validatoren wohl unterschiedlicher meinung.</p>



<a name="154025316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025316">(Dec 13 2018 at 11:49)</a>:</h4>
<p>Ich werfe das mal in den Conformance-Stream, danke für den Tipp!</p>



<a name="154025317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025317">(Dec 13 2018 at 11:50)</a>:</h4>
<p>Man kann die Ressourcen auch unter <a href="https://simplifier.net/validate" target="_blank" title="https://simplifier.net/validate">https://simplifier.net/validate</a> per copy&amp;paste validieren lassen. Simplifier-Account ist trotzdem Pflicht. Es wird aber nichts gespeichert.</p>



<a name="154025318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025318">(Dec 13 2018 at 11:51)</a>:</h4>
<p><span class="user-mention" data-user-id="193430">@Alexander Zautke</span> Danke, gut zu wissen!</p>



<a name="154025328"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025328" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025328">(Dec 13 2018 at 12:08)</a>:</h4>
<p>Validator-Battle Follow-up: <a href="#narrow/stream/23-conformance/topic/Java.20validator.20and.20Simplifier.20disagree.20on.20slice.20validity" title="#narrow/stream/23-conformance/topic/Java.20validator.20and.20Simplifier.20disagree.20on.20slice.20validity">https://chat.fhir.org/#narrow/stream/23-conformance/topic/Java.20validator.20and.20Simplifier.20disagree.20on.20slice.20validity</a></p>



<a name="154025349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025349">(Dec 13 2018 at 13:54)</a>:</h4>
<p>Das Profil an sich ist nicht STU3 kompatibel: sdf-20: On StructureDefinition.differential: No slicing on the root element (expression  on StructureDefinition.differential: element.first().slicing.empty())</p>



<a name="154025351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025351">(Dec 13 2018 at 13:55)</a>:</h4>
<p>Dies ist ein Bug im Standard der in R4 gefixt wurde, Firely hat es wohl in ihrer Implementierung gefixt, entspricht also nicht STU3 ;-)</p>



<a name="154025353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025353">(Dec 13 2018 at 13:56)</a>:</h4>
<p>Ich hatte im anderen Stream schon gefragt ob das in STU3 noch gefixt würde, ich bin da aber eher pessimistisch.</p>



<a name="154025354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025354">(Dec 13 2018 at 13:57)</a>:</h4>
<p>Wir könnten workarounds in die Basisprofile einbauen um das Triggern dieses Bugs zu verhindern.</p>



<a name="154025357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025357">(Dec 13 2018 at 14:08)</a>:</h4>
<p>Hi Patrick - aha, <em>der</em> Bug! Habe ich schon mal getroffen, allerdings nur in Zusammenhang mit der Validierung von <code>StructureDefinitions</code>. Woher genau kommt er hier in diesem Kontext? Ich habe mit anderen Blutdruck-Profilen (z.B. Argonaut) rumgespielt, die auch Slicings-in-Slicings haben, und mit dem Java-Validator dagegen validiert, und es hat problemlos geklappt.</p>



<a name="154025358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025358">(Dec 13 2018 at 14:15)</a>:</h4>
<p>Einen Validator-Fix wäre sicherlich am schönsten (danke auch für Deinen Kommentar dazu im Implementer-Stream). Wenn das kurzfristig nicht geht  dann wäre Workaround villeicht gar nicht so abwegig. Es ist eine ungute Situation, wenn der vom Spec selbst verlinkten Validator mit einem Standardprofil nicht zurechtkommt (auch wenn der Profil nicht Schuld ist und der Grund bekannt ist), ich habe schon ein paar Stunden damit verbracht und es könnte wohl anderen genauso gehen.</p>



<a name="154025370"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/154025370" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#154025370">(Dec 13 2018 at 15:16)</a>:</h4>
<p>Kann bestätigen, dass sdf-20 in Simplifier "behoben" wurde. Die Packages im Hintergrund sind ein wenig verschieden.</p>



<a name="162311350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Basisprofil%20Blutdruck%3A%20Error%20in%20discriminator/near/162311350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Basisprofil.20Blutdruck.3A.20Error.20in.20discriminator.html#162311350">(Apr 02 2019 at 07:52)</a>:</h4>
<p>Dieser Thread ist ja schon etwas eingetrocknet, aber es gibt gute Nachrichten: Der R4-Fix für den sdf-20 Bug wird  für STU3 runterportiert im nächsten Technical Correction <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>
<p><a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20339" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20339">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20339</a></p>
<p><span class="user-mention" data-user-id="193430">@Alexander Zautke</span> <span class="user-mention" data-user-id="191451">@Patrick Werner</span> <span class="user-mention" data-user-id="191450">@Simone Heckmann</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
