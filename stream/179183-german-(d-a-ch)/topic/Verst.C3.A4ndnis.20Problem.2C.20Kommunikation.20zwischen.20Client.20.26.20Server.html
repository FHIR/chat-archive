---
layout: page
title: "FHIR Chat  · Verständnis Problem, Kommunikation zwischen Client &amp; Server · german (d-a-ch)"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/index.html">german (d-a-ch)</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html">Verständnis Problem, Kommunikation zwischen Client &amp; Server</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="244966656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/244966656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morris Miltz <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#244966656">(Jul 05 2021 at 19:15)</a>:</h4>
<p>Hallo zusammen, <br>
ich steh gerade etwas auf dem Schlauch.<br>
Ich möchte einen Patienten mit einigen Observations an den Server geben.<br>
Die Observations haben eine Referenz auf den Patienten. <br>
Ich erstelle ein Bundle für die Transaktion und gebe es an den Server.<br>
Wenn ich nun den Patienten suche, finde ich diesen auch, aber nichts von den Observations.</p>
<p>Muss ich dem Patienten auch eine Referenz auf die Observations geben? (Wenn ja, wie geht das wenn ich mehrere Observations habe?)</p>
<p>Ich glaube ich hab hier ein Verständnis Problem.</p>
<p>Mein Ziel wäre es clientseitig über z. B. die Patienten - Id, alle Observations abrufen zu können, geht das denn überhaupt?</p>
<p>Oder gibt es eine Möglichkeit eine Art Observation-Array zu erstellen, das ich nur einmal referenzier und somit beliebig viele Observations an einen Patienten übergeben kann und darüber auch abrufen?</p>
<p>Vielen Dank für eure Hilfe.</p>



<a name="244969492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/244969492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#244969492">(Jul 05 2021 at 19:59)</a>:</h4>
<p>Wäre es möglich das Transaction Bundle hier zu posten? Dann können wir gerne drüber gucken wo es klemmt. Eigentlich wollte der Server sowohl die Patienten-Ressource als auch die Observations innerhalb der Transaction speichern.</p>



<a name="244969790"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/244969790" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#244969790">(Jul 05 2021 at 20:03)</a>:</h4>
<p>Über das sogenannte Chaining lässt sich auch eine Suchabfrage aller Observations anhand der Id der Patienten-Ressource durchführen:</p>
<p><code>[base]/Observation?patient.id=1234</code></p>
<p>Diese Suchanfrage würde alle Observations zurückgeben, die über die Observation.subject Referenz auf einen Patienten zeigen mit der ID 1234.</p>



<a name="244969795"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/244969795" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#244969795">(Jul 05 2021 at 20:03)</a>:</h4>
<p>Siehe <a href="https://www.hl7.org/fhir/search.html#chaining">https://www.hl7.org/fhir/search.html#chaining</a></p>



<a name="245010391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/245010391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morris Miltz <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#245010391">(Jul 06 2021 at 08:43)</a>:</h4>
<p>Hallo, natürlich die Code-Zeilen sehen wie folgt aus:</p>
<p>val bundle: org.hl7.fhir.r4.model.Bundle = org.hl7.fhir.r4.model.Bundle()<br>
            bundle.setType(org.hl7.fhir.r4.model.Bundle.BundleType.TRANSACTION)</p>
<p>//Patient zum Bundle hinzufügen<br>
bundle.addEntry().setFullUrl(patientTest.idElement.value).setResource(patientTest)<br>
                .request.setUrl("PatientTest").setIfNoneExist("identifier=WunddokuHSKE|301180")<br>
                .setMethod(org.hl7.fhir.r4.model.Bundle.HTTPVerb.POST)</p>
<p>//Observation zum Bundle hinzufügen<br>
 bundle.addEntry().setResource(observation).getRequest().setUrl("Observation").setMethod(org.hl7.fhir.r4.model.Bundle.HTTPVerb.POST)</p>
<p>//weiter Observation zum Bundle hinzufügen<br>
bundle.addEntry().setResource(testObservation).getRequest().setUrl("TestObservation").setMethod(org.hl7.fhir.r4.model.Bundle.HTTPVerb.POST)<br>
            bundle.addEntry().setResource(testObservation2).request.setUrl("TestObservation2").setMethod(org.hl7.fhir.r4.model.Bundle.HTTPVerb.POST)</p>
<p>Oder meinten Sie den Inhalt des Bundle nach einem parsen /prettyprint?</p>
<p>Schon mal vielen Dank Ihnen</p>



<a name="245019921"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/245019921" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yannick Börner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#245019921">(Jul 06 2021 at 10:29)</a>:</h4>
<p>Gerne nach der Serialisierung als JSON/XML hier posten! Dann können andere Leser das Szenario einfach nachstellen und testen :-)</p>



<a name="245024633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/245024633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morris Miltz <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#245024633">(Jul 06 2021 at 11:23)</a>:</h4>
<p>Okay, das ist die Aussgabe dazu mit JSON (prettyprint):</p>
<p>{<br>
      "resourceType": "Bundle",<br>
      "type": "transaction",<br>
      "entry": [ {<br>
        "fullUrl": "urn:uuid:f13e06af-f1a1-4e81-8c64-2f838df5035d",<br>
        "resource": {<br>
          "resourceType": "Patient",<br>
          "identifier": [ {<br>
            "system": "Wunddoku",<br>
            "value": "301180"<br>
          } ],<br>
          "name": [ {<br>
            "family": "Schütz",<br>
            "given": [ "dbuar", "Klaus" ]<br>
          } ],<br>
          "gender": "male",<br>
          "address": [ {<br>
            "city": "K-Town",<br>
            "state": "Bayern",<br>
            "postalCode": "01234",<br>
            "country": "Germany"<br>
          } ]<br>
        },<br>
        "request": {<br>
          "method": "POST",<br>
          "url": "PatientTest",<br>
          "ifNoneExist": "identifier=Wunddoku|301180"<br>
        }<br>
      }, {<br>
        "resource": {<br>
          "resourceType": "Observation",<br>
          "status": "final",<br>
          "code": {<br>
            "coding": [ {<br>
              "system": "test-??",<br>
              "code": "888888",<br>
              "display": "das gehört zu ... [#/volume]"<br>
            } ]<br>
          },<br>
          "subject": {<br>
            "reference": "urn:uuid:f13e06af-f1a1-4e81-8c64-2f838df5035d"<br>
          },<br>
          "valueQuantity": {<br>
            "value": 4.12,<br>
            "unit": "10 trillion/L",<br>
            "system": "wieder eine setSystem URL - Test",<br>
            "code": "10*12/L"<br>
          }<br>
        },<br>
        "request": {<br>
          "method": "POST",<br>
I/System.out:       "url": "Observation"<br>
        }<br>
      }, {<br>
        "resource": {<br>
          "resourceType": "Observation",<br>
          "status": "final",<br>
          "code": {<br>
            "coding": [ {<br>
              "system": "<a href="http://snomed.info/sct">http://snomed.info/sct</a>",<br>
              "code": "420226006"<br>
            } ]<br>
          },<br>
          "subject": {<br>
            "reference": "urn:uuid:f13e06af-f1a1-4e81-8c64-2f838df5035d"<br>
          },<br>
          "valueQuantity": {<br>
            "value": 88.0,<br>
            "system": "<a href="http://unitsofmeasure.org">http://unitsofmeasure.org</a>",<br>
            "code": "kg"<br>
          },<br>
          "referenceRange": [ {<br>
            "low": {<br>
              "value": 45,<br>
              "system": "<a href="http://unitsofmeasure.org">http://unitsofmeasure.org</a>",<br>
              "code": "kg"<br>
            },<br>
            "high": {<br>
              "value": 90,<br>
              "system": "<a href="http://unitsofmeasure.org">http://unitsofmeasure.org</a>",<br>
              "code": "kg"<br>
            }<br>
          } ]<br>
        },<br>
        "request": {<br>
          "method": "POST",<br>
          "url": "TestObservation"<br>
        }<br>
      }, {<br>
        "resource": {<br>
          "resourceType": "Observation",<br>
          "status": "final",<br>
          "code": {<br>
            "coding": [ {<br>
              "system": "<a href="http://test.code">http://test.code</a>",<br>
              "code": "TestCode"<br>
            } ]<br>
          },<br>
          "subject": {<br>
            "reference": "urn:uuid:f13e06af-f1a1-4e81-8c64-2f838df5035d"<br>
          },<br>
          "valueString": "TestObservation2!!!!"<br>
        },<br>
        "request": {<br>
          "method": "POST",<br>
          "url": "TestObservation2"<br>
        }<br>
      } ]<br>
    }</p>
<p>Das ist die Ausgabe, wenn ich nur den Patienten ausgebe:</p>
<p>{<br>
      "resourceType": "Patient",<br>
      "identifier": [ {<br>
        "system": "Wunddoku",<br>
        "value": "301180"<br>
      } ],<br>
      "name": [ {<br>
        "family": "Schütz",<br>
        "given": [ "dbuar", "Klaus" ]<br>
      } ],<br>
      "gender": "male",<br>
      "address": [ {<br>
        "city": "K-Town",<br>
        "state": "Bayern",<br>
        "postalCode": "01234",<br>
        "country": "Germany"<br>
      } ]<br>
    }</p>



<a name="245025181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/245025181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morris Miltz <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#245025181">(Jul 06 2021 at 11:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="193430">Alexander Zautke</span> <a href="#narrow/stream/179183-german-.28d-a-ch.29/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server/near/244969790">said</a>:</p>
<blockquote>
<p>Über das sogenannte Chaining lässt sich auch eine Suchabfrage aller Observations anhand der Id der Patienten-Ressource durchführen:</p>
<p><code>[base]/Observation?patient.id=1234</code></p>
<p>Diese Suchanfrage würde alle Observations zurückgeben, die über die Observation.subject Referenz auf einen Patienten zeigen mit der ID 1234.</p>
</blockquote>
<p>Hab das gerade ausprobiert, hat super funktioniert, habe dazu RESTClient als Firefox Addon verwendet. Dakeschön</p>



<a name="245030537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/245030537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morris Miltz <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#245030537">(Jul 06 2021 at 12:25)</a>:</h4>
<p>Ich habe nun soweit ein paar Punkte getestet und es scheint zu funktionieren, auch die Observations habe ich finden können über den Patienten. </p>
<p>Was mir dennoch unklar ist, ich habe zwar in der Dokumentation die Ressourcen Group, List und Composition gefunden, bin mir aber nicht sicher ob ich diese dann richtig verwende.</p>
<p>Wie kurz angesprochen möchte ich einem Patienten einige Observations mitgeben, z. B. Wundfarbe, Wundexsudat, länge der Wunde, breite der Wunde usw.. dazu würde ich eine Observation wie folgt nutzten:</p>
<p>//Observation erstellen<br>
testObservation.valueStringType.setValue("TestObservation!!!")<br>
testObservation.setStatus(Observation.ObservationStatus.FINAL)<br>
var coding : Coding = testObservation.code.addCoding()<br>
coding.setCode("420226006").setSystem("<a href="http://snomed.info/sct">http://snomed.info/sct</a>")</p>
<p>//Referenz zum Patienten erstellen<br>
testObservation.setSubject(Reference(patientTest.getIdElement().value))</p>
<p>//Observation an Bundle geben<br>
bundle.addEntry().setResource(testObservation).getRequest().setUrl("TestObservation")<br>
   .setMethod(org.hl7.fhir.r4.model.Bundle.HTTPVerb.POST)</p>
<p>Sollte ich hier nun dies so für alle Observations machen (es könnten schon bis zu 30 sein), oder gibt es hierfür eine andere Ressource?<br>
Übersehe ich etwas?</p>
<p>Danke für Ihre Hilfe</p>



<a name="245055651"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/245055651" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#245055651">(Jul 06 2021 at 15:30)</a>:</h4>
<p>Wo kommen diese Endpunkte her? z.B.:</p>
<div class="codehilite"><pre><span></span><code>&quot;request&quot;: {
&quot;method&quot;: &quot;POST&quot;,
&quot;url&quot;: &quot;PatientTest&quot;,
 ...
}
</code></pre></div>
<p>oder </p>
<div class="codehilite"><pre><span></span><code>&quot;request&quot;: {
&quot;method&quot;: &quot;POST&quot;,
&quot;url&quot;: &quot;TestObservation&quot;
}
</code></pre></div>
<p>Endpunkt für einen bestimmten Ressourcentyp ist immer [base]/[Name des Ressourcentyps], vgl. Abschnitt 3.1.0.1.2 Service Base URL unter <a href="http://www.hl7.org/fhir/http.html#general">http://www.hl7.org/fhir/http.html#general</a> oder das Transaction-Bundle-Beispiel: <a href="http://www.hl7.org/fhir/bundle-transaction.xml.html">http://www.hl7.org/fhir/bundle-transaction.xml.html</a></p>
<p>Ist das ein selbst implementierter Server?</p>



<a name="245059739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/245059739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morris Miltz <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#245059739">(Jul 06 2021 at 15:58)</a>:</h4>
<p>Ich nutze zum testen den R4, kein selbst implementierter Server.<br>
Die Übermittlung der Daten erfolgt über die Android App die gerade programmiere, welche Kotlin als Sprache verwendet.</p>
<p>Okay, ich werde mir Ihre links nochmal anschauen, Danke.</p>
<p>Die Werte werden aufgrund der im obigen Post erwähnten Codezeilen erstellt.</p>
<p>//Observation erstellen<br>
testObservation.valueStringType.setValue("TestObservation!!!")                     &lt;-- Hier<br>
testObservation.setStatus(Observation.ObservationStatus.FINAL)<br>
var coding : Coding = testObservation.code.addCoding()<br>
coding.setCode("420226006").setSystem("<a href="http://snomed.info/sct">http://snomed.info/sct</a>")</p>
<p>//Observation an Bundle geben<br>
bundle.addEntry().setResource(testObservation).getRequest().setUrl("TestObservation")           &lt;-- und hier<br>
.setMethod(org.hl7.fhir.r4.model.Bundle.HTTPVerb.POST)</p>
<p>Wie gesagt, nur Beispielwerte um zunächst das Konzept zu testen.</p>



<a name="245647908"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/245647908" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abel Stolz <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#245647908">(Jul 12 2021 at 05:57)</a>:</h4>
<p>Was ist denn "der R4"? R4 bezeichnet die 4. Version von FHIR (davor kamen STU3 und DSTU2). FHIR-Server sind z. B.  HAPI oder Firely.</p>
<p>Man kann nicht einfach so einen eigenen Ressourcentyp "TestObservation" erstellen. Der Ressourcentyp muss in jedem Fall "Observation" sein. Man kann dann einfach die Ressource mit den Testdaten befüllen, oder z. B. zur Nachverfolgbarkeit meta.tag = "TestObservation" setzen.</p>



<a name="246243453"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/246243453" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morris Miltz <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#246243453">(Jul 16 2021 at 16:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256468">Abel Stolz</span> <a href="#narrow/stream/179183-german-.28d-a-ch.29/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server/near/245647908">said</a>:</p>
<blockquote>
<p>Was ist denn "der R4"? R4 bezeichnet die 4. Version von FHIR (davor kamen STU3 und DSTU2). FHIR-Server sind z. B.  HAPI oder Firely.</p>
<p>Man kann nicht einfach so einen eigenen Ressourcentyp "TestObservation" erstellen. Der Ressourcentyp muss in jedem Fall "Observation" sein. Man kann dann einfach die Ressource mit den Testdaten befüllen, oder z. B. zur Nachverfolgbarkeit meta.tag = "TestObservation" setzen.</p>
</blockquote>
<p>Verzeihung dies war mir nicht bewusst. Ich meinte natürlich den HAPI TestServer mit der Base: <a href="http://hapi.fhir.org/baseR4">http://hapi.fhir.org/baseR4</a>.</p>
<p>Ich lege z. B. eine Observation wie folgt an:</p>
<p>private lateinit var wundexsudatObservation : Observation</p>
<div class="codehilite"><pre><span></span><code>  //Observation Wundexsudat
    wundexsudatObservation = Observation()
    wundexsudatObservation.setSubject(Reference(patientTEST1.getIdElement().value))
    wundexsudatObservation.valueStringType.value = &quot;Wundexsudat Menge&quot;
    wundexsudatObservation.status = Observation.ObservationStatus.FINAL
    var wundexsudatCoding : Coding = wundexsudatObservation.code.addCoding()
    when(pWundexsudat != &quot;Bitte auswählen!&quot;){
        wundexsudat_sp.selectedItemPosition == 1 -&gt; {
            wundexsudatCoding.setCode(&quot;260413007&quot;).setSystem(&quot;http://snomed.info/sct&quot;)
        }
        wundexsudat_sp.selectedItemPosition == 2 -&gt; {
            wundexsudatCoding.setCode(&quot;255507004&quot;).setSystem(&quot;http://snomed.info/sct&quot;)
        }
        wundexsudat_sp.selectedItemPosition == 3 -&gt; {
            wundexsudatCoding.setCode(&quot;255508009&quot;).setSystem(&quot;http://snomed.info/sct&quot;)
        }
        wundexsudat_sp.selectedItemPosition == 4 -&gt; {
            wundexsudatCoding.setCode(&quot;kein Code hierfür aber soltle moderat sein&quot;).setSystem(&quot;snomed hat nur 4 Stufen&quot;)
        }
        wundexsudat_sp.selectedItemPosition == 5 -&gt; {
            wundexsudatCoding.setCode(&quot;255509001&quot;).setSystem(&quot;http://snomed.info/sct&quot;)
        }
    }
</code></pre></div>

<p>Und das ausgegebene Ergebnis sieht dann so aus:</p>
<p>"resource": {<br>
          "resourceType": "Observation",<br>
          "status": "final",<br>
          "code": {<br>
            "coding": [ {<br>
              "system": "<a href="http://snomed.info/sct">http://snomed.info/sct</a>",<br>
              "code": "255508009"<br>
            } ]<br>
          },<br>
          "valueString": "Wundexsudat Menge"<br>
        }</p>
<p>Ist das nicht korrekt?<br>
(Ich möchte aktuell nicht nach irgend welchen Standards validieren oder ähnliches, die App, die diesen Code erzeugt, ist nur für Testzwecke um eine Kommunikation mit dem Server zu testen)</p>



<a name="246418569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/246418569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abel Stolz <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#246418569">(Jul 19 2021 at 05:52)</a>:</h4>
<p>Nach dem Simplifier-Validator ist das korrekt (Standard R4.0.1), nach visueller Kontrolle und Abgleich mit <a href="http://hl7.org/fhir/observation.html">http://hl7.org/fhir/observation.html</a> auch. Das Problem ist: Man kann nicht wirklich sagen, ob die Ressource korrekt ist, wenn man sie nicht nach irgendeinem Standard misst. Ich habe also Core R4.0.1 genommen. Wenn es nur um die Kommunikation mit dem Server geht, dann verstehe ich nicht, wieso sich die Frage nach der Korrektheit überhaupt stellt. Man könnte ja eine inkorrekte Ressource schicken; wenn der Server eine Fehlermeldung schickt, dass die Ressource nicht korrekt ist, hat die Kommunikation funktioniert...</p>



<a name="246426282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/246426282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#246426282">(Jul 19 2021 at 07:59)</a>:</h4>
<p>Hallo <span class="user-mention" data-user-id="399680">@Morris Miltz</span>,<br>
ich habe gerade das Gefühl, dass Code und Value durcheinander geraten sind. <br>
<code>code</code>sagt, um was es sich handelt. Dort müsste stehen, dass es sich um die Menge an Wundexsudat handelt, z.B. mittels des SNOMED CT Codes (441281002) oder LOINC (39116-9). <br>
Die Menge, im genannten Beispiel "medium" (SNOMED-Code 255508009), kommt dann in den <code>value</code> als <code>valueCodeableConcept</code>. <br>
Daher würde ich die Frage: "Ist das nicht richtig?" mit "Stimmt, das ist nicht richtig" beantworten.</p>
<p>Ich habe einmal das Beispiel angepasst, wobei ich im Code sowohl den LOINC- als auch den SNOMED Code hinterlegt habe. </p>
<div class="codehilite"><pre><span></span><code>&quot;resource&quot;: {
   &quot;resourceType&quot;: &quot;Observation&quot;,
   &quot;status&quot;: &quot;final&quot;,
   &quot;code&quot;: {
      &quot;coding&quot;: [
         {
            &quot;system&quot;: &quot;http://snomed.info/sct&quot;,
            &quot;code&quot;: &quot;441281002&quot;,
            &quot;display&quot;: &quot;Amount of exudate&quot;
         } ,
         {
            &quot;system&quot;: &quot;http://loinc.org&quot;,
            &quot;code&quot;: &quot;39116-9&quot;,
            &quot;display&quot;: &quot;Drainage amount of Wound&quot;
         }
      ]
   },
   &quot;valueCodeableConcept&quot;: {
      &quot;coding&quot;: [
         {
            &quot;system&quot;: &quot;http://snomed.info/sct&quot;,
            &quot;code&quot;: &quot;255508009&quot;,
            &quot;display&quot;: &quot;medium&quot;
         }
      ]
   }
}
</code></pre></div>
<p>Ich hoffe, die Antwort hilft weiter.<br>
Viele Grüße</p>



<a name="246427754"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/246427754" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morris Miltz <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#246427754">(Jul 19 2021 at 08:18)</a>:</h4>
<p>Hallo <span class="user-mention" data-user-id="196115">@Mareike Przysucha</span> vielen Dank für die Antwort.<br>
Habe ich es dann richtig verstanden, dass der innerhalb vom code eben das coding wie snomed und loinc stehen, die dann Angeben was der Code sein soll. Also sozusagen der Überbegriff. Und im valueCodableConcept ich dann Einträge oder "arten" habe, die unter den "Überbegriff" fallen?</p>
<p>Bezug auf das obere Beispiel, hier hätte ich für das coding den snomed 441...<br>
Und im valueCodableConcept dann denn 255.. mit medium, ist das dann so dass ich mehrere valueCodableConept erstellen kann. Also für z. B. high und low auch?</p>
<p>Vielen Dank nochmal :)</p>



<a name="246428532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Verst%C3%A4ndnis%20Problem%2C%20Kommunikation%20zwischen%20Client%20%26%20Server/near/246428532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Verst.C3.A4ndnis.20Problem.2C.20Kommunikation.20zwischen.20Client.20.26.20Server.html#246428532">(Jul 19 2021 at 08:28)</a>:</h4>
<p>Gerne. Du kannst auch im value mehrere codings haben, jedoch sollten diese das gleiche repräsentieren. Wenn Du "high" und "low" einsetzt, sagst Du, dass bei Wunde XY sowohl viel als auch wenig Exsudat zur gleichen Zeit auftritt. Und das klappt nicht so richtig... Also solltest Du Dich dann auf eines konzentrieren.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
