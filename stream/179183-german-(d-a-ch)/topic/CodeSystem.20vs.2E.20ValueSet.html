---
layout: page
title: "FHIR Chat  · CodeSystem vs. ValueSet · german (d-a-ch)"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/index.html">german (d-a-ch)</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html">CodeSystem vs. ValueSet</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="231927257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231927257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Nau <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231927257">(Mar 26 2021 at 08:03)</a>:</h4>
<p>Ich habe eine Verständnisfrage zu Code-Systemen und Value-Sets:<br>
Ist es <em>notwendig</em> immer ein Value-Set zu definieren, auch wenn dieses einfach nur <em>alle Codes</em> des Code-Systems enthält?<br>
Oder kann man in einem <code>CodeableConcept</code> beim System auch nur das Code-System angeben?<br>
Mein Verständnis ist, dass die Verwendung von Value-Sets eher auf komplexere Code-Systeme abziehlt, bei denen Codes wiederverwendet werden.<br>
Oder ist es "good practice"/"nice to have" immer ein Value-Set zu definieren?</p>
<p>Gibt es etwas im Rahmen dieser Frage zu beachten, wenn sich Inhalte des Code-Systems aktualisieren respective erweitern?</p>



<a name="231947960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231947960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231947960">(Mar 26 2021 at 11:16)</a>:</h4>
<p>Wenn man es von der Seite "Was ist ein ValueSet, was ist ein Codesystem" betrachtet, liegt die Antwort bei: Mach ein ValueSet. Der Vorteil ist, dass bei den Profilen genauer gesagt werden kann, wie stark dieses gebunden ist: example, preferred, extensible, required. Außerdem können andere das ValueSet ebenfalls verwenden und es kann vermutlich auch besser geprüft werden, ob ein Code "zulässig" ist. Auch kann es schneller um Codes aus einem weiteren CS erweitert werden.<br>
Wenn man es von der Seite betrachtet: "hier ist VS = CS", dann geht natürlich auch die Variante "Ich schreibe die CS-URL ins system und sage über die Kardinalität, ob es sein muss oder nicht, jedenfalls bei Slices". Ich habe das aktuell z.B. beim ePflegebericht so gemacht, mir wurde dann aber im Rahmen des Ballots von einem Kliniker gesagt, dass er lieber die ValueSets hätte, da er diese besser verstehen könne.</p>
<p>Mein Fazit für mich: Lieber VS bauen und einbinden, selbst wenn nur ein CS enthalten ist und dieses komplett.</p>



<a name="231947995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231947995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231947995">(Mar 26 2021 at 11:17)</a>:</h4>
<p>Ich erhebe aber keinen Anspruch auf Korrektheit, das ist meine Meinung.</p>



<a name="231950144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231950144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Nau <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231950144">(Mar 26 2021 at 11:37)</a>:</h4>
<p>Danke für deine Meinung <span class="user-mention" data-user-id="196115">@Mareike Przysucha</span></p>



<a name="231958944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231958944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231958944">(Mar 26 2021 at 12:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="327858">Christian Nau</span> <a href="#narrow/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet/near/231927257">said</a>:</p>
<blockquote>
<p>Oder kann man in einem <code>CodeableConcept</code> beim System auch nur das Code-System angeben?</p>
</blockquote>
<p>Kleiner Hinweis: In <code>CodeableConcept</code> wird <em>immer</em> das CodeSystem angegeben, auch falls in einem Profil ein Value Set genutzt wird. Das value set beschränkt lediglich die Auswahl, <em>welche</em> Konzepte an der Stelle verwendbar sind.</p>



<a name="231959555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231959555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231959555">(Mar 26 2021 at 13:01)</a>:</h4>
<p>Ich denke, es geht darum, im Profil im CodeableConcept das <code>system</code> fest vorzugeben als Alternative zum ValueSet-Binding.</p>
<p>Beispiel: Ich möchte eine Condition mit einem ICD-10-GM Code, aber mir ist egal, welcher. Mache ich ein VS mit allen Codes aus dem Codesystem, oder schreibe ich unter <code>code</code> fest, dass <code>coding.system</code> die canonicalURL von ICD-10-GM ist? Beides geht, aber ersteres wäre vielleicht eleganter.</p>



<a name="231959981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231959981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231959981">(Mar 26 2021 at 13:04)</a>:</h4>
<p>Wenn man kein ValueSet-Binding angibt, können aber meines Wissens nach die Codes nicht validiert werden. Wenn ich nur das <code>system</code> im Coding fest setze, sagt das ja nichts darüber aus, ob die Werte in <code>code</code> auch im CodeSystem vorhanden sind.</p>



<a name="231962429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231962429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231962429">(Mar 26 2021 at 13:20)</a>:</h4>
<p>Korrekt, in dem Fall findet außer einem String-Vergleich auf <code>system</code> keine weitere Validierung des Codes statt.<br>
Machen wir in den Basisprofilen zum Beispiel dann, wenn wir zwar aussagen wollen, dass eine bestimmte Terminologie verwendet werden soll, uns diese aber gar nicht vollständig bekannt ist (z.B. PZN) und folglich gar keine Validierung möglich ist.  In solchen Fällen empfiehlt es sich mit Hilfe einer <code>matches('pattern')</code>-Invariante auf <code>value</code> zumindest die sytaktische Korrektheit des Codes zu überprüfen.</p>



<a name="231962493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231962493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Nau <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231962493">(Mar 26 2021 at 13:21)</a>:</h4>
<p>Danke für den Hinweis <span class="user-mention" data-user-id="193991">@Christof Gessner</span> .<br>
<span class="user-mention" data-user-id="197470">@Alexander Kiel</span> Oh das ist dann der entscheidende Punkt für mich: Ich muss die resourcen gegen die Profile validieren können, welche ein bestimmtes Code-System (und offensichtlich auch ein Value-Set) referenzieren.</p>



<a name="231962628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231962628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231962628">(Mar 26 2021 at 13:21)</a>:</h4>
<p><span class="user-mention" data-user-id="197470">@Alexander Kiel</span> Das hatte ich auch vermutet, daher meine entsprechende Einschränkung oben. Danke für die Klarstellung!</p>



<a name="231962760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231962760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Nau <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231962760">(Mar 26 2021 at 13:22)</a>:</h4>
<p>Ah ok. Das mit der Validierung war mir so nicht bewusst. Dann werde ich in jedem Fall für alle bekannten Codes auch ValueSets einsetzen. Danke!</p>



<a name="231963342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231963342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Nau <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231963342">(Mar 26 2021 at 13:26)</a>:</h4>
<p>Noch eine Frage: <br>
Angenommen ich habe eine Observation die mit LOINC codiert werden soll. Wenn ich kein Profil hinterlege, gegen welches ValueSet wird dann dort validiert? <br>
Nur der String-Vergleich auf <code>system</code> kann es in dem Fall nicht sein (zumindest bei HAPI / SmileCDR) <span class="user-mention" data-user-id="191450">@Simone Heckmann</span>. Dort habe ich bereits Fehler bei der Validierung erhalten, wenn ich für LOINC kein CodeSystem installiert/hinterlegt hatte.</p>



<a name="231963563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231963563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231963563">(Mar 26 2021 at 13:27)</a>:</h4>
<p>Observation.code wird gar nicht validiert, da es im Core nur eine Example-Binding gibt, was so viel heißt wie "macht, was ihr wollt".</p>



<a name="231963996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231963996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231963996">(Mar 26 2021 at 13:30)</a>:</h4>
<p>Ah, es kann sein, dass es bei HAPI noch eine zusätzliche Kontrolle gibt, die Prüft, ob der Code im CodeSystem vorhanden ist. (zumindest ist uns das schon aufgefallen, wenn wir Bindings an ein expandetes ValueSet hatten, für das es aber kein zugrunde liegendes CodeSystem gab). Ob dieser Mechanismus auch getriggert wird, wenn man nur einen fixed value auf system setzt, kann ich gerade auswendig nicht sagen.<br>
Der .NET-Validator macht das jedenfalls nicht...</p>



<a name="231964109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231964109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231964109">(Mar 26 2021 at 13:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> ...?</p>



<a name="231964200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231964200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Nau <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231964200">(Mar 26 2021 at 13:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> hat das vielleicht etwas damit zu tun? <a href="https://github.com/hapifhir/hapi-fhir/issues/2489">https://github.com/hapifhir/hapi-fhir/issues/2489</a></p>



<a name="231996194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231996194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231996194">(Mar 26 2021 at 16:41)</a>:</h4>
<p>der Java Validator validiert jedes Coding gegen das System (falls er es kennt)</p>



<a name="231996334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231996334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231996334">(Mar 26 2021 at 16:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="327858">Christian Nau</span> <a href="#narrow/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet/near/231964200">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191451">Patrick Werner</span> hat das vielleicht etwas damit zu tun? <a href="https://github.com/hapifhir/hapi-fhir/issues/2489">https://github.com/hapifhir/hapi-fhir/issues/2489</a></p>
</blockquote>
<p>das ist ein hapi spezifisches Verhalten, ich erstelle gerade einen PR der dies behebt, bzw. einstellbar macht</p>



<a name="231996633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231996633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231996633">(Mar 26 2021 at 16:44)</a>:</h4>
<p>Generell zur Diskussion:<br>
Falls kein Profil gesetzt wird in hapi gegen das CodeSystem validiert. Aktuell mit Error falls keine ValidationModul das CS kennt.<br>
Java Validator und hapi haben unterschiedliche Terminologievalidierungsklassen und Verhalten. Der Java Validator nutzt <a href="http://tx.fhir.org">tx.fhir.org</a>, hapi hat einen eigenen, internen Terminologievalidator. Der Java Validator gibt mittlerweile auch keine Errors mehr aus für unknown CS.</p>
<p>Es empfiehlt sich eigentlich immer Profile zu erstellen gegen welche man validiert. In Profilen werden immer und ausschließlich ValueSets gebunden.</p>



<a name="231996873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231996873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231996873">(Mar 26 2021 at 16:45)</a>:</h4>
<p>Einen UseCase bei dem bei einer Observation nur gegen Loinc geprüft wird kann ich mir nicht vorstellen, man sollte innerhalb eines use-cases eigentlich fast immer auf eine explizite, oder mittels Filtern definierte Liste an Concepts kommen.</p>



<a name="231997580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/CodeSystem%20vs.%20ValueSet/near/231997580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Nau <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/CodeSystem.20vs.2E.20ValueSet.html#231997580">(Mar 26 2021 at 16:49)</a>:</h4>
<p>Ok.<br>
Wenn Profile eingesetzt werden (empfohlen) -&gt; Value Sets unumgänglich<br>
Wenn keine Profile eingesetzt werden -&gt; Validierung gegen Code-System (bei HAPI)<br>
Danke an alle!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
