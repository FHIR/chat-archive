---
layout: page
title: "FHIR Chat  · Medplan PLUS  - mehrere Dosen pro Tag? · german (d-a-ch)"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/index.html">german (d-a-ch)</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Medplan.20PLUS.20.20-.20mehrere.20Dosen.20pro.20Tag.3F.html">Medplan PLUS  - mehrere Dosen pro Tag?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154015161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Medplan%20PLUS%20%20-%20mehrere%20Dosen%20pro%20Tag%3F/near/154015161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Medplan.20PLUS.20.20-.20mehrere.20Dosen.20pro.20Tag.3F.html#154015161">(Nov 02 2018 at 14:53)</a>:</h4>
<p>Da bin ich schon wieder <span class="emoji emoji-1f604" title="smile">:smile:</span>. In dem <a href="https://simplifier.net/medikationsplanplus/medicationstatement-1" target="_blank" title="https://simplifier.net/medikationsplanplus/medicationstatement-1">MPP-Profil für <code>MedicationStatement</code></a>, hat das Feld <code>dosage</code> die Kardinalität <code>1...5</code>. Ich hatte angenommen, dass man dementsprechend  die Angabe "1 Tablette Morgens und 1 Tablette Abends" mit zwei Einträge, die beide dem Slice "kodiert" entsprechen, kodieren könnte (siehe Beispiel Unten). Aber im Profil ist die Kardinalität von beide Slices auf <code>0..1</code> festgelegt und dementsprechend fliegt auch einen Fehler beim Validieren (Slice "kodiert" kommt zweimal vor, darf aber nur einmal vorkommen). Da der Slicing closed ist, scheint es, dass man nie mehr als zwei Einträge (ein pro Slice) haben könnte. Habe ich was falsch verstanden oder gibt es tatsächlich ein Problem?</p>
<p>Beispiel: Mögliche Kodierung für Morgens &amp; Abends?</p>
<div class="codehilite"><pre><span></span><span class="s2">&quot;dosage&quot;</span><span class="err">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">&quot;timing&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;coding&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot; http://hl7.org/fhir/v3/TimingEvent&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;CM&quot;</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;doseQuantity&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="err">...</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="nt">&quot;timing&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;coding&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot; http://hl7.org/fhir/v3/TimingEvent&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;CV&quot;</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;doseQuantity&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="err">...</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>



<a name="154015614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Medplan%20PLUS%20%20-%20mehrere%20Dosen%20pro%20Tag%3F/near/154015614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Medplan.20PLUS.20.20-.20mehrere.20Dosen.20pro.20Tag.3F.html#154015614">(Nov 05 2018 at 13:26)</a>:</h4>
<p>Die Absicht ist: es kann 5 verschiedene Anweisungen geben (morgens, mittags abends, nachts, freitext), daher 1..5<br>
Ein MedicationStatement darf aber nicht zwei slices mit Angabe für z.B. "morgens" haben, daher ist jeder slice maximal einmal erlaubt.</p>



<a name="154015616"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Medplan%20PLUS%20%20-%20mehrere%20Dosen%20pro%20Tag%3F/near/154015616" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Medplan.20PLUS.20.20-.20mehrere.20Dosen.20pro.20Tag.3F.html#154015616">(Nov 05 2018 at 13:31)</a>:</h4>
<p>Ah. Moment...    Wir hatten das ausdifferenzierte Slicing ("morgens, mittags abends, nachts") aufgrund von Problemen mit dem Discriminator wieder auf zwei Slices reduziert, nämlich "kodiert" und "freitext".<br>
Und du hast recht: damit müsste der "kodiert" slice die Kardinalität 0..4 bekommen, da ein Medikament, ja -worst case- zu allen vier Zeiten eingenommen werden muss...</p>



<a name="154015617"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Medplan%20PLUS%20%20-%20mehrere%20Dosen%20pro%20Tag%3F/near/154015617" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Medplan.20PLUS.20.20-.20mehrere.20Dosen.20pro.20Tag.3F.html#154015617">(Nov 05 2018 at 13:33)</a>:</h4>
<p>Auch der fixed value in timing.code.coding.display auf "morgens" ist natürlich Quark. Vermutlich ist das beim zurückbauen der Slices aus versehen übrig geblieben...</p>



<a name="154015620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Medplan%20PLUS%20%20-%20mehrere%20Dosen%20pro%20Tag%3F/near/154015620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Medplan.20PLUS.20.20-.20mehrere.20Dosen.20pro.20Tag.3F.html#154015620">(Nov 05 2018 at 13:38)</a>:</h4>
<p><a href="https://github.com/hl7germany/medikationsplanplusplus/issues/59" target="_blank" title="https://github.com/hl7germany/medikationsplanplusplus/issues/59">https://github.com/hl7germany/medikationsplanplusplus/issues/59</a><br>
(<span class="user-mention" data-user-id="194952">@Julian Sass</span> , <span class="user-mention" data-user-id="191532">@dr Kai U. Heitmann</span> )</p>



<a name="154015626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Medplan%20PLUS%20%20-%20mehrere%20Dosen%20pro%20Tag%3F/near/154015626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Medplan.20PLUS.20.20-.20mehrere.20Dosen.20pro.20Tag.3F.html#154015626">(Nov 05 2018 at 13:39)</a>:</h4>
<p><span class="user-mention" data-user-id="191450">@Simone Heckmann</span> Alles klar, danke! Das mit "morgens" hat mich auch etwas verwirrt <span class="emoji emoji-1f60f" title="smirk">:smirk:</span></p>



<a name="154015650"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Medplan%20PLUS%20%20-%20mehrere%20Dosen%20pro%20Tag%3F/near/154015650" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Medplan.20PLUS.20.20-.20mehrere.20Dosen.20pro.20Tag.3F.html#154015650">(Nov 05 2018 at 14:52)</a>:</h4>
<p>Aber 1..5 haben wir doch bereits auf der Ebene von dosage?</p>



<a name="154015677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Medplan%20PLUS%20%20-%20mehrere%20Dosen%20pro%20Tag%3F/near/154015677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Medplan.20PLUS.20.20-.20mehrere.20Dosen.20pro.20Tag.3F.html#154015677">(Nov 05 2018 at 16:11)</a>:</h4>
<p>Ja, ist aber ein "closed" slicing, daher ist nur erlaubt, was in den Slices definiert ist...</p>



<a name="154015679"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Medplan%20PLUS%20%20-%20mehrere%20Dosen%20pro%20Tag%3F/near/154015679" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Medplan.20PLUS.20.20-.20mehrere.20Dosen.20pro.20Tag.3F.html#154015679">(Nov 05 2018 at 16:42)</a>:</h4>
<p>Selbst wenn es "open" wäre: wenn das einzelne Slice (wie hier) auf max. 1 constrained ist, wären 2 oder mehr Vorkommen ein Error.</p>



<a name="154015706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Medplan%20PLUS%20%20-%20mehrere%20Dosen%20pro%20Tag%3F/near/154015706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Medplan.20PLUS.20.20-.20mehrere.20Dosen.20pro.20Tag.3F.html#154015706">(Nov 05 2018 at 18:41)</a>:</h4>
<p>ok, ich glaube ich habe es jetzt verstanden, danke.</p>
<p>Und sowas wie <br>
      &lt;slicing&gt;<br>
        &lt;discriminator&gt;<br>
          &lt;type value="exists" /&gt;<br>
          &lt;path value="text" /&gt;<br>
        &lt;/discriminator&gt;<br>
        &lt;discriminator&gt;<br>
          &lt;type value="value" /&gt;<br>
          &lt;path value="timing/code/coding/code" /&gt;<br>
        &lt;/discriminator&gt;<br>
        &lt;rules value="closed" /&gt;<br>
      &lt;/slicing&gt;<br>
wurde vermutlich schon ausprobiert...</p>



<a name="154015845"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Medplan%20PLUS%20%20-%20mehrere%20Dosen%20pro%20Tag%3F/near/154015845" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Medplan.20PLUS.20.20-.20mehrere.20Dosen.20pro.20Tag.3F.html#154015845">(Nov 06 2018 at 07:21)</a>:</h4>
<p><span class="user-mention" data-user-id="193991">@Christof Gessner</span> : In wie fern wäre das anders als der Status Quo?</p>



<a name="154015946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Medplan%20PLUS%20%20-%20mehrere%20Dosen%20pro%20Tag%3F/near/154015946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Medplan.20PLUS.20.20-.20mehrere.20Dosen.20pro.20Tag.3F.html#154015946">(Nov 06 2018 at 17:13)</a>:</h4>
<p>Ich glaube, ich wollte damit auf das gleiche hinaus, was du oben als “ausdifferenziertes slicing” bezeichnetest. Also sowohl text als auch den code als discriminator.</p>



<a name="154016060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Medplan%20PLUS%20%20-%20mehrere%20Dosen%20pro%20Tag%3F/near/154016060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Medplan.20PLUS.20.20-.20mehrere.20Dosen.20pro.20Tag.3F.html#154016060">(Nov 06 2018 at 23:48)</a>:</h4>
<p>kleine Anmerkung hierzu: Slicing auf text gilt als bad practice und sollte vermieden werden.</p>



<a name="154016139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Medplan%20PLUS%20%20-%20mehrere%20Dosen%20pro%20Tag%3F/near/154016139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Medplan.20PLUS.20.20-.20mehrere.20Dosen.20pro.20Tag.3F.html#154016139">(Nov 07 2018 at 07:01)</a>:</h4>
<p>Auch mit discriminator typ exists?</p>



<a name="154022091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Medplan%20PLUS%20%20-%20mehrere%20Dosen%20pro%20Tag%3F/near/154022091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Medplan.20PLUS.20.20-.20mehrere.20Dosen.20pro.20Tag.3F.html#154022091">(Nov 30 2018 at 13:43)</a>:</h4>
<p>FYI: Ich hab die beiden Bugs in der Dosage (Kardinalität 0..4 statt 0..1)  und den fehlerhaften fixed value behoben...<br>
<a href="https://simplifier.net/medikationsplanplus/medicationstatement-1" target="_blank" title="https://simplifier.net/medikationsplanplus/medicationstatement-1">https://simplifier.net/medikationsplanplus/medicationstatement-1</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
