---
layout: page
title: "FHIR Chat  · eGK/VSDM-Daten in FHIR · german (d-a-ch)"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/index.html">german (d-a-ch)</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html">eGK/VSDM-Daten in FHIR</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="175076730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175076730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175076730">(Sep 06 2019 at 15:45)</a>:</h4>
<p>Wie bereits in <a href="#narrow/stream/179183-german-(d-a-ch)/topic/Coverage.20(Profil.20GKV)" title="#narrow/stream/179183-german-(d-a-ch)/topic/Coverage.20(Profil.20GKV)">https://chat.fhir.org/#narrow/stream/179183-german-(d-a-ch)/topic/Coverage.20(Profil.20GKV)</a> andiskutiert, möchte ich hier die Überlegungen fortführen, wie ein Datensatz von der elektronischen Versichertenkarte (VSDM, künftig ggf. auch Notfalldaten etc) in FHIR kommuniziert werden könnte.<br>
Wir waren uns bisher weitgehend einig dass</p>
<ul>
<li>so viel wie möglich aus dem Datensatz auf FHIR-Standard-Elemente gemappt werden sollte</li>
<li>nicht alles was auf der EKG steht, sinnvoll zu mappen ist</li>
<li>die komplexen STU3-Extensions, mit denen wir versucht haben, die VSDM-Inhalte in die Coverage-Ressource zu pressen etwas unhandlich sind</li>
<li>es in einigen UseCases weniger darauf ankommt, die Inhalte in FHIR abzubilden, sondern lediglich der Orginial-Datensatz persistiert/transportiert/rekonstruiert werden muss.</li>
</ul>
<p>Die Überlegungen gingen daher in die Richtung, den EGK-Datensatz als DocumentReference mit Base64-codierten Original-Daten abzubilden. Dessen ungeachtet sollten natürlich so viel Informationen wie sinnvoll/möglich auf FHIR gemappt werden, um über die API zur Verfügung zu stehen.</p>



<a name="175077558"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175077558" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175077558">(Sep 06 2019 at 15:54)</a>:</h4>
<p>Bei Notfalldaten und Medikationsplan gibt es vermutlich use cases wo es sinnvoll sein kann, die jeweils als BLOB zu transportieren. Natürlich separat von den VSDM-Daten. Und für ein FHIR- mapping dieser eGK-Daten sollten wir uns m. E. mit diversen Beteiligten jedenfalls abstimmen. vgl. KBV-Schnittstelle für Verordnungssoftware und UKF-Spezifikation.</p>



<a name="175078001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175078001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175078001">(Sep 06 2019 at 15:59)</a>:</h4>
<p>Richtig.</p>
<p>Der Medikationsplan (UKF) ist in der KBV-Verordnungsschnittstelle in DocumentReference profiliert (Profil <a href="https://fhir.kbv.de/StructureDefinition/74_PR_VoS_DokuRef" target="_blank" title="https://fhir.kbv.de/StructureDefinition/74_PR_VoS_DokuRef">https://fhir.kbv.de/StructureDefinition/74_PR_VoS_DokuRef</a> ).<br>
Das ganze direkt eingebettet in content.attachment.data und zwar ggf. sogar innerhalb einer DocumentReference der Medikationsplan sowohl als XML (aka UKF) als auch als PDF (2 content-Elemente).<br>
Dies ganz im Sinn der FHIR-Spec: zu DocumentReference.content: "The document and format referenced. There may be multiple content element repetitions, each with a different format."</p>



<a name="175078304"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175078304" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175078304">(Sep 06 2019 at 16:02)</a>:</h4>
<p>Hier mal grob eine Idee, wie ein "Original"-Datensatz als DocumentReference aussehen könnte:</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;DocumentReference</span> <span class="na">xmlns=</span><span class="s">&quot;http://hl7.org/fhir&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;status</span> <span class="na">value=</span><span class="s">&quot;current&quot;</span><span class="nt">/&gt;</span>
  <span class="c">&lt;!--DocType TBD--&gt;</span>
  <span class="nt">&lt;type&gt;</span>
    <span class="nt">&lt;coding&gt;</span>
        <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">&quot;tbd&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;VSDM&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/coding&gt;</span>
  <span class="nt">&lt;/type&gt;</span>
  <span class="nt">&lt;subject&gt;</span>
    <span class="c">&lt;!-- die Patientendaten können aus dem VSDM-Datensatz extrahiert worden sein--&gt;</span>
    <span class="nt">&lt;reference</span> <span class="na">value=</span><span class="s">&quot;Patient/1234&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/subject&gt;</span>
  <span class="c">&lt;!--Einlesedatum--&gt;</span>
  <span class="nt">&lt;date</span> <span class="na">value=</span><span class="s">&quot;2019-09-06&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;description</span> <span class="na">value=</span><span class="s">&quot;VSDM-Datensatz&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;content&gt;</span>
    <span class="nt">&lt;attachment&gt;</span>
      <span class="nt">&lt;contentType</span> <span class="na">value=</span><span class="s">&quot;application/xml&quot;</span><span class="nt">/&gt;</span>
      <span class="c">&lt;!--hier Base64-codiert der Datensatz--&gt;</span>
      <span class="nt">&lt;data</span> <span class="na">value=</span><span class="s">&quot;A64FCB746CFA6746B...&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/attachment&gt;</span>
  <span class="nt">&lt;/content&gt;</span>
  <span class="nt">&lt;related&gt;</span>
    <span class="c">&lt;!--link auf Coverage, die aus VSDM-Daten erzeugt wurde--&gt;</span>
    <span class="nt">&lt;reference</span> <span class="na">value=</span><span class="s">&quot;Coverage/5432&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/related&gt;</span>
<span class="nt">&lt;/DocumentReference&gt;</span>
</pre></div>


<p>Die Suche nach dem EGK-Datensatz zu Patient 1234 könnte dann mit <br>
<code>.../DocumentReference?subject:Patient._id=1234&amp;type=VSDM</code> erfolgen.</p>



<a name="175078788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175078788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175078788">(Sep 06 2019 at 16:07)</a>:</h4>
<p>warum nicht die FHIR resources, die der eMP repräsentieren möchte?</p>



<a name="175079785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175079785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175079785">(Sep 06 2019 at 16:20)</a>:</h4>
<p>Versteh' die Frage nicht...</p>



<a name="175080146"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175080146" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175080146">(Sep 06 2019 at 16:24)</a>:</h4>
<p>UKF war mal als komprimierte Repräsentation von FHIR gedacht. Falls man die Kompression nicht mehr braucht, würde man vielleicht FHIR verbatim speichern. Würde man sowas dann auch in dieser Form als DocumentReference übertragen wollen?</p>



<a name="175080296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175080296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175080296">(Sep 06 2019 at 16:26)</a>:</h4>
<p>Nein, DocumentReference nur, wenn man die Original-Daten zusätzlich oder anstelle der gemappten Informationen benötigt...</p>



<a name="175080330"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175080330" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175080330">(Sep 06 2019 at 16:26)</a>:</h4>
<p><span class="user-mention" data-user-id="193991">@Christof Gessner</span> Entsprechende Einzelprofile in Äquivalenz zum BMP gibt es in VoS auch.<br>
Das DokRef-Profil ist dazu gedacht den fertig gerenderten MP (PDF) oder/und eben 1:1 das darauf abzulegende strukturiererte XML (=UKF) zu übermitteln.</p>



<a name="175080446"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175080446" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175080446">(Sep 06 2019 at 16:28)</a>:</h4>
<p>Das Mapping ist halt viel entspannter, wenn man nicht jede - für den jeweiligen UseCase noch so irrelevante - Information aus den Originaldaten in eine FHIR-Ressource/-Extension pressen muss, nur um den vollständigen Original-Datensatz wiederherstellen zu können...</p>



<a name="175080466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175080466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175080466">(Sep 06 2019 at 16:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191450">@Simone Heckmann</span> Genau.<br>
In diesem Fall ist es das Verordnungssystem (FHIR-Client), das die Daten hat und auch den MP generiert und das PVS (FHIR-Server), das genau dies eben nicht kann (bzw. können muss) und ggf. einfach nur als Dokumentenmanagementsystem für Medikationspläne in PDF und/oder XML agiert.</p>



<a name="175080747"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175080747" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175080747">(Sep 06 2019 at 16:32)</a>:</h4>
<p>Mir treibt nur gerade die Überlegung um, ob man sich die Liste der Dokumente zu einem Patienten dann nicht mit menschen-unlesbaren und für den Anwender irrelevanten Datensätzen zuspammt. <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> <br>
Leider haben wir kein Flag, um ein Dokument als "nicht zum Konsum geeignet" zu flaggen. Müsste man also anhand des Dokumenttyps in der UI sinnvoll sortieren...</p>



<a name="175081061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175081061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175081061">(Sep 06 2019 at 16:34)</a>:</h4>
<p>Einen ersten Hinweis liefert natürlich der contentType.<br>
Für ein XML (wie den UKF) bräuchte es ein StyleSheet.<br>
Weitere Infos zur Differenzierung könnten nach content.format passen</p>



<a name="175081191"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175081191" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175081191">(Sep 06 2019 at 16:35)</a>:</h4>
<p>Wenn man übrigens sowohl mappt als auch das Original als DocumentReference speichert, und man sich ein Fleiß-Sternchen verdienen möchte, dann könnte man eine Provenance-Ressource erstellen, die die gemappten Ressourcen als <code>target</code> verlinkt und die DocumentReference als <code>entity</code> mit der Rolle <code>source</code> und damit nachvollziehbar macht, welche Informationen aus dem eGK-Datensatz extrahiert wurden.<br>
...aber das macht später alles die FHIR Mapping-Engine für uns, stimmt's <span class="user-mention" data-user-id="193430">@Alexander Zautke</span>  ;-)</p>



<a name="175083367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175083367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175083367">(Sep 06 2019 at 17:04)</a>:</h4>
<p>(deleted)</p>



<a name="175083432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175083432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175083432">(Sep 06 2019 at 17:04)</a>:</h4>
<p>This is left as an exercise to the reader ;D Ich möchte ja nicht der einzige bleiben der diese Sprache kann...</p>



<a name="175084919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175084919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175084919">(Sep 06 2019 at 17:23)</a>:</h4>
<p>Ich meine, dass ich in der VoS spec eine recht ausdifferenzierte XML oder JSON Struktur für das eRezept gesehen habe, für den eMP aber nicht. Bloß daher meine Verwunderung...</p>



<a name="175225930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175225930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Oemig <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175225930">(Sep 09 2019 at 09:20)</a>:</h4>
<p>haben wir dann 2 parallele Varianten wie in v2? Dann kann man wählen...</p>



<a name="175818763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/175818763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#175818763">(Sep 16 2019 at 14:45)</a>:</h4>
<p>Ich würde die Diskussion gerne mal im Hinblick auf die AWS-Spec der KBV lenken:<br>
Ist es dort zwingend erforderlich, die Zusatzinformationen in die Coverage-Extensions zu mappen? Die Funktionalität Import/Export könnte man auch mit dem Original-Datensatz erzielen. Die Frage wäre, wie diese Daten in den PVSsen vorgehalten werden. Werden diese dort in die eigene DB-Struktur gemappt und der VSDM-Datensatz müsste erst wiederhergestellt werden (was auch nicht mehr oder weniger komplex wäre als die FHIR-Resource zu erstellen) oder speichern PVS-System das Originalformat?</p>



<a name="233792896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/eGK/VSDM-Daten%20in%20FHIR/near/233792896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR.html#233792896">(Apr 09 2021 at 09:38)</a>:</h4>
<p>Auf der Rückseite der deutschen eGK sind die EHIC-Daten aufgedruckt. Hat hierzu schonmal jemand was in FHIR erstellt?<br>
Falls ja: bitte melden bei <a href="#narrow/stream/242580-europe/topic/EHIC.20.2B.20FHIR">https://chat.fhir.org/#narrow/stream/242580-europe/topic/EHIC.20.2B.20FHIR</a> </p>
<p><a href="/user_uploads/10155/M-fTBTwZjxbEuINBZ1fyg2Xc/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/M-fTBTwZjxbEuINBZ1fyg2Xc/image.png" title="image.png"><img src="/user_uploads/10155/M-fTBTwZjxbEuINBZ1fyg2Xc/image.png"></a></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
