---
layout: page
title: "FHIR Chat  · Problem mit HAPI FHIR · german (d-a-ch)"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/index.html">german (d-a-ch)</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html">Problem mit HAPI FHIR</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153989767"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Problem%20mit%20HAPI%20FHIR/near/153989767" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kilian Krockauer <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html#153989767">(Aug 21 2018 at 09:25)</a>:</h4>
<p>Hallo zusammen, ich habe ein Problem mit einer lokal eingesetzten HAPI-FHIR Lösung. Ich benutze den HAPI FHIR Server und lege mit Hilfe eines Java Clients Resourcen an. Wenn ich so eine Resource z.B. mit <a href="http://localhost:8080/baseDstu3/Observation?subject:Patient._id=1" target="_blank" title="http://localhost:8080/baseDstu3/Observation?subject:Patient._id=1">http://localhost:8080/baseDstu3/Observation?subject:Patient._id=1</a> durchsuche (Über Observation an einen Patienten mit ID) bekomme ich 0 Ergebnisse. Die selbe Anfrage auf einen Testserver im Netz spuckt hingegen Ergebnisse aus. Die Resourcen sehen m.E. richtig aus (davon abgesehen, dass das alles noch in der Testphase ist)... Anbei die betreffende Resourcen (Observation, Patient), wenn ich sie direkt per GET anfrage. <br>
<a href="/user_uploads/10155/zast-2Zts-TF1I-jG6SUjiYi/Resource.txt" target="_blank" title="Resource.txt">Resource.txt</a></p>
<p>Meine Frage nun: Liegt das an der HAPI FHIR-Lösung? Gibt es bessere als diese und wo finde ich Anleitungen zum Aufsetzen besserer Server?</p>



<a name="153989773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Problem%20mit%20HAPI%20FHIR/near/153989773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html#153989773">(Aug 21 2018 at 10:42)</a>:</h4>
<p>Beim offiziellen HAPI-FHIR Testserver funktioniert es: <a href="http://fhirtest.uhn.ca/baseDstu3/Observation?subject:Patient._id=1" target="_blank" title="http://fhirtest.uhn.ca/baseDstu3/Observation?subject:Patient._id=1">http://fhirtest.uhn.ca/baseDstu3/Observation?subject:Patient._id=1</a><br>
Insofern würde ich auf ein lokales Problem oder einen mittlerweile behobenen Bug tippen. Evtl. hat <span class="user-mention" data-user-id="191451">@Patrick Werner</span> da Erfahrungen? Ansonsten einfach im HAPI-Stream nochmal fragen: <a href="#narrow/stream/8-hapi" title="#narrow/stream/8-hapi">https://chat.fhir.org/#narrow/stream/8-hapi</a></p>
<p>"Besser" ist immer so eine Sache ;-)<br>
HAPI ist schon eine der vollständigsten Implementierungen derzeit, insbesondere als Open Source.<br>
Die Delphi-Implementierung (der de-facto-Referenzserver) ist sehr vollständig, aber nicht unbedingt für den Produktiveinsatz gedacht.<br>
Andere Open Source Implementierungen vollständiger FHIR-Server sind m.W. bisher vergleichsweise rudimentär.<br>
Es gibt noch die Dotnet-Referenzimplementierung, mit Vonk als darauf aufsetzendem kommerziellen Produkt.<br>
Und natürlich diverse kommerzielle Produkte, überwiegend von diversen US-Herstellern.<br>
Kurz: im Wesentlichen ist HAPI das Mittel der Wahl, wenn man auf eine Kern-Implementierung aufsetzen und selbst weiter implementieren möchte.</p>



<a name="153989821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Problem%20mit%20HAPI%20FHIR/near/153989821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html#153989821">(Aug 21 2018 at 16:01)</a>:</h4>
<p><span class="user-mention" data-user-id="195430">@Kilian Krockauer</span> wie hast du deinen lokalen HAPI deployed? HAPI CLI, Spring Boot, oder JPA Example Server auf Tomcat. Benutzt du eine stable Version oder den aktuellen Code Stand?</p>



<a name="153989822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Problem%20mit%20HAPI%20FHIR/near/153989822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html#153989822">(Aug 21 2018 at 16:05)</a>:</h4>
<p>Wie Stefan schon getestet hatte funktioniert es mit anderen Servern, ich vermute ein lokales Problem oder alte Version?</p>



<a name="153989869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Problem%20mit%20HAPI%20FHIR/near/153989869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kilian Krockauer <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html#153989869">(Aug 21 2018 at 20:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191436">@Stefan Lang</span>  Danke für deine Antwort. Im Grunde möchte ich "nur" einen Server haben, auf dem ich FHIR Resourcen 1. ablegen und 2. mit kombinierten GETs alá ?Resource1:Resource2.Attribut, etc. abrufen kann. Da ich das im Rahmen einer Masterthesis mache, das Erstellen der Resourcen allerdings nicht das Hauptthema ist, würde ich gerne von einer Selbtimplementierung einer Server-Logik erstmal absehen.</p>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> Ich benutze die HAPI CLI in Version 3.4.0  unter Java 8 mit den Parametern "-v dtsu3 --allow-external-refs"<br>
Was kann ich unter einem lokalen Problem verstehen? Also, was sind die häufigsten Fehler, die man so machen kann?</p>



<a name="153989881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Problem%20mit%20HAPI%20FHIR/near/153989881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html#153989881">(Aug 21 2018 at 20:59)</a>:</h4>
<p><span class="user-mention" data-user-id="195430">@Kilian Krockauer</span> In dem Fall kommt man an HAPI quasi nicht vorbei ;)</p>



<a name="153989889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Problem%20mit%20HAPI%20FHIR/near/153989889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html#153989889">(Aug 21 2018 at 21:36)</a>:</h4>
<p>Zu Testzwecken und dem Ablegen bzw. Abrufen von Ressourcen würde ich auch eine einfache Testversion von Vonk anbieten (<a href="https://simplifier.net/vonk" target="_blank" title="https://simplifier.net/vonk">https://simplifier.net/vonk</a>). Läuft auf Windows nativ und auf allen anderen Plattformen per Docker.<br>
Falls doch noch was dazu implementiert werden müsste, können Plug-Ins (in .NET geschrieben) für den Server hinzugefügt werden. <br>
Die einzige Einschränkung besteht darin, dass der Server 1x alle 24h neugestartet werden muss.</p>



<a name="153990187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Problem%20mit%20HAPI%20FHIR/near/153990187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html#153990187">(Aug 22 2018 at 14:37)</a>:</h4>
<p><span class="user-mention" data-user-id="195430">@Kilian Krockauer</span> <br>
Ich habe das ganze gerade bei mir getestet:<br>
Java: java version "1.8.0_181"<br>
HAPI CLI: 3.4.0</p>
<p>Mit deinen Ressourcen getestet (nur den ref auf den Encounter entfernt da ich dieser in deinem TXT fehlte und auch nicht relevant ist)</p>



<a name="153990188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Problem%20mit%20HAPI%20FHIR/near/153990188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html#153990188">(Aug 22 2018 at 14:37)</a>:</h4>
<p><a href="http://localhost:8080/baseDstu3/Observation?subject:Patient._id=1" target="_blank" title="http://localhost:8080/baseDstu3/Observation?subject:Patient._id=1">http://localhost:8080/baseDstu3/Observation?subject:Patient._id=1</a><br>
liefert mir das korrekte Ergebnis zurück.</p>



<a name="153990189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Problem%20mit%20HAPI%20FHIR/near/153990189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html#153990189">(Aug 22 2018 at 14:38)</a>:</h4>
<p>Mit lokalen Problemen meinte ich eigentlich nur eine Fehlkonfiguration (was ja mit der CLI recht schwer geht ;-) )</p>



<a name="153990190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Problem%20mit%20HAPI%20FHIR/near/153990190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html#153990190">(Aug 22 2018 at 14:38)</a>:</h4>
<p>Aber ein Problem wäre bspw. HAPI 3.4.0 mit Java10 zu starten, das geht erst in der 3.5-SNAPSHOT</p>



<a name="153990197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Problem%20mit%20HAPI%20FHIR/near/153990197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html#153990197">(Aug 22 2018 at 15:11)</a>:</h4>
<p><span class="user-mention" data-user-id="195430">@Kilian Krockauer</span> :<br>
Wie sind die Resoucen denn in deinen HAPI reingekommen? Über die API gepostet oder über ein preload/Import? Kann es sein, dass die zwar in der DB gespeichert sind, aber sich irgendwie an der Indexierung vorbeigemogelt haben?</p>



<a name="153990198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Problem%20mit%20HAPI%20FHIR/near/153990198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html#153990198">(Aug 22 2018 at 15:13)</a>:</h4>
<p>...falls dem so wäre sollte sich das Problem lösen lassen, indem du die Observation einmal über ein PUT updatest.</p>



<a name="153990345"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Problem%20mit%20HAPI%20FHIR/near/153990345" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kilian Krockauer <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html#153990345">(Aug 23 2018 at 07:11)</a>:</h4>
<p><span class="user-mention" data-user-id="191450">@Simone Heckmann</span> Danke für den Hinweis, werde ich mal austesten, wenn ich wieder vor dem Server sitze. Erstellt habe ich die Resourcen mit einem Java HAPI Client per client.create()...execute() <br>
<span class="user-mention" data-user-id="191451">@Patrick Werner</span> Jetzt bin ich wirklich gespannt, wo mein Fehler liegt.</p>



<a name="153991197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Problem%20mit%20HAPI%20FHIR/near/153991197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kilian Krockauer <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html#153991197">(Aug 28 2018 at 07:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191450">@Simone Heckmann</span> Dein Tipp hat es wohl gelöst! Wenn ich eine Ressource per Postman per Hand nochmal mit den selben Daten anlege/update, läuft die Suche. Jetzt muss ich nur noch herausfinden, wieso HAPI das nicht macht...</p>



<a name="153991204"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179183-german%20%28d-a-ch%29/topic/Problem%20mit%20HAPI%20FHIR/near/153991204" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kilian Krockauer <a href="https://fhir.github.io/chat-archive/stream/179183-german-(d-a-ch)/topic/Problem.20mit.20HAPI.20FHIR.html#153991204">(Aug 28 2018 at 08:53)</a>:</h4>
<p>Habe das Problem nun erstmal dadurch gelöst, dass ich am Ende meiner Erstellung der Ressourcen noch einmal über alle Ressourcen gehe und ein simples client().update() auf ihnen ausführe. Ich schätze, dass da irgendwas bei der Reihenfolge des Erstellens der Ressourcen nicht richtig läuft. Da müsste ich mal genauer nachforschen, aber der Workaround läuft erstmal. Vielen Dank an alle!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
