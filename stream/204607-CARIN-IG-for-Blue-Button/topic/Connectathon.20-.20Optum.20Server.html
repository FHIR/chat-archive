---
layout: page
title: "FHIR Chat  · Connectathon - Optum Server · CARIN IG for Blue Button®"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/index.html">CARIN IG for Blue Button®</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html">Connectathon - Optum Server</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="209674335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Connectathon%20-%20Optum%20Server/near/209674335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amy Ballard <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html#209674335">(Sep 10 2020 at 16:40)</a>:</h4>
<p><span class="user-mention" data-user-id="335936">@Daniel Venton</span>  The Optum CapabilityStatement, <a href="https://flexdev-eastus.optum.com/R4/metadata">https://flexdev-eastus.optum.com/R4/metadata</a>, doesn't include the OAuth endpoint URLs. Alternatively, there is also no .well-known/smart-configuration link.</p>



<a name="209702445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Connectathon%20-%20Optum%20Server/near/209702445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html#209702445">(Sep 10 2020 at 20:07)</a>:</h4>
<p>Apparently Optum server requires PKCE to connect, but if I am not mistaken that's now what the SMART standard (that CARIN BB compliant server should support) require</p>



<a name="209705900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Connectathon%20-%20Optum%20Server/near/209705900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Benjamin Langley <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html#209705900">(Sep 10 2020 at 20:39)</a>:</h4>
<p>PKCE is only for apps which can't maintain a client_secret. The smart flow is pretty vague about what to do for public apps in the token step: <a href="http://hl7.org/fhir/smart-app-launch/index.html#step-3-app-exchanges-authorization-code-for-access-token">http://hl7.org/fhir/smart-app-launch/index.html#step-3-app-exchanges-authorization-code-for-access-token</a></p>



<a name="209706293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Connectathon%20-%20Optum%20Server/near/209706293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html#209706293">(Sep 10 2020 at 20:42)</a>:</h4>
<p>...our is not a public app, we have a server where we keep the secrets</p>



<a name="209706356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Connectathon%20-%20Optum%20Server/near/209706356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html#209706356">(Sep 10 2020 at 20:43)</a>:</h4>
<blockquote>
<p>smart flow is pretty vague about what to do for public apps in the token step</p>
</blockquote>
<p>I don't think the spec is vague: we say "For public apps, authentication is not possible (and thus not required)".</p>



<a name="209706389"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Connectathon%20-%20Optum%20Server/near/209706389" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html#209706389">(Sep 10 2020 at 20:43)</a>:</h4>
<p>Public clients can't and don't authenticate when trading and authorization code for a token.</p>



<a name="209706559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Connectathon%20-%20Optum%20Server/near/209706559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html#209706559">(Sep 10 2020 at 20:44)</a>:</h4>
<p>So is requiring PKCE for all client non-compliant?</p>



<a name="209706830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Connectathon%20-%20Optum%20Server/near/209706830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html#209706830">(Sep 10 2020 at 20:46)</a>:</h4>
<p>Requiring PKCE wouldn't be compliant, because clients following the SMART App Launch IG wouldn't be able to get a token; I'd recommend using <a href="https://inferno.healthit.gov/">https://inferno.healthit.gov/</a> supports testing the SMART App Launch spec.</p>



<a name="209706953"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Connectathon%20-%20Optum%20Server/near/209706953" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html#209706953">(Sep 10 2020 at 20:48)</a>:</h4>
<p>You could add PKCE as an option for clients to opt into.</p>



<a name="209707302"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Connectathon%20-%20Optum%20Server/near/209707302" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html#209707302">(Sep 10 2020 at 20:50)</a>:</h4>
<p>(In general, you can also get relevant protections on mobile platforms with app-claimed URLs.)</p>



<a name="209713311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Connectathon%20-%20Optum%20Server/near/209713311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html#209713311">(Sep 10 2020 at 21:41)</a>:</h4>
<p><span class="user-mention" data-user-id="238353">@Mark Roberts</span> <span class="user-mention" data-user-id="192132">@Amol Vyas</span>   Optum is not an EHR (we represent Payers) and we are implementing the CARIN BB IG for CMS interoperability and patient access API. What exact conformance statement in the IG prevents us from requiring PKCE to authenticate? PKCE can be implemented in the client app, if they choose to do so. Our institutional policy dictates usage of PKCE for access to PHI. We feel that PKCE is a suitable implementation of the secret requirement. From the SMART App Launch Framework IG section 1, "This profile does not dictate the institutional policies that are implemented in the authorization server."</p>



<a name="209736817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Connectathon%20-%20Optum%20Server/near/209736817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html#209736817">(Sep 11 2020 at 03:02)</a>:</h4>
<p>To be clear, if you want to be compatible with the SMART App Launch IG, you'll want to make sure your server works according to the specification and passes the test suite. Requiring additional parameters means breaking clients that conform to the IG.</p>



<a name="209736833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Connectathon%20-%20Optum%20Server/near/209736833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html#209736833">(Sep 11 2020 at 03:03)</a>:</h4>
<p>You can allow clients to opt into PKCE, but that's different from breaking clients that don't use PKCE.</p>



<a name="209736945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Connectathon%20-%20Optum%20Server/near/209736945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html#209736945">(Sep 11 2020 at 03:06)</a>:</h4>
<p>The SMART App Launch IG is a requirement from CMS (they refer to specific standards adopted by ONC, including SMART).</p>
<p>The requirement to support SMART should also be spelled out in the CARIN Blue Button IG, to avoid any confusion.</p>



<a name="209772945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Connectathon%20-%20Optum%20Server/near/209772945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html#209772945">(Sep 11 2020 at 12:21)</a>:</h4>
<p>It is: 'Client applications and systems of record SHALL support the standalone launch sequence of the SMART App Launch framework' (from <a href="http://build.fhir.org/ig/HL7/carin-bb/Authorization_Authentication_and_Registration.html#smart-on-fhir-application-launch">http://build.fhir.org/ig/HL7/carin-bb/Authorization_Authentication_and_Registration.html#smart-on-fhir-application-launch</a>)</p>



<a name="209783769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Connectathon%20-%20Optum%20Server/near/209783769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Connectathon.20-.20Optum.20Server.html#209783769">(Sep 11 2020 at 13:57)</a>:</h4>
<p>we want to modify this slightly to also call out a SHALL requirement for launch/Patient scope and a MAY requirement for User scope.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
