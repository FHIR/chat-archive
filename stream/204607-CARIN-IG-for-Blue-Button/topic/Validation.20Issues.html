---
layout: page
title: "FHIR Chat  · Validation Issues · CARIN IG for Blue Button®"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/index.html">CARIN IG for Blue Button®</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html">Validation Issues</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="210447492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210447492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Teeple <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210447492">(Sep 17 2020 at 20:37)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="215604">@Saul Kravitz</span> we are trying to validate against the latest CARIN IG and we are finding  we cannot validate when Data Absence Reason Extension is used.  For example, if we do not have <a href="http://patient.name">patient.name</a>, we would followed: <br>
{<br>
  "resourceType" : "Patient",<br>
       ...<br>
       "name": [<br>
         {<br>
           "extension": [<br>
             {<br>
               "url": "<a href="http://hl7.org/fhir/StructureDefinition/data-absent-reason">http://hl7.org/fhir/StructureDefinition/data-absent-reason</a>",<br>
               "valueCode": "unknown"<br>
             }<br>
           ]<br>
         }<br>
       ]<br>
        "telecom" :<br>
        ...<br>
     }</p>
<p>However, when validating against the latest CARIN IG, we get an error stating that <a href="http://patient.name">patient.name</a> is required.  When we validate against USCore, we pass without error.  <br>
Any suggestions on what may be causing the issue?  Is it an IG problem, validator,  other?  Appreciate some guidance.</p>



<a name="210448253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210448253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210448253">(Sep 17 2020 at 20:43)</a>:</h4>
<p>Does the validator state anything useful?</p>



<a name="210452191"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210452191" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Teeple <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210452191">(Sep 17 2020 at 21:13)</a>:</h4>
<ul>
<li>.. load IG from hl7.fhir.us.carin-bb#0.3.1<br>
  .. validate [C:\fhir\requests\fhir_resource_20200917T161102.json]<br>
<em>FAILURE</em> validating C:\fhir\requests\fhir_resource_20200917T161102.json:  error:1 warn:1 info:6<br>
  Error @ Patient.name[0] (line 25, col18) : us-core-8: Patient.name.given or Patient.name.family or both SHALL be present [family.exists() or given.exists()]<br>
  Information @ Patient.extension[0] (line 37, col18) : This element does not match any known slice defined in the profile <a href="http://hl7.org/fhir/us/carin-bb/StructureDefinition/CARIN-BB-Patient">http://hl7.org/fhir/us/carin-bb/StructureDefinition/CARIN-BB-Patient</a><br>
  Information @ Patient.extension[1] (line 48, col18) : This element does not match any known slice defined in the profile <a href="http://hl7.org/fhir/us/carin-bb/StructureDefinition/CARIN-BB-Patient">http://hl7.org/fhir/us/carin-bb/StructureDefinition/CARIN-BB-Patient</a><br>
  Information @ Patient.extension[2] (line 59, col18) : This element does not match any known slice defined in the profile <a href="http://hl7.org/fhir/us/carin-bb/StructureDefinition/CARIN-BB-Patient">http://hl7.org/fhir/us/carin-bb/StructureDefinition/CARIN-BB-Patient</a><br>
  Information @ Patient.extension[0] (line 37, col18) : Unknown extension <a href="http://hl7.org/fhir/us/core/ValueSet/omb-ethnicity-category">http://hl7.org/fhir/us/core/ValueSet/omb-ethnicity-category</a><br>
  Information @ Patient.extension[1] (line 48, col18) : Unknown extension <a href="http://hl7.org/fhir/us/core/ValueSet/omb-race-category">http://hl7.org/fhir/us/core/ValueSet/omb-race-category</a><br>
  Information @ Patient.extension[2] (line 59, col18) : Unknown extension <a href="http://hl7.org/fhir/us/core/ValueSet/birthsex">http://hl7.org/fhir/us/core/ValueSet/birthsex</a><br>
  Warning @ Patient.identifier[0].type (line 13, col36) : None of the codes provided are in the value set <a href="http://hl7.org/fhir/ValueSet/identifier-type">http://hl7.org/fhir/ValueSet/identifier-type</a> (<a href="http://hl7.org/fhir/ValueSet/identifier-type">http://hl7.org/fhir/ValueSet/identifier-type</a>), and a code should come from this value set unless it has no suitable code) (codes = <a href="http://hl7.org/fhir/us/carin-bb/CodeSystem/IdentifierTypeCS#mb">http://hl7.org/fhir/us/carin-bb/CodeSystem/IdentifierTypeCS#mb</a>)</li>
</ul>



<a name="210458641"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210458641" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Teeple <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210458641">(Sep 17 2020 at 22:20)</a>:</h4>
<p>I am having my team go back and confirm which IG they are validating against.  Looks like you, <span class="user-mention" data-user-id="215604">@Saul Kravitz</span> ,  addressed a similar issue here:  <a href="#narrow/stream/204607-CARIN-IG.20for.20Blue.20Button.C2.AE/topic/Validating.20with.20the.20CI.20IG">https://chat.fhir.org/#narrow/stream/204607-CARIN-IG.20for.20Blue.20Button.C2.AE/topic/Validating.20with.20the.20CI.20IG</a></p>



<a name="210573825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210573825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Teeple <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210573825">(Sep 18 2020 at 20:50)</a>:</h4>
<p><span class="user-mention" data-user-id="215604">@Saul Kravitz</span> I looked at the StructureDefintion and cannot find data-absent, data absent, or data absence in any profile.  Is there something I am missing?<br>
I would have thought that I'd find at least something similar to:<br>
human" : "If there is no component or hasMember element then either a value[x] or a data absent reason must be present.",<br>
            "expression" : "(component.empty() and hasMember.empty()) implies (dataAbsentReason.exists() or value.exists())",<br>
            "xpath" : "f:component or f:memberOF or f:*[starts-with(local-name(.), 'value')] or f:dataAbsentReason",<br>
Am I over thinking here?  Appreciate any feedback.</p>



<a name="210575480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210575480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210575480">(Sep 18 2020 at 21:07)</a>:</h4>
<p><span class="user-mention" data-user-id="197108">@Jason Teeple</span>  I don’t think you will find it in an IG. I think it is a general mechanism for flagging a reason for missing data.  Search on data absent reason extension.  I’m trying to find a coherent description. When I do I’ll post it here.</p>



<a name="210588877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210588877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Teeple <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210588877">(Sep 19 2020 at 00:37)</a>:</h4>
<p><span class="user-mention" data-user-id="215604">@Saul Kravitz</span> If you look at the structure definition, you should find the mechanism.  For example, take a look either of these USCore Profiles: <a href="http://hl7.org/fhir/us/core/StructureDefinition-us-core-patient.json.html">http://hl7.org/fhir/us/core/StructureDefinition-us-core-patient.json.html</a> <a href="http://hl7.org/fhir/us/core/StructureDefinition-pediatric-bmi-for-age.json.html">http://hl7.org/fhir/us/core/StructureDefinition-pediatric-bmi-for-age.json.html</a> <br>
Search data-absent and you will see what I am referencing.<br>
I am not finding similar concepts within the CARIN Patient Structure Definition or any other resource Structure Definition.</p>



<a name="210589911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210589911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210589911">(Sep 19 2020 at 01:03)</a>:</h4>
<p>US Core decided to allow omitting required fields using dataAbsentReason - see <a href="https://www.hl7.org/fhir/us/core/general-guidance.html#must-support">https://www.hl7.org/fhir/us/core/general-guidance.html#must-support</a></p>



<a name="210589975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210589975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210589975">(Sep 19 2020 at 01:04)</a>:</h4>
<p>That does not mean that the CARIN IG has to do the same - and doing that would not be fixing a validation problem but a material change in the implementation guide</p>



<a name="210590573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210590573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210590573">(Sep 19 2020 at 01:20)</a>:</h4>
<p>Da Vinci expects to explicitly expose DAR in their IGs where they feel it must be supported - and don't allow its use for mandatory elements where we haven't explicitly enabled it - because there are some mandatory elements where it genuinely makes no sense to send the instance unless the value is present.  As well, we don't mark elements as mandatory unless we genuinely expect them to <em>always</em> be present, not just "really ought to be present".</p>



<a name="210590584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210590584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210590584">(Sep 19 2020 at 01:20)</a>:</h4>
<p>However, for anything we inherit from US Core, the US Core rules apply - we can't override those.</p>



<a name="210610384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210610384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Teeple <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210610384">(Sep 19 2020 at 11:26)</a>:</h4>
<p>The CARIN IG states: If the source system does not have data for a Must Support data element with minimum cardinality = 0, the data element is omitted from the resource. If the source system does not have data for a required data element (in other words, where the minimum cardinality is &gt; 0), follow guidance defined in the core FHIR specification and summarized in the US Core.<br>
<a href="http://build.fhir.org/ig/HL7/carin-bb/Guidance.html#missing-data">http://build.fhir.org/ig/HL7/carin-bb/Guidance.html#missing-data</a></p>



<a name="210610854"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210610854" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Teeple <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210610854">(Sep 19 2020 at 11:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/204607-CARIN-IG.20for.20Blue.20Button.C2.AE/topic/Validation.20Issues/near/210590584">said</a>:</p>
<blockquote>
<p>However, for anything we inherit from US Core, the US Core rules apply - we can't override those.</p>
</blockquote>
<p>I could be misunderstanding, but it looks like <a href="http://Patient.name">Patient.name</a> did not inherit the USCore rules.  <br>
<a href="https://build.fhir.org/ig/HL7/US-Core-R4/StructureDefinition-us-core-patient.json.html">https://build.fhir.org/ig/HL7/US-Core-R4/StructureDefinition-us-core-patient.json.html</a><br>
<a href="http://build.fhir.org/ig/HL7/carin-bb/StructureDefinition-C4BB-Patient.profile.json.html">http://build.fhir.org/ig/HL7/carin-bb/StructureDefinition-C4BB-Patient.profile.json.html</a></p>



<a name="210611181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210611181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Teeple <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210611181">(Sep 19 2020 at 11:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191912">Michele Mottini</span> <a href="#narrow/stream/204607-CARIN-IG.20for.20Blue.20Button.C2.AE/topic/Validation.20Issues/near/210589975">said</a>:</p>
<blockquote>
<p>That does not mean that the CARIN IG has to do the same - and doing that would not be fixing a validation problem but a material change in the implementation guide</p>
</blockquote>
<p>Since the CARIN IG states rules for missing data, wouldn't the structure definitions need to be updated? Validating against the structure definition and using the DAR rules consistent with the CARIN IG definition would expose validation issues, would it not?</p>



<a name="210617251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210617251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210617251">(Sep 19 2020 at 14:14)</a>:</h4>
<p>mustSupport can't be validated by looking at an instance, only by looking at system behavior (was the element stored, was it displayed, is it possible to capture it, etc.)  I see <a href="http://patient.name">patient.name</a> marked as mustSupport in the BB profile.  The descriptive rules around mustSupport are in the text of the US-Core IG - and are inherited by reference.  They don't appear in the actual profiles.</p>



<a name="210628616"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210628616" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Teeple <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210628616">(Sep 19 2020 at 18:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/204607-CARIN-IG.20for.20Blue.20Button.C2.AE/topic/Validation.20Issues/near/210617251">said</a>:</p>
<blockquote>
<p>mustSupport can't be validated by looking at an instance, only by looking at system behavior (was the element stored, was it displayed, is it possible to capture it, etc.)  I see <a href="http://patient.name">patient.name</a> marked as mustSupport in the BB profile.  The descriptive rules around mustSupport are in the text of the US-Core IG - and are inherited by reference.  They don't appear in the actual profiles.</p>
</blockquote>
<p>I am not connecting what you are saying.  Why would rules inherited from profile A, not  appear in profile B; specifically within the structure definition?  </p>
<p>We have data mapped, there are instances when there is a MustSupport/Required (Support flag + 1...1/1...*) and the data is available.  However, there are also instances when the data may not be available (happens more than folks like to admit).  When the data is not available, we follow the rules outlined in USCore for Missing Data.  </p>
<p>Using the ONC FHIR Validator (<a href="https://inferno.healthit.gov/validator/">https://inferno.healthit.gov/validator/</a>), advanced options, I load a standalone profile (<a href="http://build.fhir.org/ig/HL7/carin-bb/StructureDefinition-C4BB-Patient.profile.json.html">http://build.fhir.org/ig/HL7/carin-bb/StructureDefinition-C4BB-Patient.profile.json.html</a>) and input my resource to validate. If, for example, my Patient profile has a DAR for <a href="http://Patient.name">Patient.name</a>,  validating against CARIN 4 BB, I will get an error.  However, if I take my same resource and validate against <a href="https://build.fhir.org/ig/HL7/US-Core-R4/StructureDefinition-us-core-patient.json.html">https://build.fhir.org/ig/HL7/US-Core-R4/StructureDefinition-us-core-patient.json.html</a>, I will not get an error.  </p>
<p>If CARIN 4BB inherits rules from USCore, then the rules are not applied during validation.</p>



<a name="210645896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210645896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210645896">(Sep 20 2020 at 02:43)</a>:</h4>
<p>The mustSupport declartions from the base profile <em>are</em> inherited.  The descriptive language explaining how mustSupport works in US Core aren't declared in profiles, they're declared in IG text - and there's no inheritance mechanism for that.  However, it applies none-the-less.</p>



<a name="210645938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210645938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210645938">(Sep 20 2020 at 02:44)</a>:</h4>
<p>The validator totally ignores mustSupport.  It has nothing to do with DAR and has nothing to do with instance validation.  mustSupport is all about system capability, not instances.</p>



<a name="210661650"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210661650" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Teeple <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210661650">(Sep 20 2020 at 11:11)</a>:</h4>
<p>We are focusing on the wrong part of my concern.   <br>
I am more focused on DAR than mustSupport. I understand that mustSupport is system capability, and not instance. <br>
Let me rephrase my questions: <br>
(1) How should DAR be represented in the IG , profile, and structure definition?<br>
(2) How should the appropriate use of DAR be validated?<br>
(3) Can DAR be validate using a validator?<br>
<a href="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a> <br>
<a href="http://inferno.healthit.gov/validator/">http://inferno.healthit.gov/validator/</a></p>
<p>CARIN BB states when DAR should be applied, required 1...1 / 1...* and follow USCore Guidance. <br>
Using the ONC FHIR Validator (<a href="https://inferno.healthit.gov/validator/">https://inferno.healthit.gov/validator/</a>), advanced options, I load a standalone profile (<a href="http://build.fhir.org/ig/HL7/carin-bb/StructureDefinition-C4BB-Patient.profile.json.html">http://build.fhir.org/ig/HL7/carin-bb/StructureDefinition-C4BB-Patient.profile.json.html</a>) and input my resource to validate. If, for example, my Patient resource has a DAR for <a href="http://Patient.name">Patient.name</a>, validating against CARIN 4 BB, I will get an error. However, if I take the same Patient resource and validate against <a href="https://build.fhir.org/ig/HL7/US-Core-R4/StructureDefinition-us-core-patient.json.html">https://build.fhir.org/ig/HL7/US-Core-R4/StructureDefinition-us-core-patient.json.html</a>, I will not get an error.</p>



<a name="210667066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210667066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210667066">(Sep 20 2020 at 13:25)</a>:</h4>
<ol>
<li>By default, DAR is allowed everywhere unless there are explicit constraints against it.  </li>
<li>Making individual constraints against it is a huge amount of work, so if there are going to be constraints, they'll typically be expressed in text and not enforced in the profile.  (You could create a global prohibition with an invariant, but if you're going to allow its use anywhere, then the prohibition needs to enumerate all the allowed places, which quickly becomes untenable. )  So, in general, the best that can be done is declaring DAR in those places you expect it to be used and creating invariants that require it when a value is absent (and disallow it when a value is present)</li>
<li>What's described in #2 can be done.  However, prohibiting DAR in those places where you don't want it will be quite challenging.</li>
</ol>



<a name="210668554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210668554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Teeple <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210668554">(Sep 20 2020 at 14:08)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>, this helps immensely.  Including <span class="user-mention" data-user-id="215604">@Saul Kravitz</span> b/c he was asking a similar question in another stream.</p>



<a name="210689346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210689346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210689346">(Sep 20 2020 at 22:53)</a>:</h4>
<p>Thx <span class="user-mention" data-user-id="197108">@Jason Teeple</span>  and <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> .</p>
<p>Would be very helpful if everything in <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  description above was documented somewhere...  is it?  One intelligent reader (<span class="user-mention" data-user-id="195707">@Jason Teeple</span> ) and another reader (me) couldn’t figure it out by searching the FHIR documentation.</p>



<a name="210689391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/210689391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#210689391">(Sep 20 2020 at 22:54)</a>:</h4>
<p>DAR isn't documented specially, because it's not special.  It's an extension like any other.</p>



<a name="212764555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/212764555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Teeple <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#212764555">(Oct 09 2020 at 00:08)</a>:</h4>
<p>I suspect DAR has the potential to be an abused extension if the intended usage is not well documented.</p>



<a name="212782335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/Validation%20Issues/near/212782335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/Validation.20Issues.html#212782335">(Oct 09 2020 at 04:27)</a>:</h4>
<p>There are lots of extensions that could be sent in place of a value - for a variety of reasons.  Any of those could be abused - and some extensions could be created with the sole objective of bypassing a required element and not doing anything else at all.  Placing additional documentation around DAR isn't going to prevent that issue.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
