---
layout: page
title: "FHIR Chat  · 11/18-19 CARIN Connectathon - UPMC Server · CARIN IG for Blue Button®"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/index.html">CARIN IG for Blue Button®</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html">11/18-19 CARIN Connectathon - UPMC Server</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="217141501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217141501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217141501">(Nov 18 2020 at 14:33)</a>:</h4>
<p><span class="user-mention" data-user-id="246928">@josh lamb</span> could you register our client on your server? Name CareEvolution, redirect URLs <br>
<a href="https://myfhr.careevolution.com/cfhrprovideraccounts/redirecttarget">https://myfhr.careevolution.com/cfhrprovideraccounts/redirecttarget</a><br>
<a href="http://localhost/WebClientTest.Adapter1.WebClient/cfhrprovideraccounts/redirecttarget">http://localhost/WebClientTest.Adapter1.WebClient/cfhrprovideraccounts/redirecttarget</a> ?</p>



<a name="217142250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217142250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217142250">(Nov 18 2020 at 14:38)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191912">@Michele Mottini</span> will you be sending a client_secret or will you be sending a code challenge (PKCE)?</p>



<a name="217142594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217142594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217142594">(Nov 18 2020 at 14:41)</a>:</h4>
<p>Client secret</p>



<a name="217143081"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217143081" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217143081">(Nov 18 2020 at 14:44)</a>:</h4>
<p>Got it, will PM you shortly when application is registered.</p>



<a name="217146450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217146450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217146450">(Nov 18 2020 at 15:07)</a>:</h4>
<p>Registered and can login, but then I got a 500 trying to retrieve the token</p>



<a name="217146554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217146554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217146554">(Nov 18 2020 at 15:08)</a>:</h4>
<p>The response body is </p>
<div class="codehilite"><pre><span></span><code>{
    &quot;message&quot;: &quot;Unknown error. Please contact your system administrator&quot;,
    &quot;errors&quot;: []
}
</code></pre></div>



<a name="217146613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217146613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217146613">(Nov 18 2020 at 15:08)</a>:</h4>
<p>can you send me your post command to the token endpoint, with the body?</p>



<a name="217146639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217146639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217146639">(Nov 18 2020 at 15:09)</a>:</h4>
<p>Response headers: <br>
Request-Context :  appId=cid-v1:5d6547b3-3149-424f-9022-ae624cd65780<br>
tracestate :  cid-v1:5d6547b3-3149-424f-9022-ae624cd65780</p>



<a name="217146699"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217146699" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217146699">(Nov 18 2020 at 15:09)</a>:</h4>
<p>Here is the body:</p>
<div class="codehilite"><pre><span></span><code>grant_type=authorization_code&amp;redirect_uri=https%3A%2F%2Fmyfhr.careevolution.com%2Fcfhrprovideraccounts%2Fredirecttarget&amp;code=eyJraWQiOiJUcE4taldPZ216VWMxTjB5OHY2b3Rqa25lNlRGdlJ1Sm9nazB1akJwUmtFIiwidmVyIjoiMS4wIiwiemlwIjoiRGVmbGF0ZSIsInNlciI6IjEuMCJ9.Axfo5Hr08-rfSScujBJdXBKUn021enX02y353Oogae6tQXFX9NBSQEUZQQSVFdBitazEjNNs6KQnLy7Odvv2zO5eztaCjkcDGd1D_9hMz61e5dhI5E_moww6gTmrBu34gf5J33SGqAo-Sf34eb-NX9fz2XQ9v174Yb-tqK5Jybr8InWAOXObFiRDg-G0lxfouICMN5IGh6TA3yhRjnklGJ3eoQ2YsQmjjLcLmGwli-ps8Or0QAjY5DGClVjM5druxsFphD7gM8qjlXUaMKn3MjHpONjqpqhsPHcWOCokJ9qD8QVOgms9WemE7IWW-UAL-JZzcCX_fFNb_tsiBg4c5A.k5AveE3B6XV4Qx0a.mTaM2gVO4v9M4nr7GQkvMIz6DtbXyBYaL56ZGYq4nhtqrzbXHpooS4kd7ytjjuKTd5mCeocj43eIfntIPyPoDgyfxIKJC419a2FrPni0HDgFZme3Qd3yKyI7Ibx74yvIyVfpD7b7UlfQAkYY_rKDcZPHKQ5YfnBYFTZUdNvcxCpQXSJJeFZUDyZflwW8BWttjQ34cuhT8OGOTqhKeBX-j9lkfjnAJnIswfMGlbPLenX6qC9vK8uxJZEqW2ozuVfnxPRoEBsdlPkUuH3hB21normgYZye7QXsiLhcCliaZQL4CDLBm3PJ8mH217lD6PJcQn-xQLtZhW70F5pXgYorpF_B0SW0v8Dl6tIXvY-lK8JiSjVoHHvtU-CmRvaS-0aWl1vifSFA17tnQaNsyqIYrcz8uVvQJDwtCt6SKWhS9wUF8yo8dsymGukeILfLMLUnkpPg8LfvhNSGK2MGLIzo8MllC5Z3gpWyQkpWXAvmJ27QD1zALmCX7OWW_bWFuxgsEYGn6hjyFYEocEVPVPoMUbFIW8_BHUTG4EN1DP0IskQya0BTpMw5z-ovB-c4KxdJkjj-8TvcWpyvxpfhzYTgFcMuvCB7urUMY7hSvxa0HbzxD8UDIszDfLcoEudteHMpDdFbL5QSoxoPdqgOg79VP41zn-GVLgOwZ8_ENkCX1JXJYSs3MgTrfUNSLiFGWE9Un-4LNydqrGRYF8-vtcte4L22YbDmCY7327_ZiCK32n9nbenGM2maRQeb2vvIJdE6rnE7V1oWMyrl85TTshrbjdTRE4an7MScs0kCvEoLMUcJD1S3BtStMZwwLnnpCY92LSoNRCOSnIEq8ITLUUZkXgZybPgP5fP8GzQtV6SuKtT-EHaAH9stSi1wwHlJJ7UT8UQgVLboo8HuQLLSIow.En0EKtWYLr-rHbg2bG9b5Q
</code></pre></div>



<a name="217147166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217147166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217147166">(Nov 18 2020 at 15:12)</a>:</h4>
<p>I am expecting a basic auth header of a base64 encoded string that will have this format "{client_Id}:{client_secret}" if you are including the client secret as part of the auth header. I do not see the secret in the body you posted.</p>



<a name="217147318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217147318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217147318">(Nov 18 2020 at 15:13)</a>:</h4>
<p>Here are the request headers:</p>
<div class="codehilite"><pre><span></span><code>Accept :  application/json
Authorization :  Basic NzExMTVkYmUtNWMwYS00Zjk1LTg4OGYtZGFiM2Q0Yzc3ODJmOjk1NzhuOUJmd2ZRNk03fm52a1N+d01LWTVCcC14fi5Xflo=
Content-Type :  application/x-www-form-urlencoded
Content-Length :  1549
</code></pre></div>



<a name="217148034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217148034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217148034">(Nov 18 2020 at 15:18)</a>:</h4>
<p>I was expecting the client_id to also be included in the post body. Is this not standard? I can pull this from the auth header when present instead...</p>



<a name="217148856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217148856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217148856">(Nov 18 2020 at 15:23)</a>:</h4>
<p>Don't believe that's standard, but I have a setting for that on our client</p>



<a name="217149066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217149066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217149066">(Nov 18 2020 at 15:25)</a>:</h4>
<p>Okay, let me know if that works. I will add logic to account for client_id in header.</p>



<a name="217151186"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217151186" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217151186">(Nov 18 2020 at 15:38)</a>:</h4>
<p>Yes, I can connect now with the client id in the body. Getting errors on the data, looking into that</p>



<a name="217151890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217151890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217151890">(Nov 18 2020 at 15:43)</a>:</h4>
<p>Coverage resources contain an invalid beneficiary reference:</p>
<div class="codehilite"><pre><span></span><code>  &quot;beneficiary&quot;: {
    &quot;reference&quot;: &quot;88800307601&quot;
  },
</code></pre></div>



<a name="217153508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217153508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217153508">(Nov 18 2020 at 15:53)</a>:</h4>
<p>Good catch, fix for both of the issues you identified are now live in Sandbox <span class="user-mention" data-user-id="191912">@Michele Mottini</span></p>



<a name="217160818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217160818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217160818">(Nov 18 2020 at 16:36)</a>:</h4>
<p>OK, it works now, but there are three missing Practitioner: ExamplePractitioner1, ExamplePractitioner2, ExamplePractitioner4</p>



<a name="217161075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217161075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Conley <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217161075">(Nov 18 2020 at 16:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191912">Michele Mottini</span> <a href="#narrow/stream/204607-CARIN-IG.20for.20Blue.20Button.C2.AE/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server/near/217148856">said</a>:</p>
<blockquote>
<p>Don't believe that's standard, but I have a setting for that on our client</p>
</blockquote>
<p><a href="https://tools.ietf.org/html/rfc6749">https://tools.ietf.org/html/rfc6749</a></p>
<p>2.3.1.  Client Password</p>
<p>Clients in possession of a client password MAY use the HTTP Basic<br>
   authentication scheme as defined in [RFC2617] to authenticate with<br>
   the authorization server.  The client identifier is encoded using the<br>
   "application/x-www-form-urlencoded" encoding algorithm per<br>
   Appendix B, and the encoded value is used as the username; the client<br>
   password is encoded using the same algorithm and used as the<br>
   password.  The authorization server MUST support the HTTP Basic<br>
   authentication scheme for authenticating clients that were issued a<br>
   client password.</p>
<p>For example (with extra line breaks for display purposes only):</p>
<div class="codehilite"><pre><span></span><code> Authorization: Basic czZCaGRSa3F0Mzo3RmpmcDBaQnIxS3REUmJuZlZkbUl3
</code></pre></div>

<p>Alternatively, the authorization server MAY support including the<br>
   client credentials in the request-body using the following<br>
   parameters:</p>
<p>client_id<br>
         REQUIRED.  The client identifier issued to the client during<br>
         the registration process described by Section 2.2.</p>
<p>client_secret<br>
         REQUIRED.  The client secret.  The client MAY omit the<br>
         parameter if the client secret is an empty string.</p>
<hr>
<p>So in the auth header is standard, with being in the body is optional.</p>
<p><span class="user-mention" data-user-id="246928">@josh lamb</span>  <span class="user-mention" data-user-id="191912">@Michele Mottini</span></p>



<a name="217162972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217162972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217162972">(Nov 18 2020 at 16:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191912">Michele Mottini</span> <a href="#narrow/stream/204607-CARIN-IG.20for.20Blue.20Button.C2.AE/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server/near/217160818">said</a>:</p>
<blockquote>
<p>OK, it works now, but there are three missing Practitioner: ExamplePractitioner1, ExamplePractitioner2, ExamplePractitioner4</p>
</blockquote>
<p>What includes did you run, "*" or care-team?</p>



<a name="217163585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217163585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217163585">(Nov 18 2020 at 16:53)</a>:</h4>
<p>No includes, I am looking at the references in the resources and go get them individually</p>



<a name="217164718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217164718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217164718">(Nov 18 2020 at 17:01)</a>:</h4>
<p>Got it, we found issue. Fix is incoming.</p>



<a name="217170702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217170702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Conley <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217170702">(Nov 18 2020 at 17:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191912">Michele Mottini</span> <a href="#narrow/stream/204607-CARIN-IG.20for.20Blue.20Button.C2.AE/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server/near/217163585">said</a>:</p>
<blockquote>
<p>No includes, I am looking at the references in the resources and go get them individually</p>
</blockquote>
<p>Sorry about that and thanks for bringing it to our attention. A fix is currently deploying, so it should be rectified in our sandbox in 15 minutes or so.</p>
<p>Edit: Fix is live.</p>



<a name="217188044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217188044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tone Southerland <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217188044">(Nov 18 2020 at 19:54)</a>:</h4>
<p><span class="user-mention" data-user-id="246928">@josh lamb</span> do you have the reference to the includes "*" in the FHIR spec? It seems not all servers are supporting this?</p>



<a name="217190016"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217190016" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217190016">(Nov 18 2020 at 20:10)</a>:</h4>
<p><a href="https://build.fhir.org/ig/HL7/carin-bb/branches/v0.1.11/CapabilityStatement-c4bb.html#resource--details">https://build.fhir.org/ig/HL7/carin-bb/branches/v0.1.11/CapabilityStatement-c4bb.html#resource--details</a> the table will list the includes and searches that are in scope for CARIN IG. I have interpreted "*" to indicate that all references should be resolvable within the bundle.</p>



<a name="217190794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217190794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217190794">(Nov 18 2020 at 20:16)</a>:</h4>
<p>Re: client_id, SMART is specific and prescriptive here beyond what the base OAuth spec says: <a href="http://hl7.org/fhir/smart-app-launch/#step-3-app-exchanges-authorization-code-for-access-token">http://hl7.org/fhir/smart-app-launch/#step-3-app-exchanges-authorization-code-for-access-token</a></p>
<blockquote>
<p>Required [as a POST body param] for public apps. Omit for confidential apps</p>
</blockquote>



<a name="217192528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217192528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217192528">(Nov 18 2020 at 20:30)</a>:</h4>
<p>Hey, thanks for the feedback <span class="user-mention" data-user-id="191315">@Josh Mandel</span> .</p>



<a name="217198417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217198417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217198417">(Nov 18 2020 at 21:22)</a>:</h4>
<p>Tried again and it worked nicely, here is the data in our app:</p>
<p><a href="/user_uploads/10155/bN7_1ZHqUEvBFFT0q5hHOo_-/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/bN7_1ZHqUEvBFFT0q5hHOo_-/image.png" title="image.png"><img src="/user_uploads/10155/bN7_1ZHqUEvBFFT0q5hHOo_-/image.png"></a></div>



<a name="217198668"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217198668" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217198668">(Nov 18 2020 at 21:24)</a>:</h4>
<p>Attempt to refresh the access token failed with a 500 though. Request body:</p>
<div class="codehilite"><pre><span></span><code>grant_type=refresh_token&amp;refresh_token=eyJraWQiOiJUcE4taldPZ216VWMxTjB5OHY2b3Rqa25lNlRGdlJ1Sm9nazB1akJwUmtFIiwidmVyIjoiMS4wIiwiemlwIjoiRGVmbGF0ZSIsInNlciI6IjEuMCJ9.j7_08kqZNZ4RbHMsMlCk2U8ms1xzM3PWA54qtNTFEqbL3iqnKO0rZc4OP1VZmkYE3vVqjPWfB7osM_-4hsAPpKugmyD3kARnwbUI1uy7KMvbvYGDvSQz0vYGTr1dqo6FYVkG1pfsE8C_1bp34dfClN92zZumfCVpqRKvwXEu1S4B1jzVoDHAo5UphciaJ9MwJJkzlK4nLo9P8ZzZR9C79-dEXVmTFn5Riwv2Tt9ukTGxP7pblKjhhzCrdFAEoYMY3ZBCxT7J9SlySVTC9UEQRoWKNyMv0KOeJT3xiuQW9ezEYqVGkMZb7bwDz-wpL95wyLZoKe91xeh8LU6CJsWcBg.8YcpQhz7Ggeq3GjF.MJs-a-UnBH3b1NowOYKrwaBO5pw5j2DJK5qGeQubGR_qfK_83hD0IcWsMyJ50RlGN5NFs-dv1QVBwjztWvuHsOSGktERRiaKXQTx5JBl766tiFRPGyYvQiVFvZDYa5v0UJ9H7G-hMGptiWku9FZTBFPVm8yqSzwCcMtdQe16NsOFHuRrHToJOLigxRo1hVmd3ftnkyTgGoAVqfMl2WXprC5XKvTkSV5f-Ut0uquhuqyGwdcUKqkzjVZfH7s4qBHhticx2C8Pv8ayLUEcu_8eMyECGRIH2_s_UOx_qixXDbSXGxAgmSFxyGrqhEhDBq8uF4akskUDnE1ImIJ6agSi7L7mmh29-Bea5_SglM2zri933WaSLr9M73PYNI0PkoN4qKqQ6AfmaAblcIUt1oSmDJZEl3E6gI2_Sfc_CZ3B8GrbkI4f_JAWQ7G44J4TFa_DpkFVg4ymBL2yN4KDTs6aSub0JFVml1X8tlVmSwpwT-H7XAQ6V2J4okGcPpASXNnTl5gktKOBl1Gc8GliTfHcuqg-22zLGMKRudMYlPTrJ9QJAtPvqaDjUwJt4wn_reG1jm5LY27IVrNFyKmIWjfvsa9Gei9cpzBdJMQoSzUaDGYDZ9S0KNniXyvPaKjSEczRVWLK5mWd3sdgzxrF60pG3CK1ekyrzqIoOvHPWDzfCfDHQutyOXUBG78yVk5dh7Kh-zL_fb8xnOiR2PVr9yZl8t40UOPudnwY4ejTEX4zyGo5vEfMQrtTpwBpiQPRXZ5Wl51KGsBlrNGAJPf2P9OpG_iauXu4MVyIIGyCmOKYSHIsLnLq5BYtcerGWtzyZUzFXrTSMrvR0IPTqcjca3GW30UGC6GGuMXrzWWWCbPYk_gpnklYaNd0WS6FveLNEkz-_zCqNoOoTGtA9SjyGwzC2ADEs_ojrEw5s1c.WMIof8sFmdJTwnjlr8NnBw
</code></pre></div>



<a name="217198693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217198693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217198693">(Nov 18 2020 at 21:24)</a>:</h4>
<p>Headers:<br>
Accept :  application/json<br>
Authorization :  Basic NzExMTVkYmUtNWMwYS00Zjk1LTg4OGYtZGFiM2Q0Yzc3ODJmOjk1NzhuOUJmd2ZRNk03JTdlbnZrUyU3ZXdNS1k1QnAteCU3ZS5XJTdlWg==<br>
Content-Type :  application/x-www-form-urlencoded<br>
Content-Length :  1478</p>



<a name="217198724"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217198724" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217198724">(Nov 18 2020 at 21:24)</a>:</h4>
<p>Response body:</p>
<div class="codehilite"><pre><span></span><code>{
    &quot;message&quot;: &quot;Unknown error. Please contact your system administrator&quot;,
    &quot;errors&quot;: []
}
</code></pre></div>



<a name="217198812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217198812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217198812">(Nov 18 2020 at 21:25)</a>:</h4>
<p>Possibly because there is no client_id in the body?</p>



<a name="217198860"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217198860" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217198860">(Nov 18 2020 at 21:25)</a>:</h4>
<p>Can anyone join the breakout channel as an application developer so that we can see how the UPMC Health Plan sandbox data displays?</p>



<a name="217199214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217199214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217199214">(Nov 18 2020 at 21:29)</a>:</h4>
<p>I am joining (or trying to)</p>



<a name="217200459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217200459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217200459">(Nov 18 2020 at 21:41)</a>:</h4>
<p>CareEvolution production app: <a href="https://myfhr.careevolution.com">https://myfhr.careevolution.com</a> - or look for 'MyFHR' in Apple Store or Google Play</p>



<a name="217201676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217201676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217201676">(Nov 18 2020 at 21:53)</a>:</h4>
<p>And yes, there is a problem on our side: we did non import correctly the amounts, so they are not displayed</p>



<a name="217283597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217283597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217283597">(Nov 19 2020 at 15:20)</a>:</h4>
<p>Hello, Would anyone like to jump into room 3 to connect with UPMC?</p>



<a name="217335027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217335027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217335027">(Nov 19 2020 at 21:47)</a>:</h4>
<p>...if the token request has the wrong client secret the server returns a 500 - should return a 400 with some error description in the body (see OAuth2 specs)</p>



<a name="217805426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217805426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217805426">(Nov 24 2020 at 19:55)</a>:</h4>
<p>Alignment with OAuth2 Http Status Codes and error details will be available at next Connectathon. </p>
<p>Regarding the issue with the token refresh, it appears that the provided authorization header is not encoded correctly: </p>
<p>What you provided above is encoded as: <br>
71115dbe-5c0a-4f95-888f-dab3d4c7782f:9578n9BfwfQ6M7%7envkS%7ewMKY5Bp-x%7e.W%7eZ<br>
We are expecting: <br>
71115dbe-5c0a-4f95-888f-dab3d4c7782f:9578n9BfwfQ6M7~nvkS~wMKY5Bp-x~.W~Z<br>
('~' is showing as '%7e')</p>
<p>Thanks <span class="user-mention" data-user-id="191912">@Michele Mottini</span></p>



<a name="217815748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/11/18-19%20CARIN%20Connectathon%20-%20UPMC%20Server/near/217815748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/11.2F18-19.20CARIN.20Connectathon.20-.20UPMC.20Server.html#217815748">(Nov 24 2020 at 21:27)</a>:</h4>
<p><span class="user-mention" data-user-id="246928">@josh lamb</span> encoding the secret is correct: 'The client identifier is encoded using the<br>
   "application/x-www-form-urlencoded" encoding algorithm per<br>
   Appendix B, and the encoded value is used as the username; the client<br>
   password is encoded using the same algorithm and used as the<br>
   password. ' <a href="https://tools.ietf.org/html/rfc6749#section-2.3.1">https://tools.ietf.org/html/rfc6749#section-2.3.1</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
