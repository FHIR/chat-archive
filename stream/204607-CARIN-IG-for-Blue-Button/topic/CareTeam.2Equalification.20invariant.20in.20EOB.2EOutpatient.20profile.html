---
layout: page
title: "FHIR Chat  · CareTeam.qualification invariant in EOB.Outpatient profile · CARIN IG for Blue Button®"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/index.html">CARIN IG for Blue Button®</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/CareTeam.2Equalification.20invariant.20in.20EOB.2EOutpatient.20profile.html">CareTeam.qualification invariant in EOB.Outpatient profile</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="266995935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/CareTeam.qualification%20invariant%20in%20EOB.Outpatient%20profile/near/266995935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bill Harty <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/CareTeam.2Equalification.20invariant.20in.20EOB.2EOutpatient.20profile.html#266995935">(Jan 05 2022 at 21:47)</a>:</h4>
<p>Running FHIR Validator on an outpatient EOB against the CARIN 1.1 Outpatient Profile, and cannot seem to get past the invariant "EOB-careteam-qualification".  The error is </p>
<p><em>"EOB-careteam-qualification: 'Care Team Performing physician's qualifications are from US-Core-Provider-Specialty Value Set' Rule 'Care Team Performing physician's qualifications are from US-Core-Provider-Specialty Value Set' Failed"</em></p>
<p>See my JSON snippet at the bottom of this thread.</p>
<p>I'm wondering if this is a FHIR Path issue with the invariant, similar <a href="#narrow/stream/204607-CARIN-IG.20for.20Blue.20Button.C2.AE/topic/Poor.20fhirpath.20in.20EOB-inst-careTeam.20constraints">to this thread</a> and <a href="https://jira.hl7.org/browse/FHIR-28530">this JIRA issue</a></p>
<p>I may be misreading the FHIRPath but I think the expression right of the IMPLIES operator has a small error.  </p>
<div class="codehilite"><pre><span></span><code>implies
careTeam.role.where(coding.where(code in (&#39;performing&#39; )).exists()).exists().qualification.memberOf(&#39;http://hl7.org/fhir/us/core/ValueSet/us-core-provider-specialty&#39;)
</code></pre></div>
<p>I believe the expression above references qualification as a child of role, not a sibling.  I think the correct expression would look something like this:</p>
<div class="codehilite"><pre><span></span><code>implies
careTeam.where(role.coding.where(code=&#39;performing&#39;)).qualification.memberOf(&#39;http://hl7.org/fhir/us/core/ValueSet/us-core-provider-specialty&#39;)
</code></pre></div>
<p>Here is a snippet of the JSON that is failing the validator.  Is this incorrect?</p>
<div class="codehilite"><pre><span></span><code>    &quot;role&quot; : {
      &quot;coding&quot; : [ {
        &quot;system&quot; : &quot;http://hl7.org/fhir/us/carin-bb/CodeSystem/C4BBClaimCareTeamRole&quot;,
        &quot;code&quot; : &quot;performing&quot;,
        &quot;display&quot; : &quot;Performing provider&quot;
      } ]
    },
    &quot;qualification&quot;: {
        &quot;coding&quot; : [ {
            &quot;system&quot; : &quot;https://nucc.org/provider-taxonomy&quot;,
            &quot;code&quot; : &quot;103TC0700X&quot;,
            &quot;display&quot; : &quot;Clinical Psychologist&quot;
          } ]
    }
</code></pre></div>
<p>Thanks for any insight/help with this.</p>



<a name="266999582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/CareTeam.qualification%20invariant%20in%20EOB.Outpatient%20profile/near/266999582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Spears <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/CareTeam.2Equalification.20invariant.20in.20EOB.2EOutpatient.20profile.html#266999582">(Jan 05 2022 at 22:18)</a>:</h4>
<p>Can you let me know what version of the IG you are looking at?</p>



<a name="267071254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/CareTeam.qualification%20invariant%20in%20EOB.Outpatient%20profile/near/267071254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bill Harty <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/CareTeam.2Equalification.20invariant.20in.20EOB.2EOutpatient.20profile.html#267071254">(Jan 06 2022 at 15:10)</a>:</h4>
<p>Our intention is to validate against STU1 (1.1).   The resource I'm using has a Meta.profile = "<a href="http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Outpatient-Institutional|1.1.0">http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Outpatient-Institutional|1.1.0</a>".   Here is the validator command I'm using (with json file attached.... synthetic data so PHI-safe)</p>
<div class="codehilite"><pre><span></span><code>java -jar validator_cli.jar    eob.json   -ig http://hl7.org/fhir/us/carin-bb/STU1.1
</code></pre></div>
<p>thanks for helping with this. </p>
<p><a href="/user_uploads/10155/UWkjvv98ezDf_rQ3UV1VDpYA/eob.json">eob.json</a></p>



<a name="267244951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/CareTeam.qualification%20invariant%20in%20EOB.Outpatient%20profile/near/267244951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Spears <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/CareTeam.2Equalification.20invariant.20in.20EOB.2EOutpatient.20profile.html#267244951">(Jan 07 2022 at 21:27)</a>:</h4>
<p>I am not entirely sure what the issue is here. I know US Core changed a number of the ValueSets from US Core IG defined to point to VSAC ValueSets in US Core 4.x. The provider specialty is one such ValueSet. Looking at <a href="http://tx.fhir.org">tx.fhir.org</a>, I am not seeing the original "<a href="http://hl7.org/fhir/us/core/ValueSet/us-core-provider-specialty">http://hl7.org/fhir/us/core/ValueSet/us-core-provider-specialty</a>" ValueSet loaded. I am not sure what it is validating against. </p>
<p>We may need someone like <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> , <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , or <span class="user-mention" data-user-id="191405">@Rob Hausam</span> to chime in on a couple of things including:</p>
<ul>
<li>What happens to previously published ValueSets that no longer appear in the latest version of the IG (And the canonical no longer resolves)?</li>
<li>How can validations be run on these older ValueSet definitions?</li>
<li>Is the ValueSet missing from <a href="http://tx.fhir.org">tx.fhir.org</a>, and if it is, should it? And if it should be missing, should it being throwing this error?</li>
</ul>



<a name="268481620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/CareTeam.qualification%20invariant%20in%20EOB.Outpatient%20profile/near/268481620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Spears <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/CareTeam.2Equalification.20invariant.20in.20EOB.2EOutpatient.20profile.html#268481620">(Jan 19 2022 at 01:35)</a>:</h4>
<p>Any thoughts on this <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  or <span class="user-mention" data-user-id="191405">@Rob Hausam</span> ?</p>



<a name="268493330"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/204607-CARIN%20IG%20for%20Blue%20Button%C2%AE/topic/CareTeam.qualification%20invariant%20in%20EOB.Outpatient%20profile/near/268493330" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/204607-CARIN-IG-for-Blue-Button/topic/CareTeam.2Equalification.20invariant.20in.20EOB.2EOutpatient.20profile.html#268493330">(Jan 19 2022 at 05:16)</a>:</h4>
<p>When you invoke the validator, does it tell you that it's importing the FHIR core IG and does it tell you the correct version?  It should...  All of the old value sets should be in the package for that IG which should be available to the validator.  If it doesn't tell you it's grabbing that IG, then you MAY need to specify a -ig parameter that specifies the US core value set version too.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
