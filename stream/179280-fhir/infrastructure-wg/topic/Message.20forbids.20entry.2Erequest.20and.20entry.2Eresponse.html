---
layout: page
title: "FHIR Chat  · Message forbids entry.request and entry.response · fhir/infrastructure-wg"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/index.html">fhir/infrastructure-wg</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html">Message forbids entry.request and entry.response</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="188592693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188592693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188592693">(Feb 19 2020 at 22:28)</a>:</h4>
<p>I have an urgent request from IHE to FHIR-I. We would like to understand why Messaging can't utalize the Bundle.entry.request and Bundle.entry.response? See #FHIR-26359</p>



<a name="188593319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593319">(Feb 19 2020 at 22:35)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span>    Why is it urgent?  <a href="http://jira.hl7.org/browse/FHIR-26359" target="_blank" title="http://jira.hl7.org/browse/FHIR-26359">J#26359</a></p>



<a name="188593474"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593474" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593474">(Feb 19 2020 at 22:37)</a>:</h4>
<p>because we have an Implementation Guide that assumed we could use it, and that is going to EU Connectathon soon.  So we need to 'hack' using alternative A vs B.. where A is create an extension that is just like .request and .response because we know that R5 will allow it, or B encapsulate a Batch transaction within our message.</p>



<a name="188593568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593568">(Feb 19 2020 at 22:38)</a>:</h4>
<p>Wait, how does your hacked extension actually embed resource content like <code>Bundle.entry.response.outcome</code>?</p>



<a name="188593580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593580">(Feb 19 2020 at 22:38)</a>:</h4>
<p>extensions are an amazing thing</p>



<a name="188593634"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593634" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593634">(Feb 19 2020 at 22:39)</a>:</h4>
<p>why would messaging use .request and .response</p>



<a name="188593635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593635">(Feb 19 2020 at 22:39)</a>:</h4>
<p>Not _that_ amazing ;-) What extension type are you using? Or are you just stringifying the <code>Bundle.entry.response.outcome</code>?</p>



<a name="188593642"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593642" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593642">(Feb 19 2020 at 22:39)</a>:</h4>
<p>more specifically.. all we care about is .request.method with POST, PUT, DELETE</p>



<a name="188593645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593645">(Feb 19 2020 at 22:39)</a>:</h4>
<p>ahh</p>



<a name="188593741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593741">(Feb 19 2020 at 22:40)</a>:</h4>
<p>we have a FHIR based equivilant to ADT...</p>



<a name="188593760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593760">(Feb 19 2020 at 22:40)</a>:</h4>
<p>Why did you choose a message and not just a transaction bundle ?  ( which version of subscription are you using?)</p>



<a name="188593782"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593782" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593782">(Feb 19 2020 at 22:41)</a>:</h4>
<p>because one can Subscribe to a message... you can't subscribe to a batch</p>



<a name="188593802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593802">(Feb 19 2020 at 22:41)</a>:</h4>
<p>and messaging has nice functions for routing and source attribution</p>



<a name="188593816"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593816" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593816">(Feb 19 2020 at 22:41)</a>:</h4>
<p>messaging has its role in the world.</p>



<a name="188593835"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593835" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593835">(Feb 19 2020 at 22:41)</a>:</h4>
<p>which version Sub?</p>



<a name="188593883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593883">(Feb 19 2020 at 22:42)</a>:</h4>
<p>Do you have a link to the IG?</p>



<a name="188593889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593889">(Feb 19 2020 at 22:42)</a>:</h4>
<p>I provided it in the Jira ticket</p>



<a name="188593912"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593912" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593912">(Feb 19 2020 at 22:42)</a>:</h4>
<p>NOTE: It is an IHE Profile, so it is not published using the HL7 IG publisher</p>



<a name="188593922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593922">(Feb 19 2020 at 22:42)</a>:</h4>
<p>Thanks! (<a href="https://wiki.ihe.net/index.php/Patient_Master_Identity_Registry_(PMIR)" target="_blank" title="https://wiki.ihe.net/index.php/Patient_Master_Identity_Registry_(PMIR)">https://wiki.ihe.net/index.php/Patient_Master_Identity_Registry_(PMIR)</a>)</p>



<a name="188593948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188593948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188593948">(Feb 19 2020 at 22:43)</a>:</h4>
<p>What si the reason to forbid this in a message?</p>



<a name="188594068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188594068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188594068">(Feb 19 2020 at 22:44)</a>:</h4>
<p>R4 subscriptions, <span class="user-mention" data-user-id="191401">@Eric Haas</span> .</p>



<a name="188594088"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188594088" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188594088">(Feb 19 2020 at 22:44)</a>:</h4>
<p>yes, we know that if we had been using IG Publisher, that we would have found this problem long ago by examples not validating... Yes.. we know.</p>



<a name="188594395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188594395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188594395">(Feb 19 2020 at 22:48)</a>:</h4>
<p>Where is a reference to the Batch behaviour trying to replicate  ? ( assuming V2 chapter)</p>



<a name="188595771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188595771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188595771">(Feb 19 2020 at 23:08)</a>:</h4>
<p>What I don't understand is this </p>
<blockquote>
<p>Messaging while needing to Create, Update, or Delete; like can be done in a Batch.</p>
</blockquote>
<p>Its been a while for me, but in V2 isn't that all done with the event code?   and wouldn't  that be true for FHR using  MessageHeader. event for each <br>
 Message Bundle in the Bundle of Bundle?</p>



<a name="188596452"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188596452" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188596452">(Feb 19 2020 at 23:21)</a>:</h4>
<p>Yes I hate the option of using the Batch Bundle enclosed within the Messaging Bundle.... but creative minds will do creative things</p>



<a name="188596550"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188596550" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188596550">(Feb 19 2020 at 23:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191401">Eric Haas</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188595771" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188595771">said</a>:</p>
<blockquote>
<p>What I don't understand is this </p>
<blockquote>
<p>Messaging while needing to Create, Update, or Delete; like can be done in a Batch.</p>
</blockquote>
<p>Its been a while for me, but in V2 isn't that all done with the event code?   and wouldn't  that be true for FHR using  MessageHeader. event for each <br>
 Message Bundle in the Bundle of Bundle?</p>
</blockquote>
<p>a message only has one MessageHeader.event... we want to have one Message that contains creates, updates, and deletes... like a batch can</p>



<a name="188596924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188596924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188596924">(Feb 19 2020 at 23:30)</a>:</h4>
<p>My leaning would be for your message payload to be a transaction Bundle.  Transaction semantics are not part of message and I'm not comfortable with the notion of trying to have messages use those structures directly.</p>



<a name="188596951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188596951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188596951">(Feb 19 2020 at 23:31)</a>:</h4>
<p>I.e. MessageHeader.focus would itself be a Bundle - which would be your transaction.</p>



<a name="188597010"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188597010" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188597010">(Feb 19 2020 at 23:32)</a>:</h4>
<p>That said, I'd be leery about introducing messaging unless you really have to.  If you can come up with a RESTful solution, that's nearly always better and more interoperable.</p>



<a name="188597014"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188597014" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188597014">(Feb 19 2020 at 23:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188596951" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188596951">said</a>:</p>
<blockquote>
<p>I.e. MessageHeader.focus would itself be a Bundle - which would be your transaction.</p>
</blockquote>
<p>Yes that is alternative B... (using Batch, not Transaction)</p>



<a name="188597015"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188597015" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188597015">(Feb 19 2020 at 23:32)</a>:</h4>
<p>Lots of systems will support 'transaction'.  No-one supports your new custom message</p>



<a name="188597036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188597036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188597036">(Feb 19 2020 at 23:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188597015" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188597015">said</a>:</p>
<blockquote>
<p>Lots of systems will support 'transaction'.  No-one supports your new custom message</p>
</blockquote>
<p>The solution has plenty of ways for REST to be used... this is JUST a function for those that want to be notified</p>



<a name="188597067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188597067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188597067">(Feb 19 2020 at 23:33)</a>:</h4>
<blockquote>
<p>a message only has one MessageHeader.event... we want to have one Message that contains creates, updates, and deletes... like a batch can</p>
</blockquote>
<p>What about the MH.header focus 1..* MessageBundles?</p>



<a name="188597153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188597153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188597153">(Feb 19 2020 at 23:34)</a>:</h4>
<p>is that how you are trying to emulate Batching</p>



<a name="188597193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188597193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188597193">(Feb 19 2020 at 23:35)</a>:</h4>
<p>Anyway I mentioned Transaction too and generally agree with Lloyd  :-)</p>



<a name="188597312"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188597312" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188597312">(Feb 19 2020 at 23:37)</a>:</h4>
<p>Being notified is quite different from processing a transaction</p>



<a name="188597381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188597381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188597381">(Feb 19 2020 at 23:38)</a>:</h4>
<p>If you receive a transaction, you're being told to make those changes <em>on your system</em>.  If you're being notified, if anything, you'd want to transmit a copy of the transaction response - i.e. "here's what happened".</p>



<a name="188598365"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188598365" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188598365">(Feb 19 2020 at 23:54)</a>:</h4>
<p>In this case, yes you have agreed to follow the changes</p>



<a name="188598377"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188598377" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188598377">(Feb 19 2020 at 23:54)</a>:</h4>
<p>and it is a batch, so that you have the ability to ignore 0..* of the content without error</p>



<a name="188598392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188598392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188598392">(Feb 19 2020 at 23:55)</a>:</h4>
<p>I am still unclear on why this is forbidden in a message</p>



<a name="188599185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188599185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188599185">(Feb 20 2020 at 00:07)</a>:</h4>
<p>because 3 reasons:</p>
<ul>
<li>there's potentially very bad interplay between the message semantics, and the interaction semantics in request/response</li>
<li>v2 messaging never had or needed anything like that</li>
<li>no one has asked for it</li>
</ul>



<a name="188603516"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188603516" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188603516">(Feb 20 2020 at 01:41)</a>:</h4>
<p>well, because no one has asked for it... is reason to FORBID? that seems extreme. We are now asking for it. Not just me but a group of people trying to create an Implementation Guide on patient identity management</p>



<a name="188603595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188603595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188603595">(Feb 20 2020 at 01:43)</a>:</h4>
<p>if that was the only reason, no.</p>



<a name="188603597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188603597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188603597">(Feb 20 2020 at 01:43)</a>:</h4>
<p>Unclear how the interpay problem is made better by a solution that puts the CUD actions in a enclosed Batch Bundle within the Message Bundle... How is that better? Can you explain the interplay problem? I don't see it</p>



<a name="188603642"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188603642" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188603642">(Feb 20 2020 at 01:44)</a>:</h4>
<p>I think v2 can do what we are trying to do...</p>



<a name="188603652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188603652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188603652">(Feb 20 2020 at 01:44)</a>:</h4>
<p>so.. am I completely non-persuasive? If so, then we will work up a solution with bundled bundles...</p>



<a name="188603658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188603658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188603658">(Feb 20 2020 at 01:45)</a>:</h4>
<p>lets say I took the typical content of a ADT_A01 message, and then inserted CUD instructions onto each of the segments... what would that mean? That would work at total cross purposes to the established purpose of the message</p>



<a name="188603661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188603661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188603661">(Feb 20 2020 at 01:45)</a>:</h4>
<p>I didn't say it was made better by a  nested bundle, though it may help.</p>



<a name="188603670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188603670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188603670">(Feb 20 2020 at 01:45)</a>:</h4>
<p>how does v2 do it then?</p>



<a name="188603714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188603714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188603714">(Feb 20 2020 at 01:46)</a>:</h4>
<p>I've never see create/update/delete instructions in a v2 message. Not even master files</p>



<a name="188603721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188603721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188603721">(Feb 20 2020 at 01:46)</a>:</h4>
<p>well delete is not worth discussing... and ADT is always Update with a create if not found... right?</p>



<a name="188603727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188603727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188603727">(Feb 20 2020 at 01:47)</a>:</h4>
<p>I am looking for solutions. not looking for a fight</p>



<a name="188603858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188603858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188603858">(Feb 20 2020 at 01:50)</a>:</h4>
<p>delete is worth discussing ;-) My point is, the create/update/delete semantics are explicit in the definition of the event. Adding them explicitly would make a mess of the definition of the event.</p>



<a name="188603864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188603864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188603864">(Feb 20 2020 at 01:51)</a>:</h4>
<p>so if it can be done in v2, with out being explicit in the message, why is it necessary in FHIR?</p>



<a name="188603870"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188603870" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188603870">(Feb 20 2020 at 01:51)</a>:</h4>
<p>a possible response is: it probably is, but we're a long way down the path, and don't want to reset now.</p>



<a name="188603878"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188603878" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188603878">(Feb 20 2020 at 01:51)</a>:</h4>
<p>or: no, there's some reason why it can't be done without it.... and presumably can't be done with v2?</p>



<a name="188604010"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604010" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604010">(Feb 20 2020 at 01:55)</a>:</h4>
<p>I would be opposed to re-setting.  The process for message handling has <em>always</em> been that you look at the event code.  Throwing REST behaviors into the mix adds considerable complexity.  There should also be a clear dividing line between REST vs. messaging behavior.  Mixing the two is going to breed confusion.  If you want to use message routing and have the purpose of the message be "Execute this REST batch", then a contained Bundle is a simple, clean way of structuring that.  You've got the message and you've got the batch.  You toss the contained batch to any RESTful engine and it knows what to do.</p>



<a name="188604022"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604022" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604022">(Feb 20 2020 at 01:56)</a>:</h4>
<p>As a side point, Batch is normative, so changing these invariants would be tricky at best.</p>



<a name="188604063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604063">(Feb 20 2020 at 01:56)</a>:</h4>
<p>relaxing invariants is technically ok</p>



<a name="188604082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604082">(Feb 20 2020 at 01:57)</a>:</h4>
<p>but the event code is sigular for the whole content of the message. I want to be able to mix some updates with some creates and some deletes</p>



<a name="188604104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604104">(Feb 20 2020 at 01:57)</a>:</h4>
<p>I never asked for all of REST. Just create, update, and delete</p>



<a name="188604106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604106">(Feb 20 2020 at 01:57)</a>:</h4>
<p>what i don't understand is how you know which resources are creates, updates, and deletes</p>



<a name="188604157"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604157" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604157">(Feb 20 2020 at 01:58)</a>:</h4>
<p>Look at all the fun I miss when skipping the ITI committee meetings :-)<br>
Here is how I understand the basic structure of the profile, and a possible solution:</p>
<ol>
<li>There is a subscription for patient-level events (add/update/merge/delete)</li>
<li>The notification for the event is a message<br>
Why can't the message event code relay the action to be taken on the patient?</li>
</ol>



<a name="188604159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604159">(Feb 20 2020 at 01:58)</a>:</h4>
<p>The equivalent of 'action codes' in v2 would be Task in FHIR.  Having the message point at Tasks indicating what actions are to occur is a possibility if you don't want a contained Batch.</p>



<a name="188604160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604160">(Feb 20 2020 at 01:58)</a>:</h4>
<p>the sender knows what has happened within their system, they are an authority</p>



<a name="188604189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604189">(Feb 20 2020 at 01:59)</a>:</h4>
<p>ok so here's the clear difference: you know what happened in the source system. You cannot know what is the right thing to do in the destination system. The .request is an instruction to the destination system</p>



<a name="188604234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604234">(Feb 20 2020 at 02:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192685">Vassil Peytchev</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604157" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604157">said</a>:</p>
<blockquote>
<p>Look at all the fun I miss when skipping the ITI committee meetings :-)<br>
Here is how I understand the basic structure of the profile, and a possible solution:</p>
<ol>
<li>There is a subscription for patient-level events (add/update/merge/delete)</li>
<li>The notification for the event is a message<br>
Why can't the message event code relay the action to be taken on the patient?</li>
</ol>
</blockquote>
<p>because the event is singular for the whole message and we want to include Creates, Updates, Merges, and Deletes within one message</p>



<a name="188604244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604244">(Feb 20 2020 at 02:00)</a>:</h4>
<p>Why do you want to mix them?</p>



<a name="188604246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604246">(Feb 20 2020 at 02:00)</a>:</h4>
<p>technically, this is a message that includes a history bundle</p>



<a name="188604255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604255">(Feb 20 2020 at 02:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604189" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604189">said</a>:</p>
<blockquote>
<p>ok so here's the clear difference: you know what happened in the source system. You cannot know what is the right thing to do in the destination system. The .request is an instruction to the destination system</p>
</blockquote>
<p>yes, the recipient of the message is free to act as approrpiate to them.</p>



<a name="188604256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604256">(Feb 20 2020 at 02:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604246" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604246">said</a>:</p>
<blockquote>
<p>technically, this is a message that includes a history bundle</p>
</blockquote>
<p>Exactly</p>



<a name="188604269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604269">(Feb 20 2020 at 02:01)</a>:</h4>
<p>yes. does that get us to a solution?</p>



<a name="188604273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604273">(Feb 20 2020 at 02:01)</a>:</h4>
<p>well, we think it does</p>



<a name="188604283"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604283" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604283">(Feb 20 2020 at 02:01)</a>:</h4>
<p>It's still a bundle within the message</p>



<a name="188604326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604326">(Feb 20 2020 at 02:02)</a>:</h4>
<p>so that is the bundle within the message bundle... right?</p>



<a name="188604337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604337">(Feb 20 2020 at 02:02)</a>:</h4>
<p>yes. a history bundle inside the message bundle - so the message bundle wraps the existing defined history bundle with messaging semantics</p>



<a name="188604405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604405">(Feb 20 2020 at 02:04)</a>:</h4>
<p>we can go that direction. It was a possibility. We just wanted to check one more time to see if these prohibitions were intentional or accidental</p>



<a name="188604489"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604489" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604489">(Feb 20 2020 at 02:06)</a>:</h4>
<p>intentional. And my conclusion is: they're a good thing.</p>



<a name="188604491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604491">(Feb 20 2020 at 02:06)</a>:</h4>
<p>The history bundle seems to indicate that we must include 'all' which is not what we are wanting, we only want to include those that have changed in a period since the last notificaiton.</p>



<a name="188604492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604492">(Feb 20 2020 at 02:06)</a>:</h4>
<p><a href="http://build.fhir.org/http.html#history" target="_blank" title="http://build.fhir.org/http.html#history">http://build.fhir.org/http.html#history</a></p>



<a name="188604496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604496">(Feb 20 2020 at 02:06)</a>:</h4>
<p>I still don't see how that fixes the issue of mixing and matching CUD within the message?</p>



<a name="188604519"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604519" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604519">(Feb 20 2020 at 02:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191401">Eric Haas</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604496" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604496">said</a>:</p>
<blockquote>
<p>I still don't see how that fixes the issue of mixing and matching CUD within the message?</p>
</blockquote>
<p>:-) it seems like a hack to me... get around a prohibition by encapuslation of that problem</p>



<a name="188604568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604568">(Feb 20 2020 at 02:08)</a>:</h4>
<p>I actually do see it now. but I think transaction is what you need</p>



<a name="188604575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604575">(Feb 20 2020 at 02:08)</a>:</h4>
<p>I don't think it is a hack. the semantics are clear: here's a message informing you of my transaction history</p>



<a name="188604581"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604581" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604581">(Feb 20 2020 at 02:08)</a>:</h4>
<blockquote>
<p>history bundle seems to indicate that we must include 'all' which is not what we are wanting</p>
</blockquote>
<p>I'm not finding language that suggests that</p>



<a name="188604583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604583">(Feb 20 2020 at 02:08)</a>:</h4>
<p>instead of history...</p>



<a name="188604585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604585">(Feb 20 2020 at 02:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191401">Eric Haas</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604568" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604568">said</a>:</p>
<blockquote>
<p>I actually do see it now. but I think transaction is what you need</p>
</blockquote>
<p>That would require a change to Subscription to allow us to subscribe to a transaction.</p>



<a name="188604605"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604605" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604605">(Feb 20 2020 at 02:09)</a>:</h4>
<p>transaction within the message</p>



<a name="188604610"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604610" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604610">(Feb 20 2020 at 02:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604581" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604581">said</a>:</p>
<blockquote>
<blockquote>
<p>history bundle seems to indicate that we must include 'all' which is not what we are wanting</p>
</blockquote>
<p>I'm not finding language that suggests that</p>
</blockquote>
<p>The very first line of the history description "The history interaction retrieves the history of either a particular resource, all resources of a given type, or all resources supported by the system."</p>



<a name="188604615"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604615" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604615">(Feb 20 2020 at 02:10)</a>:</h4>
<p>nah you wouldn't have to do that. can still put a transaction in a message. but given what you've said - the recipient decides how to handle the record of waht happened on the server - it's not a transction</p>



<a name="188604666"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604666" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604666">(Feb 20 2020 at 02:10)</a>:</h4>
<p>then why make a request?</p>



<a name="188604673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604673">(Feb 20 2020 at 02:10)</a>:</h4>
<p>that language isn't meant to mean that it's  comprehensive. Particularly given that one of the parameters is :</p>
<blockquote>
<p><code>_since : instant</code> Only include resource versions that were created at or after the given instant in time</p>
</blockquote>



<a name="188604676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604676">(Feb 20 2020 at 02:10)</a>:</h4>
<p>with History</p>



<a name="188604753"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604753" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604753">(Feb 20 2020 at 02:11)</a>:</h4>
<p>okay we can use history with the _since parameter</p>



<a name="188604760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604760">(Feb 20 2020 at 02:11)</a>:</h4>
<p>Eric I don't know what you are stating or asking and to whom</p>



<a name="188604761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604761">(Feb 20 2020 at 02:11)</a>:</h4>
<p>umm. the _since parameter is on the request. I thought you were pushing the history, not making a request ?</p>



<a name="188604798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604798">(Feb 20 2020 at 02:12)</a>:</h4>
<p>yes we are pushing the history</p>



<a name="188604808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604808">(Feb 20 2020 at 02:12)</a>:</h4>
<p>Loosen up Bundle.entry.request to allow for messaging  is how this thread started.</p>



<a name="188604819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604819">(Feb 20 2020 at 02:13)</a>:</h4>
<p>so, presumably the push message includes the lastUpdated somewhere?</p>



<a name="188604820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604820">(Feb 20 2020 at 02:13)</a>:</h4>
<p>So I assume you want to use Bundle.entry.request to instruct how to process the history bundles</p>



<a name="188604821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604821">(Feb 20 2020 at 02:13)</a>:</h4>
<p>the message covers times from x to y, right?</p>



<a name="188604822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604822">(Feb 20 2020 at 02:13)</a>:</h4>
<p>you have both times in the message?</p>



<a name="188604829"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604829" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604829">(Feb 20 2020 at 02:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191401">Eric Haas</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604820" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604820">said</a>:</p>
<blockquote>
<p>So I assume you want to use Bundle.entry.request to instruct how to process the history bundles</p>
</blockquote>
<p>No, we are past that</p>



<a name="188604833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604833">(Feb 20 2020 at 02:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191401">Eric Haas</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604820" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604820">said</a>:</p>
<blockquote>
<p>So I assume you want to use Bundle.entry.request to instruct how to process the history bundles</p>
</blockquote>
<p>when the bundle is a message...</p>



<a name="188604875"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604875" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604875">(Feb 20 2020 at 02:14)</a>:</h4>
<p>OK I missed that bit thanks <span class="user-mention" data-user-id="192685">@Vassil Peytchev</span></p>



<a name="188604876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604876">(Feb 20 2020 at 02:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192685">Vassil Peytchev</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604829" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604829">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191401">Eric Haas</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604820" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604820">said</a>:</p>
<blockquote>
<p>So I assume you want to use Bundle.entry.request to instruct how to process the history bundles</p>
</blockquote>
<p>No, we are past that</p>
</blockquote>
<p>im willing to have advocates for my desire</p>



<a name="188604878"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604878" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604878">(Feb 20 2020 at 02:14)</a>:</h4>
<p>The self link on the history should indicate what the '_since' value was, I believe?</p>



<a name="188604952"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604952" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604952">(Feb 20 2020 at 02:16)</a>:</h4>
<blockquote>
<p>im willing to have advocates for my desire</p>
</blockquote>
<p>I believe the original intended use of message to be an abomination, so lets not go back there :-) I apologize for not  paying<br>
 attention.</p>



<a name="188604980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188604980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188604980">(Feb 20 2020 at 02:17)</a>:</h4>
<p>so, I think I hear consensus that we continue to use a Message, but it has one entry which is a History Bundle carrying what we are trying to carry today. Right?</p>



<a name="188605029"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605029" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605029">(Feb 20 2020 at 02:18)</a>:</h4>
<p>we get around the history instance on all of a type because the messageHeader sets the context of what all because all is not all of that type (Patient) within the sender</p>



<a name="188605032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605032">(Feb 20 2020 at 02:18)</a>:</h4>
<p>Since the profile stated you can have multiple patients, it is a History Bundle per patient</p>



<a name="188605037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605037">(Feb 20 2020 at 02:18)</a>:</h4>
<p>reasonable approach... I think.. and similar to an alternative we worked up today</p>



<a name="188605063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605063">(Feb 20 2020 at 02:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192685">Vassil Peytchev</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188605032" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188605032">said</a>:</p>
<blockquote>
<p>Since the profile stated you can have multiple patients, it is a History Bundle per patient</p>
</blockquote>
<p>will you be at the face-to-face thursday? We looked for you today.</p>



<a name="188605077"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605077" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605077">(Feb 20 2020 at 02:19)</a>:</h4>
<p>Already gone, but I can dial in</p>



<a name="188605084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605084">(Feb 20 2020 at 02:19)</a>:</h4>
<blockquote>
<p>we continue to use a Message, but it has one entry which is a History Bundle carrying what we are trying to carry today</p>
</blockquote>
<p>yes</p>



<a name="188605109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605109">(Feb 20 2020 at 02:20)</a>:</h4>
<p>okay. I don't know when or if we do it on friday. so Ill let you know</p>



<a name="188605129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605129">(Feb 20 2020 at 02:20)</a>:</h4>
<blockquote>
<p>we get around the history instance on all of a type because the messageHeader sets the context of what all because all is not all of that type (Patient) within the sender</p>
</blockquote>
<p>I have no idea what this sentence means</p>



<a name="188605138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605138">(Feb 20 2020 at 02:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188605129" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188605129">said</a>:</p>
<blockquote>
<blockquote>
<p>we get around the history instance on all of a type because the messageHeader sets the context of what all because all is not all of that type (Patient) within the sender</p>
</blockquote>
<p>I have no idea what this sentence means</p>
</blockquote>
<p>3.1.0.12 history <br>
The history interaction retrieves the history of either a particular resource, all resources of a given type, or all resources supported by the system.</p>



<a name="188605148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605148">(Feb 20 2020 at 02:21)</a>:</h4>
<p>the "all" part of that is problematic if read strictly</p>



<a name="188605153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605153">(Feb 20 2020 at 02:21)</a>:</h4>
<p>But that is why you have a history per patient resource</p>



<a name="188605156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605156">(Feb 20 2020 at 02:21)</a>:</h4>
<p>you gave the solution of using the timeframe indicated in the message header</p>



<a name="188605161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605161">(Feb 20 2020 at 02:21)</a>:</h4>
<p>so I think you're confused between the interaction that fetches the history. and the rules for a history bundle</p>



<a name="188605200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605200">(Feb 20 2020 at 02:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192685">Vassil Peytchev</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188605153" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188605153">said</a>:</p>
<blockquote>
<p>But that is why you have a history per patient resource</p>
</blockquote>
<p>are you meaning we can only have ONE patient per message?</p>



<a name="188605204"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605204" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605204">(Feb 20 2020 at 02:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188605161" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188605161">said</a>:</p>
<blockquote>
<p>so I think you're confused between the interaction that fetches the history. and the rules for a history bundle</p>
</blockquote>
<p>Im reading the FHIR spec</p>



<a name="188605209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605209">(Feb 20 2020 at 02:22)</a>:</h4>
<p>No, you have multiple history bundles, each per patient</p>



<a name="188605243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605243">(Feb 20 2020 at 02:23)</a>:</h4>
<p>you can build an arbitrary history bundle that has any combination of history entries that you want. There's no way to ask a server for that combination using REST, but that doesn't mean you can't specify for it to be built some other way</p>



<a name="188605262"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605262" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605262">(Feb 20 2020 at 02:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192685">Vassil Peytchev</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188605209" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188605209">said</a>:</p>
<blockquote>
<p>No, you have multiple history bundles, each per patient</p>
</blockquote>
<p>really? that is even more ugly... wrapping each patient in their own bundle?</p>



<a name="188605268"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605268" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605268">(Feb 20 2020 at 02:23)</a>:</h4>
<p>you don't need to do that.</p>



<a name="188605270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605270">(Feb 20 2020 at 02:23)</a>:</h4>
<blockquote>
<p>sorted with oldest versions last, and including deleted resources</p>
</blockquote>



<a name="188605314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605314">(Feb 20 2020 at 02:24)</a>:</h4>
<p>those rules apply to the bundle, I think</p>



<a name="188605333"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605333" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605333">(Feb 20 2020 at 02:24)</a>:</h4>
<p>RIght now, MessgeHeader.focus is 1..* Patient. I was thinking you can just change the reference to bundle, but reading Grahame's reply, you don't have to.</p>



<a name="188605342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605342">(Feb 20 2020 at 02:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188605243" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188605243">said</a>:</p>
<blockquote>
<p>you can build an arbitrary history bundle that has any combination of history entries that you want. There's no way to ask a server for that combination using REST, but that doesn't mean you can't specify for it to be built some other way</p>
</blockquote>
<p>Ill put a footnote to the reader that I am sure will complain about "all"</p>



<a name="188605344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605344">(Feb 20 2020 at 02:25)</a>:</h4>
<p>MessageHeader.focus will have to Bundle, yes</p>



<a name="188605356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605356">(Feb 20 2020 at 02:25)</a>:</h4>
<p>One History Bundle that may contain 1..* different Patients... right?</p>



<a name="188605409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605409">(Feb 20 2020 at 02:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188605344" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188605344">said</a>:</p>
<blockquote>
<p>MessageHeader.focus will have to Bundle, yes</p>
</blockquote>
<p>Single Bundle, magically built to contain histories of multiple patients (which is OK).</p>



<a name="188605436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605436">(Feb 20 2020 at 02:27)</a>:</h4>
<blockquote>
<p>One History Bundle that may contain 1..* different Patients... right?</p>
</blockquote>
<p>yes</p>



<a name="188605484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605484">(Feb 20 2020 at 02:28)</a>:</h4>
<p>Vassil are you suggesting that we should also allow replication at the message set of bundles? So many patients might be many history bundles with each only one patient, or could be one history bundle with many patients ... is this because you percieve one imlementation as easier?</p>



<a name="188605489"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605489" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605489">(Feb 20 2020 at 02:28)</a>:</h4>
<p>Im all for easier... but multiple levels of replication is harder on the recipient</p>



<a name="188605495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605495">(Feb 20 2020 at 02:29)</a>:</h4>
<p>IHE we like to choose ONE</p>



<a name="188605551"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605551" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605551">(Feb 20 2020 at 02:30)</a>:</h4>
<p>Not at all, I am simply restating Grahame's suggestion, with the focus on that certain person who will complain about the "all".</p>



<a name="188605564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605564">(Feb 20 2020 at 02:31)</a>:</h4>
<p>ah.. I have the zulip URL to include in the footnote</p>



<a name="188605566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605566">(Feb 20 2020 at 02:31)</a>:</h4>
<p>:-)</p>



<a name="188605622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188605622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188605622">(Feb 20 2020 at 02:32)</a>:</h4>
<p>thanks... we will look again in the morning to see if you all change your mind</p>



<a name="188651785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Message%20forbids%20entry.request%20and%20entry.response/near/188651785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse.html#188651785">(Feb 20 2020 at 16:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191404">John Moehrke</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604585" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604585">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191401">Eric Haas</span> <a href="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604568" title="#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Message.20forbids.20entry.2Erequest.20and.20entry.2Eresponse/near/188604568">said</a>:</p>
<blockquote>
<p>I actually do see it now. but I think transaction is what you need</p>
</blockquote>
<p>That would require a change to Subscription to allow us to subscribe to a transaction.</p>
</blockquote>
<p>FYI, there are a lot of changes to Subscription in progress.  This should be possible in the new version.<br>
Also of note, there is a lot of discussion around what the notification bundle will be (specifically, the current plan is a new bundle type - I believe the FHIR-I call on Monday will have some discussion around that vs. messaging).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
