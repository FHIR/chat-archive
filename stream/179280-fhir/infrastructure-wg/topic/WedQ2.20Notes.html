---
layout: page
title: "FHIR Chat  · WedQ2 Notes · fhir/infrastructure-wg"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/index.html">fhir/infrastructure-wg</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html">WedQ2 Notes</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="176013799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176013799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176013799">(Sep 18 2019 at 15:05)</a>:</h4>
<h2><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22770" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22770">GF#22770</a> Server response when a client tries to create a duplicate patient</h2>



<a name="176014076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176014076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176014076">(Sep 18 2019 at 15:08)</a>:</h4>
<p>Current behavior in epic: when a client tries to POST a patient that matches an existing record: acts like it was created (201)</p>
<ul>
<li>(-) philosophically impure</li>
<li>(-) may be differences between the supplied data, or imperfect matches</li>
<li>(-) may lose desired changes (... but ignoring some data on POST is generally allowed)</li>
<li>(+) a naive client can "just work"</li>
</ul>



<a name="176014221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176014221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176014221">(Sep 18 2019 at 15:10)</a>:</h4>
<p>Cerner has somewhat similar behavior not for Patient, but for Allergies (return a 201 on POST, with a location header pointing to a pre-existing AllergyIntolerance record).</p>



<a name="176014343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176014343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176014343">(Sep 18 2019 at 15:11)</a>:</h4>
<p>Other kinds of special handling for <code>create</code> include for patient-entered data, which might need to be reviewed by a clinician first.</p>



<a name="176014834"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176014834" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176014834">(Sep 18 2019 at 15:17)</a>:</h4>
<p>Clients might create duplicate records, but the server may have better / more accurate / more consistent logic for matching.</p>



<a name="176015006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176015006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176015006">(Sep 18 2019 at 15:19)</a>:</h4>
<p>Functionally, it's convenient for servers/clients to implement create as "create or get".</p>



<a name="176018942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176018942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176018942">(Sep 18 2019 at 16:03)</a>:</h4>
<p>Passed: </p>
<blockquote>
<p>Danielle Friend/Dennis Patterson: 9-0-1</p>
</blockquote>



<a name="176019051"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176019051" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176019051">(Sep 18 2019 at 16:04)</a>:</h4>
<h1><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=23819" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=23819">GF#23819</a> create a set of common timezones</h1>



<a name="176019138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176019138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176019138">(Sep 18 2019 at 16:05)</a>:</h4>
<p>Eric: Clients have difficulty displaying appropriate timezones; they might learn offsets without knowing the location in which events occurred.</p>



<a name="176019239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176019239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176019239">(Sep 18 2019 at 16:06)</a>:</h4>
<ul>
<li>One issue is user display: how to pick the right time zone (can't do so if you only know with an <code>instant</code> or <code>dateTime</code> is an offset)</li>
</ul>



<a name="176019314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176019314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176019314">(Sep 18 2019 at 16:07)</a>:</h4>
<ul>
<li>This is important for showing historical data about care, e.g. when care was provisioned somewhere else from where the user is viewing information</li>
</ul>



<a name="176019385"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176019385" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176019385">(Sep 18 2019 at 16:08)</a>:</h4>
<ul>
<li>An existing "<a href="http://build.fhir.org/extension-tz-code.html" target="_blank" title="http://build.fhir.org/extension-tz-code.html">http://build.fhir.org/extension-tz-code.html</a>"</li>
</ul>



<a name="176028217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176028217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176028217">(Sep 18 2019 at 17:49)</a>:</h4>
<p>Sorry to go back to something that you've already voted on but <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22770" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22770">GF#22770</a> if you updated rather than created, shouldn't  you return a 200 rather than a 201?</p>



<a name="176028386"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176028386" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176028386">(Sep 18 2019 at 17:50)</a>:</h4>
<p>Philosophically, yes.</p>



<a name="176028417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176028417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176028417">(Sep 18 2019 at 17:51)</a>:</h4>
<p>The reasoning was to make it as easy as possible for clients.</p>



<a name="176028465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176028465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176028465">(Sep 18 2019 at 17:51)</a>:</h4>
<p>If a lightweight client needs there to be a patient so it can schedule an appointment or file an observation, it likely doesn't care whether it got a new client or an existing one.</p>



<a name="176028557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176028557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176028557">(Sep 18 2019 at 17:52)</a>:</h4>
<p>We discussed letting clients use <code>Prefer: handling=strict</code> to indicate that they didn't want the server to do this;</p>



<a name="176028573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176028573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176028573">(Sep 18 2019 at 17:52)</a>:</h4>
<p>and I'd support a proposal to add that to the http page.</p>



<a name="176028603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176028603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176028603">(Sep 18 2019 at 17:53)</a>:</h4>
<p>Wasn't suggesting changing to prevent it, just to get a more accurate return code.</p>



<a name="176028625"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176028625" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176028625">(Sep 18 2019 at 17:53)</a>:</h4>
<p>Want me to log another tracker for this? Or can I leave you with it?</p>



<a name="176028707"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176028707" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176028707">(Sep 18 2019 at 17:54)</a>:</h4>
<p>How likely is it (honest question - I don't know) that a client would expect a 201, get a 200, and react unpredictably?</p>



<a name="176035667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176035667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176035667">(Sep 18 2019 at 19:08)</a>:</h4>
<p>Highly unlikely I would think.</p>



<a name="176035698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/WedQ2%20Notes/near/176035698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/WedQ2.20Notes.html#176035698">(Sep 18 2019 at 19:09)</a>:</h4>
<p>The dotnet client would behave the same, you'd have to go looking in the status result to see any difference.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
