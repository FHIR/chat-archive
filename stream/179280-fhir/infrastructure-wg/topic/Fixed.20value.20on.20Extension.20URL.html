---
layout: page
title: "FHIR Chat  · Fixed value on Extension URL · fhir/infrastructure-wg"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/index.html">fhir/infrastructure-wg</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Fixed.20value.20on.20Extension.20URL.html">Fixed value on Extension URL</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="208804507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Fixed%20value%20on%20Extension%20URL/near/208804507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthijs van der Wielen <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Fixed.20value.20on.20Extension.20URL.html#208804507">(Sep 02 2020 at 10:32)</a>:</h4>
<p>When an extension is added to a profile, the url for that extension becomes a fixed value, so canonical versioning in extension urls is not allowed.<br>
The only thing we were able to find about this in the spec is that the URL of the extension (<a href="https://www.hl7.org/fhir/extensibility-definitions.html#Extension.url">https://www.hl7.org/fhir/extensibility-definitions.html#Extension.url</a>) is of type uri and not of type canonical. So | has no special meaning.</p>
<p>When the derived profile states:<br>
        &lt;element id="Patient.extension:birthPlace"&gt;<br>
            &lt;path value="Patient.extension" /&gt;<br>
            &lt;sliceName value="birthPlace" /&gt;<br>
            &lt;min value="1" /&gt;<br>
            &lt;type&gt;<br>
                &lt;code value="Extension" /&gt;<br>
                &lt;profile value="<a href="http://hl7.org/fhir/StructureDefinition/patient-birthPlace">http://hl7.org/fhir/StructureDefinition/patient-birthPlace</a>" /&gt;<br>
            &lt;/type&gt;<br>
        &lt;/element&gt;</p>
<p>An instance can't say that it wants to use a specific version of that extension like this:<br>
 &lt;extension url="<a href="http://hl7.org/fhir/StructureDefinition/patient-birthPlace|4.0.1">http://hl7.org/fhir/StructureDefinition/patient-birthPlace|4.0.1</a>"&gt;<br>
        &lt;valueAddress&gt;<br>
            &lt;text value="MakeUpStreet 845" /&gt;<br>
        &lt;/valueAddress&gt;</p>
<p>The instance literally refers to the extension with the set uri, so the extension uri with |4.0.1 added is not valid. </p>
<p>Can a case be made that the spec can say something like: "Fixed" values for canonicals could be treated as "somewhat fixed"?</p>



<a name="208804930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Fixed%20value%20on%20Extension%20URL/near/208804930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Fixed.20value.20on.20Extension.20URL.html#208804930">(Sep 02 2020 at 10:37)</a>:</h4>
<p>This is deliberately different; the meaning of the extension must be established by a version-less reference to the extension. If the extension changes so that this is not enough, it's time for a different extension.</p>



<a name="208805017"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Fixed%20value%20on%20Extension%20URL/near/208805017" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Fixed.20value.20on.20Extension.20URL.html#208805017">(Sep 02 2020 at 10:38)</a>:</h4>
<p>but you can version a reference to an extension in the profile when you reference it, as you you show. So for validation purposes, you be specific about which versions.</p>



<a name="208820955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Fixed%20value%20on%20Extension%20URL/near/208820955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthijs van der Wielen <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Fixed.20value.20on.20Extension.20URL.html#208820955">(Sep 02 2020 at 13:13)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ,<br>
Would this mean that the validator would need to infer the correct version from the profile?</p>



<a name="208821029"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Fixed%20value%20on%20Extension%20URL/near/208821029" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Fixed.20value.20on.20Extension.20URL.html#208821029">(Sep 02 2020 at 13:13)</a>:</h4>
<p>it will when validating, yes</p>



<a name="208921575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/Fixed%20value%20on%20Extension%20URL/near/208921575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Maximilian Reith <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/Fixed.20value.20on.20Extension.20URL.html#208921575">(Sep 03 2020 at 05:09)</a>:</h4>
<p><span class="user-mention" data-user-id="259036">@Matthijs van der Wielen</span> Thank you for checking this</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
