---
layout: page
title: "FHIR Chat  · SPs · fhir/infrastructure-wg"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/index.html">fhir/infrastructure-wg</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html">SPs</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="163775124"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/163775124" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#163775124">(Apr 19 2019 at 23:52)</a>:</h4>
<p>To FHIR-I folks I have alway pushed to just create SPs for all elements,  I don't see the harm in just stating  and listing a FHIR SP for every @#$ element in the spec?  They can be autogenerated far as I can tell.  Then the composites or special ones can be hashed out by the work groups and can black llist the ones they don't want ( although I don't see why you would do that - just don't implement  them)   this would eliminate WG overhead and maintenance in managing SP requests.</p>



<a name="163775153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/163775153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#163775153">(Apr 19 2019 at 23:53)</a>:</h4>
<p>That + getting rid of RIM mappings and Xpath2 and I'll be happy   ;-)</p>



<a name="163775241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/163775241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#163775241">(Apr 19 2019 at 23:56)</a>:</h4>
<p>Search parameters should, in principle, reflect the 80%.  The ones we define provide an indication to server implementers what they should seriously consider supporting and give an indication to clients what types of SPs are most likely to exist in the servers they encounter.  Algorithmically generating them for everything wouldn't help the implementation community.  And it's their lives we're trying to make easier, not ours.  In addition, when designing search parameters, there's often cognative effort required to figure out when SPs should be compositional, what type to use, whether anything special needs to be done in the path expression, whether one parameter should search multiple paths, etc.</p>



<a name="163775295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/163775295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#163775295">(Apr 19 2019 at 23:56)</a>:</h4>
<p>XPath2 will go away soon.  And you can sell me on removing RIM much more easily than auto-generating search parameters.</p>



<a name="163834025"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/163834025" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#163834025">(Apr 21 2019 at 04:22)</a>:</h4>
<p>I seriously doubt there is much consideration in making up sps.   i make a wild ass guess based on what seems reasonable or just list all the elements or all the pattern and then wait for trackers to come trickling in.  It really seems easier the other way let the server decide the 80% for themselves.</p>



<a name="163834094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/163834094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#163834094">(Apr 21 2019 at 04:24)</a>:</h4>
<p>trackers trickling on SPs is becoming annoying and considering takes up to 18 months and a new version not very efficient.</p>



<a name="163838168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/163838168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#163838168">(Apr 21 2019 at 06:28)</a>:</h4>
<p>It's not really any different than new data elements.  I agree that search parameters don't get enough attention (both in terms of which shouldn't be there as well as which should), but that isn't a reason to make the situation worse.  Again, our focus needs to be on what will make the spec most useful to implementers, not what's less fuss for us.  (And defining new SPs isn't really any more work than defining new extensions - and we do as many or more of those.)</p>



<a name="164120350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164120350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164120350">(Apr 24 2019 at 21:11)</a>:</h4>
<p>I'm sympathetic to both sides here. If generating even some/most search params was a rote operation (i.e., names and types could be automatically determined from the path), we'd avoid the situation where the <em>lack</em> of a search param led to different servers creating their own with slight differences.</p>



<a name="164120594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164120594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164120594">(Apr 24 2019 at 21:15)</a>:</h4>
<p>I think that's less of a problem than implementers having no guidance about what's reasonable to support.</p>



<a name="164120603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164120603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164120603">(Apr 24 2019 at 21:15)</a>:</h4>
<p>And the latter can always be rectified in the next version.</p>



<a name="164121294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164121294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164121294">(Apr 24 2019 at 21:25)</a>:</h4>
<p>And search parameters are easy to pre-adopt.</p>



<a name="164127209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164127209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164127209">(Apr 24 2019 at 22:57)</a>:</h4>
<p>The truth is though that the complete set of search parameters we define today is <em>big</em>, and different ones are important in different contexts. Mostly I've seen servers treat them entirely generically (like HAPI) or very selectively (like, say, servers following guidance in the US Core IG).</p>



<a name="164127224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164127224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164127224">(Apr 24 2019 at 22:57)</a>:</h4>
<p>It's not clear that our selectivity is providing value for either group. But I'm open to arguments otherwise...</p>



<a name="164131762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164131762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164131762">(Apr 25 2019 at 00:15)</a>:</h4>
<p>more search parameters = more strorage + more commit time</p>



<a name="164284715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164284715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164284715">(Apr 26 2019 at 18:10)</a>:</h4>
<p>How many cases have you folks heard of where a client wanted to use a search parameter that one or more EHRs don't support? I worry that the more search parameters we have the higher the odds of clients needing ones that aren't there.  </p>
<p>I think Lloyd's point about focus is a good one.</p>



<a name="164296314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164296314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164296314">(Apr 26 2019 at 20:43)</a>:</h4>
<p>(I'm all for focus; I'm just not sure it's helpful in the core spec here. I wish defining most search parameters didn't require deciding on things like what to call them.)</p>



<a name="164297538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164297538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164297538">(Apr 26 2019 at 21:01)</a>:</h4>
<p>Well, technically servers are free to call them different things, but doing that would confuse people.  We need to come up with names for data elements too - not sure why coming up with ids and recommended codes for search parameters would be any different.</p>



<a name="164301670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164301670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164301670">(Apr 26 2019 at 22:04)</a>:</h4>
<p>Just because we already <em>must</em> come up with standardized names for the elements; that's the core structure of our resource definitions.</p>



<a name="164301727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164301727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164301727">(Apr 26 2019 at 22:04)</a>:</h4>
<p>And then we come with names for <em>some</em> search parameters.</p>



<a name="164301737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164301737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164301737">(Apr 26 2019 at 22:04)</a>:</h4>
<p>I don't feel super strongly about this, but I get <span class="user-mention" data-user-id="191401">@Eric Haas</span>'s frustration.</p>



<a name="164449738"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164449738" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164449738">(Apr 29 2019 at 13:02)</a>:</h4>
<p>We come up with names for <em>some</em> elements too - the 80% rule guides that and is supposed to guide our definition of search parameters too.  Others are free to define additional search parameters just as they're free to define extensions.</p>



<a name="164592467"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164592467" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164592467">(May 01 2019 at 01:43)</a>:</h4>
<p>Is <a href="http://wiki.hl7.org/index.php?title=FHIR_Guide_to_Designing_Resources#What_search_parameters_should_be_included_in_a_resource.3F" target="_blank" title="http://wiki.hl7.org/index.php?title=FHIR_Guide_to_Designing_Resources#What_search_parameters_should_be_included_in_a_resource.3F">http://wiki.hl7.org/index.php?title=FHIR_Guide_to_Designing_Resources#What_search_parameters_should_be_included_in_a_resource.3F</a> the places where this methodology is (supposed to be) documented, or is this page orphaned?</p>



<a name="164592471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164592471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164592471">(May 01 2019 at 01:44)</a>:</h4>
<p>(We don't say much about <em>when</em> to define a search param there; if that's the official guidance, I'll at least put in a tracker on this topic.)</p>



<a name="164594229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164594229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164594229">(May 01 2019 at 02:23)</a>:</h4>
<p>That's what we have - hasn't been touched in 3+ years.</p>



<a name="164637373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164637373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164637373">(May 01 2019 at 16:47)</a>:</h4>
<p>So my thinking is that every element ( and extensions) gets and out of the box base SP that can be derivedFrom.    Maybe I'm going down a rathole but I think is useful for conformance and testing to pinpoint what you must support at this level of detail of the sp and deriving sp from the standard promotes a heck of lot more interoperability than everybody creating custom sp on there own.   This is less about usage and more about when is used they all look the same and have consistent names</p>



<a name="164637654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164637654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164637654">(May 01 2019 at 16:51)</a>:</h4>
<p>I don't think we should define anything we don't think most systems will support.  It's easy enough for implementers to define their own if they need them.  Defining them in bulk to save 20 minutes of development time isn't a good tradeoff.</p>



<a name="164638619"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164638619" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164638619">(May 01 2019 at 17:05)</a>:</h4>
<p>So </p>
<ul>
<li>I define sp -x  as  "foo" </li>
<li>you define the same as "bar" </li>
</ul>
<p>and they are defined similary but not the same and they do they same thing.  I don't think that scenario is good</p>



<a name="164638722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164638722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164638722">(May 01 2019 at 17:06)</a>:</h4>
<p>naming and renaming things is a pain and I think it would be useful</p>



<a name="164638744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164638744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164638744">(May 01 2019 at 17:06)</a>:</h4>
<p>to have a catalog of sp's built into the resource</p>



<a name="164639956"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164639956" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164639956">(May 01 2019 at 17:25)</a>:</h4>
<p>Really, we need a differentiation between 'core' and 'extension' search parameters.  However, even the extension ones shouldn't be auto-generated.  Someone needs to think about what paths make sense, whether it should be compositional or not, what the appropriate type is, etc.  And there are some things that just don't make sense to search.</p>



<a name="164639964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179280-fhir/infrastructure-wg/topic/SPs/near/164639964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179280-fhir/infrastructure-wg/topic/SPs.html#164639964">(May 01 2019 at 17:25)</a>:</h4>
<p>(E.g. Patient.contact.gender)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
