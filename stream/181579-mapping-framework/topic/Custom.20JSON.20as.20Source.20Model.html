---
layout: page
title: "FHIR Chat  · Custom JSON as Source Model · mapping-framework"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/index.html">mapping-framework</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/Custom.20JSON.20as.20Source.20Model.html">Custom JSON as Source Model</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="260003227"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/Custom%20JSON%20as%20Source%20Model/near/260003227" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kailash <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/Custom.20JSON.20as.20Source.20Model.html#260003227">(Nov 02 2021 at 14:32)</a>:</h4>
<p>Hi All, <br>
I am trying to transform a simple JSON patient data to FHIR Patient resource, <br>
Is there any help for JSON as source to understand the complete transformation execution, like we have help for xml as source and destination - <a href="https://github.com/ahdis/fhir-mapping-tutorial">https://github.com/ahdis/fhir-mapping-tutorial</a>.<br>
Thanks</p>



<a name="260038120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/Custom%20JSON%20as%20Source%20Model/near/260038120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/Custom.20JSON.20as.20Source.20Model.html#260038120">(Nov 02 2021 at 18:29)</a>:</h4>
<p>you can do it the same way, define a Logical Model (StructureDefinition) for your JSON patient data and then you use for the source encoding json instead of xml</p>



<a name="260088376"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/Custom%20JSON%20as%20Source%20Model/near/260088376" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kailash <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/Custom.20JSON.20as.20Source.20Model.html#260088376">(Nov 03 2021 at 04:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191478">@Oliver Egger</span> thanks, I follow the same XML approach but I am getting below error while transforming custom JSON using HL7 validator - </p>
<p>Load file location* <br>
load file: SourceModel.json - ignored due to error: Unable to find resource type - maybe not a FHIR resource?</p>
<ul>
<li>2 resources (00:00.0114)<br>
  Get set...  go (00:00.0059)<br>
 ...Failure: Unable to find resourceType property at line -1 col -1<br>
org.hl7.fhir.exceptions.FHIRFormatError: Unable to find resourceType property at line -1 col -1<br>
        at org.hl7.fhir.r5.elementmodel.ParserBase.logError(ParserBase.java:99)<br>
        at org.hl7.fhir.r5.elementmodel.JsonParser.parse(JsonParser.java:140)<br>
        at org.hl7.fhir.r5.elementmodel.JsonParser.parse(JsonParser.java:128)<br>
        at org.hl7.fhir.r5.elementmodel.Manager.parse(Manager.java:86)<br>
        at org.hl7.fhir.validation.ValidationEngine.transform(ValidationEngine.java:396)<br>
        at org.hl7.fhir.validation.ValidationEngine.transform(ValidationEngine.java:390)<br>
        at org.hl7.fhir.validation.cli.services.ValidationService.transform(ValidationService.java:178)<br>
        at org.hl7.fhir.validation.ValidatorCli.doValidation(ValidatorCli.java:207)<br>
        at org.hl7.fhir.validation.ValidatorCli.main(ValidatorCli.java:159)<br>
Done. Times: Loading: 00:18.0569. Max Memory = 1Gb</li>
</ul>
<p>Do I need to add "resourceType" element to JSON data? so that it reflect as per logical structure definition type, this issue is not with XML input as XML do have root element and we can take that as logical structure definition type.</p>



<a name="260098166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/Custom%20JSON%20as%20Source%20Model/near/260098166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/Custom.20JSON.20as.20Source.20Model.html#260098166">(Nov 03 2021 at 07:42)</a>:</h4>
<p><span class="user-mention" data-user-id="263322">@Kailash</span> that sounds like the json parser cannot handle logical model json instances, would it be possible for you to provide a testcase for the validator? <a href="https://github.com/hapifhir/org.hl7.fhir.core/tree/master/org.hl7.fhir.validation/src/test/java/org/hl7/fhir/validation/tests/manifest.json">https://github.com/hapifhir/org.hl7.fhir.core/tree/master/org.hl7.fhir.validation/src/test/java/org/hl7/fhir/validation/tests/manifest.json</a></p>



<a name="260105138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/Custom%20JSON%20as%20Source%20Model/near/260105138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kailash <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/Custom.20JSON.20as.20Source.20Model.html#260105138">(Nov 03 2021 at 09:04)</a>:</h4>
<p>Thanks, I am not sure about the process, I am providing all files here for the use case including source JSON data, created Logical model and Map. <br>
Let me know if any issue in those files or as you mentioned it could be validator issue. <a href="/user_uploads/10155/YDovZnmXQIXOV-gjhwSyn1d2/sampleDemo.zip">sampleDemo.zip</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
