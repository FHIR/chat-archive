---
layout: page
title: "FHIR Chat  · deletion of target elements · mapping-framework"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/index.html">mapping-framework</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/deletion.20of.20target.20elements.html">deletion of target elements</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="175819892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/deletion%20of%20target%20elements/near/175819892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/deletion.20of.20target.20elements.html#175819892">(Sep 16 2019 at 14:56)</a>:</h4>
<p>After dipping my toes into the mapping framework yesterday, the following scenario came up:<br>
Assuming I want to copy a complex element from source to target (think: MedicationStatement.dosage)<br>
and afterwards I want to delete a single element from the target (think: MedicationStatement.dosage.patientInstruction), how would I do that?<br>
Is there something like a <code>null</code> element that I can copy to a target element in order to delete nodes?</p>



<a name="175822751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/deletion%20of%20target%20elements/near/175822751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/deletion.20of.20target.20elements.html#175822751">(Sep 16 2019 at 15:25)</a>:</h4>
<p>The first thing that comes to mind is that this assumes an order of execution (first copy, then remove), and rules can be executed in any order. So, this would mean we should be looking at a solution that does a copy + a delete in the same rule.</p>



<a name="175838516"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/deletion%20of%20target%20elements/near/175838516" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/deletion.20of.20target.20elements.html#175838516">(Sep 16 2019 at 18:26)</a>:</h4>
<p>Something like </p>
<div class="codehilite"><pre><span></span>group deleteFamilyName(source sPat: Patient, target tPat: Patient)
{
    // first copy the name
    sPat.name as sPatName -&gt; tPat.name as tPatName = patName then
    {
        // then delete family name
        sPatName.family -&gt; tPatName.family = null;
    };
}
</pre></div>


<p>or maybe <code>sPatName.family -&gt; tPatName.family = delete();</code> ...?</p>



<a name="175867139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/deletion%20of%20target%20elements/near/175867139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/deletion.20of.20target.20elements.html#175867139">(Sep 17 2019 at 00:57)</a>:</h4>
<p>Yes, I think the dependent scenario (no 1) would work.  Though of course it would erase ALL givens (family does not repeat, but say we used given), then <code>tPatName.given  = null</code> would erase all.  How likely is it that someone would want to erase a subset.  Maybe given is a bad example, say we copy Patient.identifier, and we want to remove our hospitals identifier.</p>



<a name="175868574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/deletion%20of%20target%20elements/near/175868574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/deletion.20of.20target.20elements.html#175868574">(Sep 17 2019 at 01:32)</a>:</h4>
<p>I was actually wondering what the syntax would be for that. tPatName.given[0] wouldn’t be allowed, tPatName.given where ($this.index()=0) didn’t work either</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
