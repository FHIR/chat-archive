---
layout: page
title: "FHIR Chat  · mapping engine · mapping-framework"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/index.html">mapping-framework</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html">mapping engine</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="159240013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159240013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159240013">(Feb 23 2019 at 18:27)</a>:</h4>
<p>Has anyone got a mapping engine (free or not) available that can execute maps in the mapping language?</p>



<a name="159246993"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159246993" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159246993">(Feb 23 2019 at 21:47)</a>:</h4>
<p>there's a java version in the reference implementation</p>



<a name="159284058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159284058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159284058">(Feb 24 2019 at 17:32)</a>:</h4>
<p>Is there a description of the parameters to use?</p>



<a name="159305208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159305208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159305208">(Feb 25 2019 at 01:08)</a>:</h4>
<p>I don't think I've documented it well. I'll add it to my todo list</p>



<a name="159306717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159306717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159306717">(Feb 25 2019 at 01:55)</a>:</h4>
<p>Just a simple list of the parameters would be fine - like you had in your blog when you announced it a couple of years back - it's just I got an error using those ones, so not sure what to use...</p>



<a name="159311052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159311052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159311052">(Feb 25 2019 at 04:03)</a>:</h4>
<p>what was the error?</p>



<a name="159317431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159317431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159317431">(Feb 25 2019 at 07:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191321">@David Hay</span> I use the following parameters to execute a transform with the java validator:<br>
 java -jar ./org.hl7.fhir.validation.cli.jar ./qrebida.1.json -ig ./map/qr2pat1.map -transform <a href="http://ahdis.ch/fhir/mappingtutorial/qr2pat1" target="_blank" title="http://ahdis.ch/fhir/mappingtutorial/qr2pat1">http://ahdis.ch/fhir/mappingtutorial/qr2pat1</a> -output ./mapres1.xml -log ./test.log</p>



<a name="159354515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159354515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159354515">(Feb 25 2019 at 17:18)</a>:</h4>
<p>Thanks Oliver - I'll give that a go!</p>



<a name="159867021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159867021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159867021">(Mar 03 2019 at 22:08)</a>:</h4>
<p><a href="http://wiki.hl7.org/index.php?title=Using_the_FHIR_Mapping_Language" target="_blank" title="http://wiki.hl7.org/index.php?title=Using_the_FHIR_Mapping_Language">http://wiki.hl7.org/index.php?title=Using_the_FHIR_Mapping_Language</a></p>



<a name="159868427"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159868427" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159868427">(Mar 03 2019 at 22:48)</a>:</h4>
<p>for the version parameter, are the options STU3, R4 &amp; R5 the correct ones?</p>



<a name="159870689"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159870689" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159870689">(Mar 03 2019 at 23:53)</a>:</h4>
<p>no. updated the doco</p>



<a name="159875125"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159875125" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159875125">(Mar 04 2019 at 01:57)</a>:</h4>
<p>do I need to specify the map file in the command line (as per the tutorial in the spec - <a href="http://hl7.org/fhir/mapping-tutorial.html" target="_blank" title="http://hl7.org/fhir/mapping-tutorial.html">http://hl7.org/fhir/mapping-tutorial.html</a>)? Or will it find it if it is in the folder specified by -ig? It's just a text file - right? ie it's not an instance of StructureMap..</p>



<a name="159875176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159875176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159875176">(Mar 04 2019 at 01:58)</a>:</h4>
<p>Also getting errors: Content is not allowed in prolog - but not telling me which file has the issues...</p>



<a name="159875190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159875190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159875190">(Mar 04 2019 at 01:59)</a>:</h4>
<p>it has to be loaded from an -ig parameter</p>



<a name="159875193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159875193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159875193">(Mar 04 2019 at 01:59)</a>:</h4>
<p>can you give me the stack for Content is not allowed in prolog</p>



<a name="159875282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159875282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159875282">(Mar 04 2019 at 02:01)</a>:</h4>
<p>FHIR Validation tool Version 3.7.5-SNAPSHOT - Built 2019-02-08T17:54:37.739+11:00 - Git f5c592fbadf9<br>
Arguments: ./patient.json -output ./myPatient.json -transform <a href="http://hl7.org/fhir/StructureMap/tutorial" target="_blank" title="http://hl7.org/fhir/StructureMap/tutorial">http://hl7.org/fhir/StructureMap/tutorial</a> -version 3.0.1 -ig ./defs -log ./out.log<br>
  .. connect to tx server @ <a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">http://tx.fhir.org</a><br>
  .. definitions from hl7.fhir.core#3.0.1<br>
    (v3.0.1)<br>
+  .. load IG from ./defs<br>
[Fatal Error] :1:1: Content is not allowed in prolog.<br>
[Fatal Error] :1:1: Content is not allowed in prolog.<br>
Exception in thread "main" java.lang.Error: Unable to find map <a href="http://hl7.org/fhir/StructureMap/tutorial" target="_blank" title="http://hl7.org/fhir/StructureMap/tutorial">http://hl7.org/fhir/StructureMap/tutorial</a><br>
    at org.hl7.fhir.r4.validation.ValidationEngine.transform(ValidationEngine.java:955)<br>
    at org.hl7.fhir.r4.validation.ValidationEngine.transform(ValidationEngine.java:943)<br>
    at org.hl7.fhir.r4.validation.Validator.main(Validator.java:390)</p>



<a name="159875348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159875348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159875348">(Mar 04 2019 at 02:03)</a>:</h4>
<p>'defs' folder has the StructureDefinition for Patient (Xml) and a textfile that has the map (pretty much a copy of the one in the tutorial)</p>



<a name="159875361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159875361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159875361">(Mar 04 2019 at 02:03)</a>:</h4>
<p>patient.json is a Patient instance in the same folder where I invoke the mapping from...</p>



<a name="159875437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159875437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159875437">(Mar 04 2019 at 02:05)</a>:</h4>
<p>what's the file name of the map?</p>



<a name="159875501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159875501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159875501">(Mar 04 2019 at 02:07)</a>:</h4>
<p>patientmap.txt</p>



<a name="159875568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159875568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159875568">(Mar 04 2019 at 02:09)</a>:</h4>
<p>the tool expects *.map not *.txt. but it will be loaded anyway - it's just trying XML first</p>



<a name="159876200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159876200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159876200">(Mar 04 2019 at 02:27)</a>:</h4>
<p>I released a new validator - download the new one and try again - you'll get a more useful error message</p>



<a name="159876274"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159876274" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159876274">(Mar 04 2019 at 02:29)</a>:</h4>
<p>from the r4 site?</p>



<a name="159876280"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159876280" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159876280">(Mar 04 2019 at 02:29)</a>:</h4>
<p>or continuous build..</p>



<a name="159876422"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159876422" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159876422">(Mar 04 2019 at 02:32)</a>:</h4>
<p><a href="http://build.fhir.org/validator.zip" target="_blank" title="http://build.fhir.org/validator.zip">http://build.fhir.org/validator.zip</a>  is a 404 - I'll try again in a couple of mins...</p>



<a name="159876423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159876423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159876423">(Mar 04 2019 at 02:32)</a>:</h4>
<p>from the link in the documentation on that wiki page</p>



<a name="159876430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159876430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159876430">(Mar 04 2019 at 02:32)</a>:</h4>
<p>oh Do'h!</p>



<a name="159876806"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159876806" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159876806">(Mar 04 2019 at 02:45)</a>:</h4>
<p>this is super wierd. </p>
<p>It seems to think the mapping file has a .txt extension - but here's the folder contents:</p>
<p>davids-MacBook-Pro:defs davidhay$ ls -al<br>
total 272<br>
drwxr-xr-x@  5 davidhay  staff     160  4 Mar 15:27 .<br>
drwxr-xr-x@ 10 davidhay  staff     320  4 Mar 15:36 ..<br>
-rw-r--r--@  1 davidhay  staff    6148  4 Mar 14:45 .DS_Store<br>
-rw-r--r--@  1 davidhay  staff     318  4 Mar 14:08 mappatient.map<br>
-rw-r--r--@  1 davidhay  staff  123876  4 Mar 14:52 patientDef.xml</p>
<p>(I tried renaming the map file from the command line and it still thinks it's a .txt)</p>
<p>Error:</p>
<p>FHIR Validation tool Version 3.8.0-SNAPSHOT - Built 2019-02-11T12:49:16.829-05:00 - Git 7a8671008476<br>
Arguments: ./patient.json -output ./myPatient.json -transform <a href="http://hl7.org/fhir/StructureMap/tutorial" target="_blank" title="http://hl7.org/fhir/StructureMap/tutorial">http://hl7.org/fhir/StructureMap/tutorial</a> -version 3.0.1 -ig ./defs -log ./out.log<br>
  .. connect to tx server @ <a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">http://tx.fhir.org</a><br>
  .. definitions from hl7.fhir.core#3.0.1<br>
    (v3.0.1)<br>
+  .. load IG from ./defs<br>
[Fatal Error] :1:1: Content is not allowed in prolog.<br>
Exception in thread "main" java.lang.Exception: Error parsing mappatient.txt: Unsupported format for mappatient.txt<br>
    at org.hl7.fhir.r4.validation.ValidationEngine.loadIg(ValidationEngine.java:692)<br>
    at org.hl7.fhir.r4.validation.Validator.main(Validator.java:373)<br>
Caused by: java.lang.Exception: Unsupported format for mappatient.txt<br>
    at org.hl7.fhir.r4.validation.ValidationEngine.loadIg(ValidationEngine.java:658)</p>



<a name="159876814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159876814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159876814">(Mar 04 2019 at 02:45)</a>:</h4>
<p>Think I'll go and have a cup of tea...</p>



<a name="159878525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159878525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159878525">(Mar 04 2019 at 03:32)</a>:</h4>
<p>tried changing the definitions folder - still the same error.      reads a .map file, but thinks it's a .txt file.   If I specify the file name for -ig then I still get the parsing error, but don't get the prolog error...</p>



<a name="159884561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159884561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159884561">(Mar 04 2019 at 03:53)</a>:</h4>
<p>I don't understand how it can be confused about the file name</p>



<a name="159884733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159884733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159884733">(Mar 04 2019 at 03:58)</a>:</h4>
<p>me neither...  but even when I change the filename - and try a different folder - and specify the name in the command line - it still comes back as .txt. Are there any other options to specify the mapping file?</p>



<a name="159885002"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159885002" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159885002">(Mar 04 2019 at 04:04)</a>:</h4>
<p>ok I see what's happening. Will issue a new version shortly</p>



<a name="159886021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159886021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159886021">(Mar 04 2019 at 04:29)</a>:</h4>
<p>excellent!</p>



<a name="159886585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159886585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159886585">(Mar 04 2019 at 04:42)</a>:</h4>
<p>ok try again</p>



<a name="159887603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159887603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159887603">(Mar 04 2019 at 05:09)</a>:</h4>
<p>sorry: Exception in thread "main" org.hl7.fhir.dstu3.utils.client.EFhirClientException: Error sending Http Request: Connect to tx.fhir.org:80 timed out</p>



<a name="159887608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159887608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159887608">(Mar 04 2019 at 05:10)</a>:</h4>
<p>Ping works OK</p>



<a name="159887664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159887664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159887664">(Mar 04 2019 at 05:10)</a>:</h4>
<p>its rebooting.</p>



<a name="159887746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159887746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159887746">(Mar 04 2019 at 05:13)</a>:</h4>
<p>Sorry: FHIR Validation tool Version 3.8.0-SNAPSHOT - Built 2019-02-11T12:49:16.829-05:00 - Git 7a8671008476<br>
Arguments: ./patient.json -output ./myPatient.json -transform <a href="http://hl7.org/fhir/StructureMap/tutorial" target="_blank" title="http://hl7.org/fhir/StructureMap/tutorial">http://hl7.org/fhir/StructureMap/tutorial</a> -version 3.0.1 -ig ./definition<br>
  .. connect to tx server @ <a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">http://tx.fhir.org</a><br>
  .. definitions from hl7.fhir.core#3.0.1<br>
    (v3.0.1)<br>
+  .. load IG from ./definition<br>
Exception in thread "main" java.lang.Exception: Error parsing mp.txt: Unsupported format for mp.txt</p>



<a name="159887811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159887811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159887811">(Mar 04 2019 at 05:15)</a>:</h4>
<p>still there I'm afraid:</p>
<p>FHIR Validation tool Version 3.8.0-SNAPSHOT - Built 2019-02-11T12:49:16.829-05:00 - Git 7a8671008476<br>
Arguments: ./patient.json -output ./myPatient.json -transform <a href="http://hl7.org/fhir/StructureMap/tutorial" target="_blank" title="http://hl7.org/fhir/StructureMap/tutorial">http://hl7.org/fhir/StructureMap/tutorial</a> -version 3.0.1 -ig ./defs<br>
  .. connect to tx server @ <a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">http://tx.fhir.org</a><br>
  .. definitions from hl7.fhir.core#3.0.1<br>
    (v3.0.1)<br>
+  .. load IG from ./defs<br>
[Fatal Error] :1:1: Content is not allowed in prolog.<br>
Exception in thread "main" java.lang.Exception: Error parsing map.txt: Unsupported format for map.txt<br>
    at org.hl7.fhir.r4.validation.ValidationEngine.loadIg(ValidationEngine.java:692)<br>
    at org.hl7.fhir.r4.validation.Validator.main(Validator.java:373)<br>
Caused by: java.lang.Exception: Unsupported format for map.txt<br>
    at org.hl7.fhir.r4.validation.ValidationEngine.loadIg(ValidationEngine.java:658)</p>



<a name="159887819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159887819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159887819">(Mar 04 2019 at 05:15)</a>:</h4>
<p>defs folder:<br>
davids-MacBook-Pro:mapping davidhay$ cd defs<br>
davids-MacBook-Pro:defs davidhay$ ls -al<br>
total 272<br>
drwxr-xr-x@  5 davidhay  staff     160  4 Mar 15:43 .<br>
drwxr-xr-x@ 11 davidhay  staff     352  4 Mar 18:07 ..<br>
-rw-r--r--@  1 davidhay  staff    6148  4 Mar 14:45 .DS_Store<br>
-rw-r--r--@  1 davidhay  staff     318  4 Mar 14:08 map.map<br>
-rw-r--r--@  1 davidhay  staff  123876  4 Mar 14:52 patientDef.xml</p>



<a name="159887881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159887881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159887881">(Mar 04 2019 at 05:17)</a>:</h4>
<p>btw the build date on the .jar seems old...</p>



<a name="159887936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159887936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159887936">(Mar 04 2019 at 05:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> where does 3.8.0 come from? Where does the build date come from?</p>



<a name="159887951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159887951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159887951">(Mar 04 2019 at 05:19)</a>:</h4>
<p>it really looks like not the latest version to me</p>



<a name="159888029"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/159888029" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#159888029">(Mar 04 2019 at 05:21)</a>:</h4>
<p>and the file size is exactly the same...<br>
bummer...</p>



<a name="160116296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/160116296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#160116296">(Mar 06 2019 at 17:33)</a>:</h4>
<p>Any update?</p>



<a name="160125443"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/160125443" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#160125443">(Mar 06 2019 at 19:16)</a>:</h4>
<p>have you tried again? I was left unsure which version you were using.</p>



<a name="160132637"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/mapping%20engine/near/160132637" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/mapping.20engine.html#160132637">(Mar 06 2019 at 20:42)</a>:</h4>
<p>Yep - same error (unsupported format) - doesn't seem to be recognizing the map.map file...</p>
<p>output from execution:<br>
FHIR Validation tool Version 3.8.0-SNAPSHOT - Built 2019-02-11T12:49:16.829-05:00 - Git 7a8671008476<br>
Arguments: ./patient.json -output ./myPatient.json -transform <a href="http://hl7.org/fhir/StructureMap/tutorial" target="_blank" title="http://hl7.org/fhir/StructureMap/tutorial">http://hl7.org/fhir/StructureMap/tutorial</a> -version 3.0.1 -ig ./defs<br>
  .. connect to tx server @ <a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">http://tx.fhir.org</a><br>
  .. definitions from hl7.fhir.core#3.0.1<br>
    (v3.0.1)<br>
+  .. load IG from ./defs<br>
[Fatal Error] :1:1: Content is not allowed in prolog.<br>
Exception in thread "main" java.lang.Exception: Error parsing map.txt: Unsupported format for map.txt</p>
<p>mapping file is map.map in defs subfolder</p>
<p>(Note that after you updated the file, I downloaded from the link on the documentation page in the wiki - but filesize was unchanged...)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
