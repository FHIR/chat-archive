---
layout: page
title: "FHIR Chat  · spec examples of StructureMap · mapping-framework"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/index.html">mapping-framework</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html">spec examples of StructureMap</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="252110135"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252110135" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252110135">(Sep 05 2021 at 23:46)</a>:</h4>
<p>Checking this page here, is it just me, or is the rendering for the Raw StructureMap format not correct here?<br>
<a href="http://build.fhir.org/structuremap-supplyrequest-transform.html">http://build.fhir.org/structuremap-supplyrequest-transform.html</a><br>
It's all run together (not as a pre block)<br>
there are no brackets around parameters<br>
there are no {} brackets around the rules in the group<br>
the name for the rule is at the start and not the end...</p>



<a name="252110348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252110348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252110348">(Sep 05 2021 at 23:51)</a>:</h4>
<p>and the grammar for the targetlistmode is only singular in cardinality, however the FHIR resource definition permits multiple</p>



<a name="252112082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252112082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252112082">(Sep 06 2021 at 00:25)</a>:</h4>
<p>grammar has dependent as singular cardinality, structuremap has multiple</p>



<a name="252115421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252115421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252115421">(Sep 06 2021 at 01:30)</a>:</h4>
<p>Is this rule in the grammar intended to mean that you must have at least 2 parameters? (or should the + be a * here)<br>
<code>'(' parameter (',' parameter)+ ')'</code></p>



<a name="252130004"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252130004" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252130004">(Sep 06 2021 at 05:56)</a>:</h4>
<p>I'm putting together a serialization to convert StructureMap resources into the FHIR Mapping Language format in c#<br>
<a href="https://gist.github.com/brianpos/2f2d33a0f22ef566947bc4a5b7dc1eb8#file-structuremap_serializer-cs-L310">https://gist.github.com/brianpos/2f2d33a0f22ef566947bc4a5b7dc1eb8#file-structuremap_serializer-cs-L310</a><br>
Anyone else done anything similar?<br>
The section highlighted is where I'm struggling a bit...</p>



<a name="252297688"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252297688" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252297688">(Sep 07 2021 at 12:35)</a>:</h4>
<p>And the conversion the other way around (FML -&gt; StructureMap) is coming along nicely too, maybe that will answer more questions as I compelete that.<br>
<a href="https://gist.github.com/brianpos/e4fd4575a6d39290c8cc258f3100a2ac">https://gist.github.com/brianpos/e4fd4575a6d39290c8cc258f3100a2ac</a><br>
This particular code will probably end up in the HL7 FHIR Nuget Packages</p>



<a name="252373019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252373019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252373019">(Sep 07 2021 at 21:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> The example still uses the STU3 syntax. Written using the current spec it would look something like this:</p>
<div class="codehilite"><pre><span></span><code>map &quot;http://hl7.org/fhir/StructureMap/supplyrequest-transform&quot; = supplyRequestTransform

uses &quot;http://hl7.org/fhir/StructureDefinition/ActivityDefinition&quot; as source
uses &quot;http://hl7.org/fhir/StructureDefinition/SupplyRequest&quot; as target

group main(source `source`: ActivityDefinition, target `target`: SupplyRequest)
{
    `source`.id -&gt; target.status = &#39;draft&#39; &quot;status&quot;;
    `source`.id -&gt; target.category = &#39;non-stock&#39; &quot;category&quot;;
    `source`.id -&gt; target.priority = &#39;routine&#39; &quot;priority&quot;;
    `source`.quantity as quantity -&gt; target.orderedItem as orderedItem, orderedItem.quantity = quantity &quot;quantity&quot;;
    `source`.code as code -&gt; target.orderedItem as orderedItem, orderedItem.itemCodeableConcept = code &quot;item&quot;;
    `source`.id -&gt; target.occurrence = (&#39;now()&#39;) &quot;when&quot;;
    `source`.id -&gt; target.authoredOn = (&#39;now()&#39;) &quot;authoredOn&quot;;
}
</code></pre></div>



<a name="252373313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252373313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252373313">(Sep 07 2021 at 21:17)</a>:</h4>
<p>To make things a bit less confusing, you can skip the ".id" part of the source selection and simply use </p>
<div class="codehilite"><pre><span></span><code>`source` -&gt; tgt [...]
</code></pre></div>
<p>I'm still have the wish that we allow a wildcard token here, e.g. "_ -&gt; tgt.element"</p>



<a name="252373496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252373496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252373496">(Sep 07 2021 at 21:19)</a>:</h4>
<p>Is there a good collection of samples, or just grab the entire spec 3-4 conversions file?</p>



<a name="252373552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252373552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252373552">(Sep 07 2021 at 21:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191367">Brian Postlethwaite</span> <a href="#narrow/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap/near/252110348">said</a>:</p>
<blockquote>
<p>and the grammar for the targetlistmode is only singular in cardinality, however the FHIR resource definition permits multiple</p>
</blockquote>
<p>Not sure how multiple target list modes would work. Might be a simple mistake in the spec.</p>



<a name="252374003"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252374003" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252374003">(Sep 07 2021 at 21:23)</a>:</h4>
<p>Mapping files for the tutorial can be found here: <a href="https://github.com/ahdis/fhir-mapping-tutorial">https://github.com/ahdis/fhir-mapping-tutorial</a>. Those maps have been tested over the last connectathons. It's a good starting point.</p>



<a name="252374116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252374116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252374116">(Sep 07 2021 at 21:24)</a>:</h4>
<p>I personally used the following map as part of the DevDays tutorials: <a href="https://github.com/FirelyTeam/Firely.FhirMapper.Examples/tree/FakeInpatientDrugChart-STU3">https://github.com/FirelyTeam/Firely.FhirMapper.Examples/tree/FakeInpatientDrugChart-STU3</a></p>



<a name="252554342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252554342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252554342">(Sep 09 2021 at 00:35)</a>:</h4>
<p><span class="user-mention" data-user-id="193430">@Alexander Zautke</span> is there a fhir mapping session at the fhir connectathon next week?<br>
Would like to go over these issues,</p>



<a name="252579867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252579867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252579867">(Sep 09 2021 at 07:00)</a>:</h4>
<p>I wouldn't be aware of any scheduled sessions. If you like we could schedule a break-out session and go over it. Maybe we can get a few people to join.</p>



<a name="252583748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252583748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252583748">(Sep 09 2021 at 07:39)</a>:</h4>
<p>count me in for the break-out session</p>



<a name="252595493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252595493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252595493">(Sep 09 2021 at 09:20)</a>:</h4>
<p>Come in over to the questionnaires track and we'll give it a whirl.</p>



<a name="252706037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252706037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252706037">(Sep 09 2021 at 22:31)</a>:</h4>
<p>My parser is now basically working, however loading in some of the samples that I've found, there are some issues around the fhirpath type and string.<br>
The hunger vital signs map<br>
<a href="http://hl7.org/fhir/us/sdoh-clinicalcare/STU1/mapping_instructions.html">http://hl7.org/fhir/us/sdoh-clinicalcare/STU1/mapping_instructions.html</a><br>
has a rule</p>
<div class="codehilite"><pre><span></span><code>src.item as answerItem1 where &quot;linkId = &#39;/88122-7&#39;&quot; -&gt; bundle.entry as entry
</code></pre></div>
<p>the fml grammar states that the where clause is a <code>fhirpath</code> element</p>
<div class="codehilite"><pre><span></span><code>whereClause
    : &#39;where&#39; fhirPath
    ;
</code></pre></div>
<p>and <code>fhirpath</code> is declared as a <code>literal</code> which includes <code>STRING</code> which is defined as single quoted content.<br>
However as seen in this example, it is declared using " (double quotes) which are used for <code>DELIMITEDIDENTIFIER</code> elements<br>
Which is wrong?<br>
<a href="http://hl7.org/fhir/mapping.g4">http://hl7.org/fhir/mapping.g4</a></p>



<a name="252708098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252708098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252708098">(Sep 09 2021 at 22:52)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> what does the Java fml engine do here?</p>



<a name="252711079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252711079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252711079">(Sep 09 2021 at 23:25)</a>:</h4>
<p><span class="user-mention" data-user-id="193430">@Alexander Zautke</span> what does your fhirpath engine do with this?</p>



<a name="252734316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252734316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252734316">(Sep 10 2021 at 05:21)</a>:</h4>
<p>I think both engines only except double quotes here</p>



<a name="252734496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252734496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252734496">(Sep 10 2021 at 05:24)</a>:</h4>
<p>Thers’s also an unapplied change request to change it the double quotes to parentheses due to some grammar ambiguity</p>



<a name="252738327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252738327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252738327">(Sep 10 2021 at 06:18)</a>:</h4>
<p>double quotes are not accepted by the java fml engine (see <a href="https://github.com/ahdis/fhir-mapping-tutorial/blob/90ea3d7daba86846c6c5bf9ee305cc4bbf1da5af/maptutorial/step4/map/step4b.map">example</a>), the examples are using fhirPath not quoted eg:</p>
<div class="codehilite"><pre><span></span><code>  src.a21 as a where a21.matches(&#39;[0-9]+&#39;) -&gt; tgt.a21 = a &quot;rule_a21b&quot;;
</code></pre></div>



<a name="252741197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252741197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252741197">(Sep 10 2021 at 06:54)</a>:</h4>
<p>So is this more or less implying that " and ' mean the same thing in the FML then?<br>
(and bactic ` is used for delimiting identifiers?)</p>



<a name="252746991"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252746991" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252746991">(Sep 10 2021 at 07:55)</a>:</h4>
<p>Yes, bactics are used for delimited identifiers. The current spec still states that you can also use double quotes for delimited identifiers (<a href="https://www.hl7.org/fhir/mapping-language.html#syntax">https://www.hl7.org/fhir/mapping-language.html#syntax</a>). But we got rid of this as well, but the ticket has not yet been applied.</p>



<a name="252747154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252747154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252747154">(Sep 10 2021 at 07:57)</a>:</h4>
<p>Single quotes would then only be used within FHIRPath statements for strings, no?</p>



<a name="252753053"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252753053" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252753053">(Sep 10 2021 at 08:48)</a>:</h4>
<p>I'll check with that assumption in mind to see what comes out.</p>



<a name="252787410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252787410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252787410">(Sep 10 2021 at 13:34)</a>:</h4>
<p>Is the \ still used for delimiting the backtics, or double back tic ``</p>



<a name="252891993"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252891993" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252891993">(Sep 11 2021 at 08:03)</a>:</h4>
<p>How about this rule from the example... <span class="user-mention" data-user-id="193430">@Alexander Zautke</span> </p>
<div class="codehilite"><pre><span></span><code>  //for each answer item in the questionnareResponse, create an Observation and add it to the groupObservation
  src.item as answerItem1 where &quot;linkId = &#39;/88122-7&#39;&quot; -&gt; bundle.entry as entry, entry.resource = create(&#39;sdohccObservation&#39;) as observation1 then
    TransformObservation(src, answerItem1, observation1, entry), TransformObservation1(src, answerItem1, observation1, entry);
</code></pre></div>
<p>According to the grammar, dependent invocations can't repeat (only rules can)</p>
<div class="codehilite"><pre><span></span><code>dependent
    : &#39;then&#39; (invocation | rules)
    ;
</code></pre></div>
<p>Is there intended to be an <code>invocations</code> node in the grammar?</p>



<a name="252937922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/252937922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#252937922">(Sep 11 2021 at 21:52)</a>:</h4>
<p>My first FHL =&gt; StructureMap resource conversion<br>
<a href="https://sqlonfhir-r4.azurewebsites.net/fhir/StructureMap/Hunger-Vital-Sign">https://sqlonfhir-r4.azurewebsites.net/fhir/StructureMap/Hunger-Vital-Sign</a><br>
(ignore the narrative shown in it, that part is in progress still, and yet to do the QA checks on the mapping to ensure that I've correctly mapped it)<br>
<a href="http://hl7.org/fhir/us/sdoh-clinicalcare/STU1/mapping_instructions.html#hvs">http://hl7.org/fhir/us/sdoh-clinicalcare/STU1/mapping_instructions.html#hvs</a></p>



<a name="253303440"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/253303440" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#253303440">(Sep 14 2021 at 18:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> I have some free time over the next hours, would now be a good time to take a look at these issues?</p>



<a name="253303532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/253303532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#253303532">(Sep 14 2021 at 18:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191478">@Oliver Egger</span> would this work for you, too?</p>



<a name="253303556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/253303556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#253303556">(Sep 14 2021 at 18:54)</a>:</h4>
<p>Come on over to the questionnaire track if you like</p>



<a name="253304854"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/253304854" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#253304854">(Sep 14 2021 at 19:02)</a>:</h4>
<p>I don't see any active sessions in Whova for the Questionnaire track, which one are you using?</p>



<a name="253318780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/253318780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#253318780">(Sep 14 2021 at 20:28)</a>:</h4>
<p><a href="http://jira.hl7.org/browse/FHIR-20841">FHIR-20841</a> - Rule source 'default' should be of type string<br>
<a href="http://jira.hl7.org/browse/FHIR-20844">FHIR-20844</a> - Add date, time and dateTime to StructureMap.group.rule.target.parameter.value[x]<br>
<a href="http://jira.hl7.org/browse/FHIR-20842">FHIR-20842</a> - Dependent variables should be of type “id” - StructureMap Change<br>
<a href="http://jira.hl7.org/browse/FHIR-25286">FHIR-25286</a> - Harmonize delimitedIdentifiers in FHIRPath and Mapping Language - Documentation Change<br>
<a href="http://jira.hl7.org/browse/FHIR-28465">FHIR-28465</a> - Replace isInteger with convertsToInteger() in Mapping Language Tutorial - Tutorial Change<br>
<a href="http://jira.hl7.org/browse/FHIR-20840">FHIR-20840</a> - Document that repeating dependent rules are allowed - Documentation Change<br>
<a href="http://jira.hl7.org/browse/FHIR-20848">FHIR-20848</a> - Can dependent rules and nested rules be combined?<br>
<a href="http://jira.hl7.org/browse/FHIR-25266">FHIR-25266</a> - StructureMap does not account for escaped identifiers in id fields - StructureMap change<br>
<a href="http://jira.hl7.org/browse/FHIR-21642">FHIR-21642</a> - Add "const" keyword to the mapping language - Syntax change<br>
<a href="http://jira.hl7.org/browse/FHIR-22110">FHIR-22110</a> - Add "doccomments" facility to the mapping language - Syntax change<br>
<a href="http://jira.hl7.org/browse/FHIR-22622">FHIR-22622</a> - Is the Mapping "map" statement followed by a string or an identifier? - Syntax change<br>
<a href="http://jira.hl7.org/browse/FHIR-27915">FHIR-27915</a> - Replace "map" statement with shorthand synatx - Syntax change<br>
<a href="http://jira.hl7.org/browse/FHIR-20577">FHIR-20577</a> - Add Media Type for FHIR Mapping Language - Documentation Change<br>
<a href="http://jira.hl7.org/browse/FHIR-20845">FHIR-20845</a> - Can 'type' and 'min'/'max' be used independently? - Documentation Change<br>
<a href="http://jira.hl7.org/browse/FHIR-20846">FHIR-20846</a> - Should we align transforms and FhirPath? - Documentation Change<br>
<a href="http://jira.hl7.org/browse/FHIR-20905">FHIR-20905</a> - How to hande an element with a choice of types as the target in a mapping rule - Documentation Change<br>
<a href="http://jira.hl7.org/browse/FHIR-21641">FHIR-21641</a> - Allow for a source statement to walk deeper into the children - Documentation Change<br>
<a href="http://jira.hl7.org/browse/FHIR-21643">FHIR-21643</a> - Document listmode and update ANTLR grammar - Documentation Change<br>
<a href="http://jira.hl7.org/browse/FHIR-22774">FHIR-22774</a> - Document support for implicit casts in mapping language - Documentation change<br>
<a href="http://jira.hl7.org/browse/FHIR-23007">FHIR-23007</a> - In mapping language, talk about trees instead of DAGs - Documentation change<br>
<a href="http://jira.hl7.org/browse/FHIR-23010">FHIR-23010</a> - In mapping language, state that rule application order is implementation-dependent - Documentation change<br>
<a href="http://jira.hl7.org/browse/FHIR-25220">FHIR-25220</a> - Clarify language around invoking multiple groups - Documentation change<br>
<a href="http://jira.hl7.org/browse/FHIR-25376">FHIR-25376</a> - Clarify behaviour for matching multiple source statements - Documentation Change<br>
<a href="http://jira.hl7.org/browse/FHIR-27140">FHIR-27140</a> - Mapping Language - type parameter of cast function should contain model info - Documentation Change<br>
<a href="http://jira.hl7.org/browse/FHIR-20847">FHIR-20847</a> - What's the purpose of target.contextType?<br>
<a href="http://jira.hl7.org/browse/FHIR-20849">FHIR-20849</a> - Make name optional for mapping rules<br>
<a href="http://jira.hl7.org/browse/FHIR-20849">FHIR-20849</a> - Make name optional for mapping rules<br>
<a href="http://jira.hl7.org/browse/FHIR-20843">FHIR-20843</a> - Consider removing 'none' from StructureMapGroupTypeMode<br>
<a href="http://jira.hl7.org/browse/FHIR-20839">FHIR-20839</a> - Allow mapping groups with 0 rules<br>
<a href="http://jira.hl7.org/browse/FHIR-23937">FHIR-23937</a> - Document parameters of dateOp</p>



<a name="254098557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/254098557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#254098557">(Sep 20 2021 at 18:46)</a>:</h4>
<p>I'm not sure. is there open issues from this thread?</p>



<a name="254102587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/spec%20examples%20of%20StructureMap/near/254102587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/spec.20examples.20of.20StructureMap.html#254102587">(Sep 20 2021 at 19:13)</a>:</h4>
<p>The inconsistencies I noted were in this list, but hadn't been applied to the R5 spec yet.<br>
(and I'm working with R4 not R5, which didn't help me either)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
