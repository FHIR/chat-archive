---
layout: page
title: "FHIR Chat  · Local/global variables within maps · mapping-framework"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/index.html">mapping-framework</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/Local.2Fglobal.20variables.20within.20maps.html">Local/global variables within maps</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="238751975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/Local/global%20variables%20within%20maps/near/238751975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Dimitrov <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/Local.2Fglobal.20variables.20within.20maps.html#238751975">(May 14 2021 at 11:31)</a>:</h4>
<p>Hi, in my maps there are for example systems defined within my maps (FHIR Mapping Language). <br>
For example: </p>
<div class="codehilite"><pre><span></span><code>cda -&gt; coding.system = &#39;http://loinc.org&#39;;
</code></pre></div>
<p>and I was wondering if it is possible to define a global/local variable, which I can assign the system to and then point to the new variable, from where I need to. This would have the benefit that I can configure and manage all the variables from one place. </p>
<p>So in my imagination this would look somehow like this:</p>
<div class="codehilite"><pre><span></span><code>cda -&gt; %loinc-system = &#39;http://loinc.org&#39; &quot;loinc-variable&quot;;
...
cda -&gt; coding.system = %loinc-system;
</code></pre></div>
<p>I read in the forum that this could be managed with a let statement, but I didn't find any documentation, on how to set this up. <br>
Would be greatful for any suggestions and advices! Thanks!</p>



<a name="238766346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/Local/global%20variables%20within%20maps/near/238766346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/Local.2Fglobal.20variables.20within.20maps.html#238766346">(May 14 2021 at 13:29)</a>:</h4>
<p>There is an accepted proposal for a global let statement, see <a href="https://jira.hl7.org/browse/FHIR-21642">JIRA</a>. the java implementation does it not support yet as far as i know.</p>



<a name="238993270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/Local/global%20variables%20within%20maps/near/238993270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Dimitrov <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/Local.2Fglobal.20variables.20within.20maps.html#238993270">(May 16 2021 at 17:19)</a>:</h4>
<p>Thanks for the reply <span class="user-mention" data-user-id="191478">@Oliver Egger</span> ! So this feature will be coming in a future release and currently there is no way to implement/test global variables in maps? </p>
<p>also a somewhat similiar question:<br>
is there an option to get some fixed values from profiles themselves? for example get a codesystem which is defined within a profile and use it within a map, so that fixed values from profiles don't have to be manually coded into maps? <br>
this could potentially reduce the need of global variables for some cases</p>



<a name="239037050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/Local/global%20variables%20within%20maps/near/239037050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/Local.2Fglobal.20variables.20within.20maps.html#239037050">(May 17 2021 at 05:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="367809">Alexander Dimitrov</span> <a href="#narrow/stream/181579-mapping-framework/topic/Local.2Fglobal.20variables.20within.20maps/near/238993270">said</a>:</p>
<blockquote>
<p>So this feature will be coming in a future release and currently there is no way to implement/test global variables in maps? </p>
</blockquote>
<p>I think so, I don't think it is too hard to add however, however i myself did not find the time yet to work on a PR, if you need it urgently maybe you can provide a PR?</p>



<a name="239037507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/Local/global%20variables%20within%20maps/near/239037507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/Local.2Fglobal.20variables.20within.20maps.html#239037507">(May 17 2021 at 05:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="367809">Alexander Dimitrov</span> <a href="#narrow/stream/181579-mapping-framework/topic/Local.2Fglobal.20variables.20within.20maps/near/238993270">said</a>:</p>
<blockquote>
<p>is there an option to get some fixed values from profiles themselves? for example get a codesystem which is defined within a profile and use it within a map, so that fixed values from profiles don't have to be manually coded into maps? <br>
this could potentially reduce the need of global variables for some cases</p>
</blockquote>
<p>I would love to have something like this, create a target based on a profile with all fixed values already put in ... maybe the create/produced elements could be used. <span class="user-mention" data-user-id="193430">@Alexander Zautke</span> did you had such a feature request already for the .net implmentation?</p>



<a name="239117015"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/Local/global%20variables%20within%20maps/near/239117015" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Dimitrov <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/Local.2Fglobal.20variables.20within.20maps.html#239117015">(May 17 2021 at 16:09)</a>:</h4>
<p>yes, I will probably have a look on it, after I have further developed my maps! Thanks for the answers <span class="user-mention" data-user-id="191478">@Oliver Egger</span> !</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
