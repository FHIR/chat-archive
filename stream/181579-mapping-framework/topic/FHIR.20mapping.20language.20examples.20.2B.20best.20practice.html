---
layout: page
title: "FHIR Chat  · FHIR mapping language examples + best practice · mapping-framework"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/index.html">mapping-framework</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/FHIR.20mapping.20language.20examples.20.2B.20best.20practice.html">FHIR mapping language examples + best practice</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="241579716"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/FHIR%20mapping%20language%20examples%20%2B%20best%20practice/near/241579716" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Wen <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/FHIR.20mapping.20language.20examples.20.2B.20best.20practice.html#241579716">(Jun 04 2021 at 19:04)</a>:</h4>
<p>Is there any way to find what the best practices are for the FHIR mapping language?<br>
For example, I have been trying to transform a QuestionnaireResponse (QR) into a FHIR resource, and to do so need to get to the actual value in the QR which is nested. I have been doing by getting the item where linkID = 'some code', then getting the .answer field, then getting the .valueString or .valueCoding.<br>
It looks something like the following, which I have been using for each question in the QR.</p>
<div class="codehilite"><pre><span></span><code>src.item as answerItem where linkId = &#39;some code&#39; -&gt; resource.field1 as nestedField1 then {
    answerItem.answer as answer -&gt; nestedField1.nestedField2 as nf2 then {
        answer.valueString as vs -&gt; nf2.nestedField3 = vs;
    }
}
</code></pre></div>
<p>On top of this, if the resource field the QR value is being transformed to is a resource type of its own, such as Medication.ingredient.strength.numerator, I also have to get into those nested fields which I have done with a chain of<br>
<code>then {... get into next nested field}</code> similar to how I get the .valueString from above.<br>
Is the method I am using bad, and are there any resources/examples that demonstrate better practices?</p>



<a name="241581010"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/181579-mapping-framework/topic/FHIR%20mapping%20language%20examples%20%2B%20best%20practice/near/241581010" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/181579-mapping-framework/topic/FHIR.20mapping.20language.20examples.20.2B.20best.20practice.html#241581010">(Jun 04 2021 at 19:16)</a>:</h4>
<p><span class="user-mention" data-user-id="217312">@Joee Garcia</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
