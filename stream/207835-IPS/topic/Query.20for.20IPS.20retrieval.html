---
layout: page
title: "FHIR Chat  · Query for IPS retrieval · IPS"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/index.html">IPS</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html">Query for IPS retrieval</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="189493334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189493334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alessio Graziani <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189493334">(Mar 02 2020 at 14:04)</a>:</h4>
<p>Hello,<br>
the IPS Implementation Guide standardizes the structure of the Patient Summary using FHIR resources. The Patient Summary is represented with an instance of Composition referring to all other FHIR resources needed to describe other specific aspects of PS. For this reason, the whole PS (Composition + related resources) in FHIR is contained within an instance of Bundle whose first entry is a Composition. <br>
So, my question is: what is the right query to retrieve an instance of IPS,? At the moment I have only these two options:</p>
<ol>
<li>query Composition resource in this way: <em>Composition?type=http://loinc.org|60591-5&amp;subject=&lt;ID&gt;&amp;_include=</em>&amp;_count=1*</li>
<li>query Bundle resource in this way: <em>Bundle?type=document&amp;composition=&lt;ref to Composition representing IPS&gt;</em></li>
</ol>
<p>With the first option, the bundle is automatically created by the responding server (and this bundle will be the standard FHIR one not compliant to IPS specs), while with the second option the Bundle must have been previously saved to the server (respecting IPS specs) as a Bundle of type Document. <br>
I suppose that option number 2 is the right way to ask for a PS, but I'm a little worried about the fact that the search parameter "composition" is tagged as TU (Trial Use) so it' far away from being a standard search attribute.</p>
<p>Cheers and thanks<br>
Alessio</p>



<a name="189494790"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189494790" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189494790">(Mar 02 2020 at 14:22)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="217554">@Alessio Graziani</span>  if you want that an IPS document is generated by the FHIR server you should use the $document operation (<a href="https://www.hl7.org/fhir/composition-operation-document.html" target="_blank" title="https://www.hl7.org/fhir/composition-operation-document.html">https://www.hl7.org/fhir/composition-operation-document.html</a>)</p>



<a name="189494947"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189494947" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189494947">(Mar 02 2020 at 14:24)</a>:</h4>
<p>in this case you need to be able to identify the composition and the server needs to know where to get the referred resources...</p>



<a name="189495253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189495253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189495253">(Mar 02 2020 at 14:27)</a>:</h4>
<p>If you want to query directly the bundle in principle you could use "Chained parameters" (<a href="https://www.hl7.org/fhir/search.html#chaining" target="_blank" title="https://www.hl7.org/fhir/search.html#chaining">https://www.hl7.org/fhir/search.html#chaining</a>)</p>



<a name="189495576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189495576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189495576">(Mar 02 2020 at 14:30)</a>:</h4>
<p>another option that you could consider is that of having the IPS referred by a DocumentReference and query the DocumentReference</p>



<a name="189495631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189495631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189495631">(Mar 02 2020 at 14:30)</a>:</h4>
<p>each of these options depends on the architecture you have designed and by the capabilities of the involved servers</p>



<a name="189495839"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189495839" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189495839">(Mar 02 2020 at 14:33)</a>:</h4>
<p>e.g. a server may not support the $document operation or the needed chained parameters to allow a reasonable query of the IPS bundle.<br>
It may also depend on the behavior of the server when it receives an IPS bundle: e.g most systems I saw when they received an IPS bundle store that bundle as it is; so the composition/$document solution cannot be applied  ...</p>



<a name="189496009"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189496009" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189496009">(Mar 02 2020 at 14:35)</a>:</h4>
<p><em>(quite sure that others could suggest other solutions)</em></p>



<a name="189496668"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189496668" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189496668">(Mar 02 2020 at 14:42)</a>:</h4>
<p>Currently the HL7 IPS standard doesn't prescribe any specific solution for sharing and retrieving IPSs</p>



<a name="189497543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189497543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alessio Graziani <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189497543">(Mar 02 2020 at 14:51)</a>:</h4>
<p>OK, so you confirm that for the moment there is no standard way to retrieve the IPS. </p>
<p>I will investigate chaining parameters while querying the Bundle resource (option 2 of my hypothesis). At the moment we're querying the Composition resource performing a search of Composition (of a patient) with type="http://loinc.org|60591-5" , "_count" set to 1 and _include set to "*". As a result, we get a Bundle of type "searchset", containing the Composition as the first entry and all related resources as additional entries in the bundle.</p>
<p>But I think that we must create the right Bundle compliant to IPS specs, save it to the server and then retrieving the PS by searching over Bundle resource and not over Composition resource.</p>
<p>Many many thanks<br>
Alessio</p>



<a name="189499319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189499319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189499319">(Mar 02 2020 at 15:08)</a>:</h4>
<p>This function, querying for IPS and other, is the functionality that the IHE IPS profile is addressing.</p>



<a name="189499374"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189499374" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189499374">(Mar 02 2020 at 15:08)</a>:</h4>
<p>I'd hope one would query for DocumentReference .. akin to how MHD/XDS would approach this style of querying. This would be preferred (IMHO) over querying document bundles, or invoking $document directly. Note that a DocumentReference may use a document URL based on $document, so it supports on-demand documents as well.</p>



<a name="189499383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189499383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189499383">(Mar 02 2020 at 15:09)</a>:</h4>
<p>To retrieve an IPS you'd typically query Bundle and chain through to filter on characteristics of the Composition - specifically subject, document type and time-range</p>



<a name="189499416"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189499416" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189499416">(Mar 02 2020 at 15:09)</a>:</h4>
<p>DocumentReference might exist, but there's no guarantee of that - it depends on the architecture of the repository</p>



<a name="189499506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189499506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189499506">(Mar 02 2020 at 15:10)</a>:</h4>
<p>The IPS project is a joint project between HL7 and IHE...</p>



<a name="189499571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189499571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189499571">(Mar 02 2020 at 15:11)</a>:</h4>
<p>E.g. Bundle?composition.subject.identifier=1234&amp;composition.type=[code for IPS]</p>



<a name="189499585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189499585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189499585">(Mar 02 2020 at 15:11)</a>:</h4>
<p>Does IHE mandate that MHD be used for IPS?</p>



<a name="189500057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189500057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189500057">(Mar 02 2020 at 15:15)</a>:</h4>
<p>IHE will define for those that chose ANY of the IHE defined Document Sharing profiles, how the data would be published, discovered, and retrieved. This includes MHD, but also includes XDS, XCA, XDM, etc...<br>
As with any IG, it can't state what one does outside of claim of compliance with that IG... so, yes it is fine to have other access methods defined. I simply wanted to have the bulk of the discussion recognized in the appropriate group, and mostly keep everyone aware of the joint project between IHE and HL7</p>



<a name="189501374"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189501374" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189501374">(Mar 02 2020 at 15:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="217554">Alessio Graziani</span> <a href="#narrow/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval/near/189497543" title="#narrow/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval/near/189497543">said</a>:</p>
<blockquote>
<p>OK, so you confirm that for the moment there is no standard way to retrieve the IPS. </p>
</blockquote>
<p>I would rephrase your sentence in  <em>there are several standard ways to retrieve the IPS.</em><br>
and this depends on the context of use.</p>
<p>For example if you have the IPS stored into an XD*-like infrastructure MHD is the most reasonable way to access it; <br>
..but you can use an MHD-like approach even if you have not an XD* behind... </p>
<p>I see use cases in which a combined IPS/IPA (International Patient Access) approach is the most useful: e.g the server receives an IPS and it is queried to known if that patient has allergies (or the contrary it receives atomic data and an index of the relevant information (the composition) and it produces the  summary, i.e. the IPS bundle, on demand.</p>



<a name="189507247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189507247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alessio Graziani <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189507247">(Mar 02 2020 at 16:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191415">Giorgio Cangioli</span> <a href="#narrow/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval/near/189501374" title="#narrow/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval/near/189501374">said</a>:</p>
<blockquote>
<p>I would rephrase your sentence in  <em>there are several standard ways to retrieve the IPS.</em><br>
and this depends on the context of use.</p>
</blockquote>
<p>Ok. Our context is that the PS must be retrieved from a server adopting FHIR API (the PS has been previously stored in the server by a doctor using an ad-hoc editing application). </p>
<p>Thanks<br>
Alessio</p>



<a name="189514397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189514397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189514397">(Mar 02 2020 at 17:29)</a>:</h4>
<p>I think, as Giorgio mentioned, that "IPS on <a href="https://build.fhir.org/ig/grahamegrieve/ipa-candidate/" target="_blank" title="https://build.fhir.org/ig/grahamegrieve/ipa-candidate/">IPA</a>" is likely to become a common (and probably recommended) approach to generating/retrieving IPS documents/data from EHR systems.  But this is still mostly an idea at present, and we would welcome participation in the discussions and further specification development (IPA, particularly, is still very early) and in planning for and participating in Connectathon testing.</p>



<a name="189579738"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189579738" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Francesco Torelli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189579738">(Mar 03 2020 at 10:28)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191415">@Giorgio Cangioli</span>, <br>
I wonder if the answer to the question of <span class="user-mention" data-user-id="217554">@Alessio Graziani</span> depends also from the legal context, other than from the tecnical details of the server.<br>
For example, what is the legal status of an IPS generated automatically in Italy? I know that in Italy the Patient Summary must be created by the GP of the patient. Of course a GP could ask to automatically generate an IPS, review, sign and store it. I understand that only the IPS stored by the GP would be the official Patient Summary. In other term, is it correct to say that on an Italian FHIR server, at least with the current legislation, the automatic generation of the IPS would not return the  official Patient Summary, also if the server tecnically supports it?</p>



<a name="189581900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189581900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189581900">(Mar 03 2020 at 10:58)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="194459">@Francesco Torelli</span> yes the technical solution depends on the business scenario (including legal constraints) ... but this is true not only for the IPS :-)</p>



<a name="189582466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189582466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189582466">(Mar 03 2020 at 11:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="194459">Francesco Torelli</span> <a href="#narrow/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval/near/189579738" title="#narrow/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval/near/189579738">said</a>:</p>
<blockquote>
<p>I understand that only the IPS stored by the GP would be the official Patient Summary. In other term, is it correct to say that on an Italian FHIR server, at least with the current legislation, the automatic generation of the IPS would not return the  official Patient Summary, also if the server tecnically supports it?</p>
</blockquote>
<p>There are several countries - not only Italy - in which the Patient Summary is the result of a summarization act that has to be realized by a clinician.<br>
In principle nothing prevents to imagine that this act will have as outcome the composition, so that the $document approach could be still valid....  (but as mentioned before it is not the only possible approach)</p>



<a name="189589388"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189589388" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Francesco Torelli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189589388">(Mar 03 2020 at 12:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191415">Giorgio Cangioli</span> <a href="#narrow/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval/near/189582466" title="#narrow/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval/near/189582466">said</a>:</p>
<blockquote>
<p>There are several countries - not only Italy - in which the Patient Summary is the result of a summarization act that has to be realized by a clinician.<br>
In principle nothing prevents to imagine that this act will have as outcome the composition, so that the $document approach could be still valid....  (but as mentioned before it is not the only possible approach)</p>
</blockquote>
<p>Right, but that composition would not be considered as the entire Patient Summary but just part of it. I mean: if the act of the clinician must produce also a digital signature we should assume that in that country the Composition exists only as part of a signed Bundle containing it. Only the signed Bundle would be considered as the complete and official Patient Summary, because the composition does not contain the signature. </p>
<p>The business scenario that I have in mind is a future version of the eHDSI National Contact Point (NCP) that offers a FHIR  based API for retrieving, from a country A, a complete and structured Patient Summary of a patient living in a different country B. I think that, for this business scenario, a standard way to retrieve the complete and official Patient Summary should be agreed and this should be independent from how the Patient Summary is created in each country.  </p>
<p>The standard way to retrieve a complete patient summary, in such a cross border scenario, should be a FHIR query that returns an IPS Bundle, because only a Bundle may include also a digital signature, that is part of the Patient Summary in some country. It should be not the client, but the country that exposes the NCP, to decide if the Bundle is generated automatically from a composition or is created and stored manually by a clinician.  </p>
<p>The standard API could allow to retrieve also single parts of the Patient Summary, including the entire composition, but it should be agreed that the composition is not (always) the complete official Patient Summary. The standard API  could allow to retrieve also a DocumentReference, but only for those situations where, for some reason, a structured content based on FHIR cannot be produced.</p>
<p>Do you agree?</p>



<a name="189592800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189592800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189592800">(Mar 03 2020 at 13:37)</a>:</h4>
<p>Francesco, your question goes beyond the IPS itself and it might be applied also to other types of information that may be exchanged cross-border in Europe.</p>
<p>The first question to answer is what is the business architecture: i.e. what is your vision, what are your objectives, which are your usage scenarios, what are the external constraints (policy, legal, technical,...), and so on.... </p>
<p>I personally see a (very) little advantage of "just" replicating in FHIR the current European CDA based eHDSI technical solution;  but this discussion goes beyond the scope of this stream :-)</p>
<p><span class="user-mention" data-user-id="193991">@Christof Gessner</span> any suggestion on where this kind of discussion may happen ? maybe a "Europe" stream ?</p>



<a name="189598256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189598256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189598256">(Mar 03 2020 at 14:41)</a>:</h4>
<p>I will repeat... The IHE MHD implementation guide provides a constrained methodology of using the FHIR DocumentReference for the purpose of Document Sharing... This API can be to a FHIR server acting as the persistence, other service acting as the persistence (or generator), XCA, or XDS.<br>
There are EC cross boarder requirements to use AS4, which there is an option in IHE XCA that is designed around this cross boarder requirement. Not sure how to handle this AS4 requirement with http/REST, that is for EC participants to argue about. <br>
The IHE portion of IPS is to show binding between the IPS content specification defined in HL7, with the Document Sharing transports (metadata, etc).</p>



<a name="189687537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189687537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189687537">(Mar 04 2020 at 12:55)</a>:</h4>
<p><span class="user-mention" data-user-id="194459">@Francesco Torelli</span> <span class="user-mention" data-user-id="191415">@Giorgio Cangioli</span>  As <span class="user-mention" data-user-id="191404">@John Moehrke</span> indicates: The functionality of a FHIR interface on the national side of the NCPeH would be very much like MHD. That is because the NCPeH is using XCA on the international side, to connect to the other NCPs. And it may be possibly moving towards  AS4 in the future, maybe using Message Queues as an intermediate layer between XCA and AS4. To my knowledge, this is not a requirement, but part of a "feasability analysis" of reusing infrastructure components from European eGov solutions.</p>
<p>I guess that the next steps in EU cross-border exchange are already envisaged. The EHRxF recommendation specifies Exchange formats for EHR content, all document-oriented. So I see little room for FHIR APIs within the current service infrastructure, that connects the NCPeHs between member states.</p>



<a name="189688830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189688830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189688830">(Mar 04 2020 at 13:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191415">@Giorgio Cangioli</span> regarding a "Europe" stream: My preferred location would be a page on the eHDSI wiki, e.g. here <a href="https://ec.europa.eu/cefdigital/wiki/display/EHMSEG/eHDSI+MS+Expert+Community+Home" target="_blank" title="https://ec.europa.eu/cefdigital/wiki/display/EHMSEG/eHDSI+MS+Expert+Community+Home">https://ec.europa.eu/cefdigital/wiki/display/EHMSEG/eHDSI+MS+Expert+Community+Home</a> or here <a href="https://ec.europa.eu/cefdigital/wiki/display/EHSEMANTIC/" target="_blank" title="https://ec.europa.eu/cefdigital/wiki/display/EHSEMANTIC/">https://ec.europa.eu/cefdigital/wiki/display/EHSEMANTIC/</a></p>



<a name="189695207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189695207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Francesco Torelli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189695207">(Mar 04 2020 at 14:24)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="193991">@Christof Gessner</span>,<br>
let's remember that the <a href="https://ec.europa.eu/newsroom/dae/document.cfm?doc_id=57254" target="_blank" title="https://ec.europa.eu/newsroom/dae/document.cfm?doc_id=57254">EHRxF recommendation 2019</a> also says: "The refinement of the exchange format should consider the possibility offered by resource driven information models (such as Health Level Seven Fast Healthcare Interoperability Resources (HL7 FHIR©))". If it makes sense or not is topic for another stream. </p>
<p>As you know, within the <a href="https://www.interopehrate.eu/" target="_blank" title="https://www.interopehrate.eu/">InteropEHRate project</a>, we are trying to envision  how the eHDSI infrastructure, that is intended for exchange of health data among healthcare providers, will coexist and interoperate with FHIR based mobile protocols for exchange of health data among Patients and healthcare providers and researchers. That is also topic for another stream, more related to MHD, Argonaut Data Query IG, IPA.</p>



<a name="189715815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/189715815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#189715815">(Mar 04 2020 at 17:44)</a>:</h4>
<p>Yes, <span class="user-mention" data-user-id="194459">@Francesco Torelli</span>. And I believe, there could be a move towards FHIR-based documents in the future (not soon, though). I just wanted to point out that the architecture of the currently operational cross-border exchange is based on the IHE Cross-Community Access profiles. This is the normative interface between NCPeH instances, agreed between the member states. So whatever interfaces the NCPeH exposes on the national side, this defines the functionality that you can get across borders, for the time being.</p>



<a name="198133277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/198133277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Derek Ritz <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#198133277">(May 19 2020 at 22:07)</a>:</h4>
<p>Hi all -- this is a fascinating discussion; and very informative, thank you. Notwithstanding the INTERNATIONAL part of the IPS moniker, there are important use cases that are <strong>not </strong>focused solely on the exchange of patient summaries across international borders. The IPS -- as a summary -- could satisfy use cases similar to those of the C-CDA; it is a <em>very</em> useful way to support care continuity workflows. For such use cases, a functionality similar to the <strong>XDS.b On-demand Document</strong> capability is helpful. <span class="user-mention" data-user-id="191415">@Giorgio Cangioli</span> , it appears the the $document operation is the way to support such an <strong>on-demand IPS</strong> kind of use case. Am I right about that? <span class="user-mention" data-user-id="191404">@John Moehrke</span>  -- is this scenario OK within the context of <strong>MHDS</strong> (although maybe <em>not</em> within the context of MHD)?</p>



<a name="198188154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/198188154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#198188154">(May 20 2020 at 12:07)</a>:</h4>
<p>The XDS/XCA/MHD system defines a mechanism for "On-Demand" and "Deferred-Creation" document creation/retrieval. These are content agnostic. Thus they will work equally well for CDA documents as they would for FHIR documents; they would even work fine for FHIR resources that don't measure up to the definition of a healthcare document. This because XDS/XCA/MHD use the more liberal internet (http) definition of a 'document', not the more involved (in a good way) definition of a 'document' defined in HL7 (from which we get CDA and FHIR Document)<br>
The FHIR $document operation  is specific to FHIR Documents. A good functionality, but very single purpose. It also lacks functionality discovery that is a core part of XDS/XCA/MHD On-Demand system.  That said, one could have the instance of a On-Demand document created by way of the $document operation on the backend. Meaning one would publish a "On-Demand" document entry that described a potential use of a $document operation, when a Document Consumer requests it be created and retrieved that is fulfilled on the backend by way of the FHIR $document operation.<br>
So, the infrastructure you have XDS/XCA/MHD already supports On-Demand in a way that can support FHIR Documents. All that is necessary is for custodians to publish FHIR Documents or On-Demand entries indicating support for FHIR Documents; and for Document Consumers to choose to retrieve that kind of content. The infrastructure (XDS/XCA/MHD) is agnostic to this change in content.</p>



<a name="198205182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/198205182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Derek Ritz <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#198205182">(May 20 2020 at 14:20)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="191404">@John Moehrke</span> . I asked specifically about MHDS because of my interest in end-to-end FHIR solutions that may be implementable in contexts where there is not a legacy CDA infrastructure already in place. I'm working in such context, now, and am looking for a functionally-equivalent XDS.b On-demand Document... but using FHIR-only.</p>



<a name="206123961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/206123961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marko Jalonen <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#206123961">(Aug 06 2020 at 10:22)</a>:</h4>
<p>About "IPS on IPA" - how is the IPA progressing? There was a mention in this thread that it is still in early stages. There seems to be no change in regard to GitHub in a couple of months. </p>
<p>No mention of IHE QEDm in this thread (XDS/XCA/MHD all are mentioned), is it of any relevance in regard to IPS contents? In QEDm I see only options for specific resource types - not for "IPS-ish" patient summary document --&gt; I see that maybe it would be the domain of IHE MHD then?</p>



<a name="206128120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/206128120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#206128120">(Aug 06 2020 at 11:19)</a>:</h4>
<p>IPA is going slowly. It's important but not urgent</p>



<a name="208501045"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/208501045" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#208501045">(Aug 30 2020 at 19:44)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <a href="https://build.fhir.org/ig/grahamegrieve/ipa-candidate/branches/master/ipa-server.html">https://build.fhir.org/ig/grahamegrieve/ipa-candidate/branches/master/ipa-server.html</a> seems immensly empty. Is this because IPA is not doing progress?</p>



<a name="208501228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/208501228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#208501228">(Aug 30 2020 at 19:49)</a>:</h4>
<p>and does "anyone" keep the IPA and IPS profiles in sync/adds dependencies between the IG's? - ie. the patient profiles are not entirely allignd: <a href="https://build.fhir.org/ig/grahamegrieve/ipa-candidate/branches/master/StructureDefinition-ipa-patient.html">https://build.fhir.org/ig/grahamegrieve/ipa-candidate/branches/master/StructureDefinition-ipa-patient.html</a> vs <a href="https://build.fhir.org/ig/HL7/fhir-ips/StructureDefinition-Patient-uv-ips.html">https://build.fhir.org/ig/HL7/fhir-ips/StructureDefinition-Patient-uv-ips.html</a></p>



<a name="208504156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/208504156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#208504156">(Aug 30 2020 at 21:03)</a>:</h4>
<p>IPA hasn't been going anywhere, but it is about to. I'm glad to hear you are interested in it.</p>



<a name="208504211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/208504211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#208504211">(Aug 30 2020 at 21:04)</a>:</h4>
<p>They are different, to reflect their different focus, and I would propose changes to both to get them a little more aligned, but they are not misaligned - that would be that they are incompatible</p>



<a name="208673352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/208673352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#208673352">(Sep 01 2020 at 11:25)</a>:</h4>
<p>k - its going to have pretty much focus from my side once we get to october (<span class="user-mention" data-user-id="191415">@Giorgio Cangioli</span> im looking into pushing the use of IPA in combination with IPS in a #european project which is going to be announced next month I presume )</p>



<a name="208679478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/208679478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#208679478">(Sep 01 2020 at 12:24)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191427">@Jens Villadsen</span> are you planning to participate the IPS track in the next connect-a-thon ? The European project you mentioned is Gravitate Health or it is a different one ? In both cases let's see if we can reach a wider Eu community and maybe link it to the X-eHealth project started today</p>



<a name="208703613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/208703613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#208703613">(Sep 01 2020 at 15:25)</a>:</h4>
<p>Its gravitate, yes. <span class="user-mention" data-user-id="191415">@Giorgio Cangioli</span> do you also have a part in that?</p>



<a name="208704210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/208704210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#208704210">(Sep 01 2020 at 15:29)</a>:</h4>
<p>Yes  and I see a possible synergy among UNICOM, X-health and gravitate health</p>



<a name="208722568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/208722568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#208722568">(Sep 01 2020 at 17:46)</a>:</h4>
<p>Awesome - i guess we'll meet later then</p>



<a name="208893122"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/208893122" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#208893122">(Sep 02 2020 at 21:55)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> I've been hoping that we would start exploring "IPS on IPA" in earnest very soon, so I'm really glad to hear that you are planning to start working on that.  And, as <span class="user-mention" data-user-id="191415">@Giorgio Cangioli</span> mentioned, if you have any opportunity to participate in the <a href="https://confluence.hl7.org/display/FHIR/2020-09+International+Patient+Summary+Track">IPS track</a> in the Connectathon next week, that would be great.</p>



<a name="209546069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/209546069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#209546069">(Sep 09 2020 at 17:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span> im afraid I cant find the time to attend</p>



<a name="209559349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/209559349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#209559349">(Sep 09 2020 at 19:52)</a>:</h4>
<p>I'm sorry to hear that, <span class="user-mention" data-user-id="191427">@Jens Villadsen</span>, but we definitely appreciate your interest and any activities.  If you have any update on thoughts or progress, please let us know.</p>



<a name="219797275"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/219797275" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#219797275">(Dec 14 2020 at 03:41)</a>:</h4>
<p>Any advance on the format offered by <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> above as a query to request an IPS for a patient with an id of ABC2345?  <span class="user-mention" data-user-id="191405">@Rob Hausam</span> , <span class="user-mention" data-user-id="191415">@Giorgio Cangioli</span> ?</p>
<p>GET [base]/Bundle?composition.patient=ABC2345&amp;composition.type=http://loinc.org|60591-5</p>
<p>Although NZ Patient NHIs will be used as IDs by NZ FHIR Servers, many will also use it as an identifier...</p>
<p>GET [base]/Bundle?composition.patient.identifier=https://standards.digital.health.nz/ns/nhi-id|ABC2345&amp;composition.type=http://loinc.org|60591-5</p>



<a name="219797900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/219797900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#219797900">(Dec 14 2020 at 03:57)</a>:</h4>
<p>The first one is going to be <code>GET [base]/Bundle?composition.patient.identifier=ABC2345&amp;composition.type=http://loinc.org|60591-5</code>, isn't it?  We need to start doing more testing on this - obviously a good topic to explore in the coming Connectathon.</p>



<a name="219797971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/219797971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#219797971">(Dec 14 2020 at 03:59)</a>:</h4>
<p>is this just searching for past summaries? we should use an operation to get the current summary</p>



<a name="219797996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/219797996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#219797996">(Dec 14 2020 at 03:59)</a>:</h4>
<p>That makes sense.</p>



<a name="219799209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/219799209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#219799209">(Dec 14 2020 at 04:26)</a>:</h4>
<blockquote>
<p>Although NZ Patient NHIs will be used as IDs by NZ FHIR Servers, many will also use it as an identifiers</p>
</blockquote>
<p>Is it expected that FHIR servers will be required to assign a particular value to a <a href="http://Patient.id">Patient.id</a>?</p>



<a name="219808490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/219808490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#219808490">(Dec 14 2020 at 07:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191405">Rob Hausam</span> <a href="#narrow/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval/near/219797900">said</a>:</p>
<blockquote>
<p>The first one is going to be <code>GET [base]/Bundle?composition.patient.identifier=ABC2345&amp;composition.type=http://loinc.org|60591-5</code>, isn't it?  We need to start doing more testing on this - obviously a good topic to explore in the coming Connectathon.</p>
</blockquote>
<p>We did some quick trials at the last connectathon by using some of the available test servers <a href="https://confluence.hl7.org/pages/viewpage.action?pageId=91988343#id-202009IPSTrackFindings-PostingandQueryingIPS">these are some of the results</a> .. let's try to repeat them increasing the number of examples and specifying more in detail what we'd like to test.</p>



<a name="219808862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/219808862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#219808862">(Dec 14 2020 at 07:52)</a>:</h4>
<p>As you can see one server considered GET [base]/Bundle?composition.patient.identifier=XYZ ambiguous (<em>The chained search parameter 'composition.patient.identifier' is ambiguous</em>)  and expected that the GET [base]/   <br>
Bundle?composition.patient:Patient.identifier=XYZ would be used instead</p>



<a name="219811144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/219811144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#219811144">(Dec 14 2020 at 08:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191405">Rob Hausam</span> <a href="#narrow/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval/near/219797900">said</a>:</p>
<blockquote>
<p>The first one is going to be <code>GET [base]/Bundle?composition.patient.identifier=ABC2345&amp;composition.type=http://loinc.org|60591-5</code>, isn't it?  We need to start doing more testing on this - obviously a good topic to explore in the coming Connectathon.</p>
</blockquote>
<p>As patient.identifier has a cardinality 0...*, surely it needs to be a token (system|value) when used as a search parameter.   OTOH when the <a href="http://patient.id">patient.id</a> is used  as a search parameter, my understanding is that patient=id is sufficient. I would expect that a server that holds a patient resource to have assigned an id to it. I'd only expect to see a patient resource without an id when it's being POSTed by a client for the first time.</p>
<p>Agree with Grahame that an operation would be a more elegant way to request the current summary.</p>



<a name="219830325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/219830325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#219830325">(Dec 14 2020 at 11:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval/near/219797971">said</a>:</p>
<blockquote>
<p>is this just searching for past summaries? we should use an operation to get the current summary</p>
</blockquote>
<p>Are you thinking to an operation for document bundles ?  That would make for sure the life easier for retrieving IPS or other document bundles, beside generating them with the $document operation..</p>



<a name="219830626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/219830626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#219830626">(Dec 14 2020 at 11:55)</a>:</h4>
<p>possible search parameters might be </p>
<ul>
<li>patient business identifier</li>
<li>document code/class code</li>
<li>period (if not set = most recent)</li>
</ul>



<a name="219832298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/219832298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#219832298">(Dec 14 2020 at 12:12)</a>:</h4>
<p>you can search for existing ones, or explicitly generate them, but I think that the use case is that the requester doesn't know which is which, and shouldn't have to care. They just want a summary if it's available</p>



<a name="219832309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/219832309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#219832309">(Dec 14 2020 at 12:12)</a>:</h4>
<p>whether that means it is generated or not</p>



<a name="222929823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/222929823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#222929823">(Jan 15 2021 at 21:46)</a>:</h4>
<p>Outcome of connectathon discussion about dynamically retrieving an IPS:</p>
<div class="codehilite"><pre><span></span><code>GET Patient[/id]/$summary[?graph=xxx&amp;profile=xxx]

GET Patient/$summary?profile=http://hl7.org/fhir/uv/ips/StructureDefinition/Bundle-uv-ips&amp;identifier=
</code></pre></div>
<p>The summary operation asks the server to return the latest appropriate summary for the patient. The patient is either </p>
<ul>
<li>explicitly identified by the id of the patient resource</li>
<li>implicitly identified as the only patient in scope due to security/context</li>
<li>specified by other additional (unspecified here) parameters (or do we specify the identifier parameter?)</li>
</ul>
<p>This operation returns a bundle (type = document) for single patient.</p>



<a name="222930009"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/222930009" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#222930009">(Jan 15 2021 at 21:48)</a>:</h4>
<p>IPS would recommend that smart-app-launch is used to acquire the security tokens for the operation, but that's not part of the definition of the operation</p>



<a name="222930123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/222930123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#222930123">(Jan 15 2021 at 21:49)</a>:</h4>
<p>The operation asks for the latest appropriate summary, whether that already exists, or must be newly generated. Unless otherwise specified, the server has discretion to choose how to fulfill the request. We anticipate that there will be a profusion of business practices around currency/attestation, and therefore variance in parameters around that. If some consistency emerges, HL7 would consider adding additional parameters to the base definition</p>



<a name="222930251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/Query%20for%20IPS%20retrieval/near/222930251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/Query.20for.20IPS.20retrieval.html#222930251">(Jan 15 2021 at 21:50)</a>:</h4>
<p>IPS will define a profile on Bundle with the URL in the example above, so that an IPS can be reqested. In the absence of a profile parameter, server has discretion to construct/return a summary of it's choice</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
