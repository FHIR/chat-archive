---
layout: page
title: "FHIR Chat  · National valuesets and GPS. · IPS"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/index.html">IPS</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/National.20valuesets.20and.20GPS.2E.html">National valuesets and GPS.</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="263087060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/National%20valuesets%20and%20GPS./near/263087060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/National.20valuesets.20and.20GPS.2E.html#263087060">(Nov 30 2021 at 00:29)</a>:</h4>
<p>We've run into an interesting problem around IPS-compatible profiling in Canada. For many CodeableConcept elements, there is a slice with a required binding to SNOMED GPS. We have also added a slice bound to a SNOMED CT CA subset. However, these two valuesets overlap, and we can't discriminate. How are other jurisdictions dealing with the overlap between these value sets?<br>
We have considered creating "for profile use-only" value sets that include our published SNOMED CT CA valueset, but exclude GPS concepts, but before we implement this wanted to see if what the community approach is.</p>



<a name="263092517"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/National%20valuesets%20and%20GPS./near/263092517" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/National.20valuesets.20and.20GPS.2E.html#263092517">(Nov 30 2021 at 01:41)</a>:</h4>
<p>What happens if you define a Canadian profile that is not derived from IPS with the Canadian binding and require instances to conform to both your profile and IPS?</p>



<a name="263101704"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/National%20valuesets%20and%20GPS./near/263101704" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/National.20valuesets.20and.20GPS.2E.html#263101704">(Nov 30 2021 at 04:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191380">@Elliot Silver</span>  This is a good question.  I still think there is value in having these slices, which represent a choice of bindings (as opposed to creating large value sets that contain potentially everything under the sun, including likely multiple equivalent and overlapping codes).  But, if we keep these slices, maybe we should stop trying to discriminate on them in instance validation?  We could then allow - and even "embrace" - the overlap.  That would also allow us to not force the binding strength on the slices to be "required" - which has always seemed odd, and potentially is quite confusing.  These are just some musings at this point - curious about thoughts from others.</p>



<a name="263102955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/National%20valuesets%20and%20GPS./near/263102955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/National.20valuesets.20and.20GPS.2E.html#263102955">(Nov 30 2021 at 05:16)</a>:</h4>
<p>What I just proposed in my musing seems to go against the guidance <a href="#narrow/stream/179252-IG-creation/topic/slicing.20question.20for.20patterns.20on.20bindings">here</a>.  But should this possibility really be excluded?  At the least, if you don't specify a discriminator, maybe one of the things you are saying is that the slices don't <strong>have</strong> to be (and likely aren't intended to be) disjoint and discriminated against in instance validation?</p>



<a name="263350386"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/National%20valuesets%20and%20GPS./near/263350386" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/National.20valuesets.20and.20GPS.2E.html#263350386">(Dec 01 2021 at 20:06)</a>:</h4>
<p>That guidance is part of what raised this concern for us. I don't think you can do slicing without a discriminator, even if the discriminator is just text.</p>



<a name="263387924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/National%20valuesets%20and%20GPS./near/263387924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/National.20valuesets.20and.20GPS.2E.html#263387924">(Dec 02 2021 at 03:02)</a>:</h4>
<p>I don't think that is strictly true, <span class="user-mention" data-user-id="191380">@Elliot Silver</span>.  Having one or more discriminators is certainly strongly encouraged, but it isn't required.  The Definition of ElementDefinition.slicing.discriminator says (emphasis mine) "<strong>If</strong> one or more discriminators are provided ...".  In the Comments it says "If there is no discriminator, the content is hard to process, so this should be avoided."  And the eld-1 invariant on ElementDefinition.slicing is <code>If there are no discriminators, there must be a definition discriminator.exists() or description.exists()</code>.  So if we provide some text for ElementDefinition.slicing.description, that would satisfy the rule.  And I heard Lloyd make statements today during an IG review on the FMG call that indicate it is a <strong>possibility</strong> (even if not recommended) to have slices with overlapping content based on the value set bindings.</p>



<a name="263388017"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/National%20valuesets%20and%20GPS./near/263388017" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/National.20valuesets.20and.20GPS.2E.html#263388017">(Dec 02 2021 at 03:04)</a>:</h4>
<p>I want to go back to the start:</p>
<blockquote>
<p>We have also added a slice bound to a SNOMED CT CA subset. However, these two valuesets overlap, and we can't discriminate. How are other jurisdictions dealing with the overlap between these value sets?</p>
</blockquote>
<p>Why add a slice? what is it that you're trying to achieve here?</p>



<a name="263450113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/National%20valuesets%20and%20GPS./near/263450113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sheridan Cook <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/National.20valuesets.20and.20GPS.2E.html#263450113">(Dec 02 2021 at 15:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/207835-IPS/topic/National.20valuesets.20and.20GPS.2E/near/263388017">said</a>:</p>
<blockquote>
<p>I want to go back to the start:</p>
<blockquote>
<p>We have also added a slice bound to a SNOMED CT CA subset. However, these two valuesets overlap, and we can't discriminate. How are other jurisdictions dealing with the overlap between these value sets?</p>
</blockquote>
<p>Why add a slice? what is it that you're trying to achieve here?</p>
</blockquote>
<p>We're writing a national implementation guide in Canada, that covers cross-border + cross-jurisdiction exchange. Within some jurisdictions terminology is standardized but across jurisdictions multiple standards exist (SNOMED CT CA, ICD 9 CM, etc) and many are still using local codes/free text. </p>
<p>Purpose is two fold - 1) Educate and encourage the use of known nationally standardized value sets in derivative guides, 2) we'd like to eventually use the slices to help differentiate which systems are properly using GPS, SNOMED CT Canadian Extension, ICD9 from those that don't match any slice &amp; are entirely local code systems/free text.</p>



<a name="263450678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/National%20valuesets%20and%20GPS./near/263450678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sheridan Cook <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/National.20valuesets.20and.20GPS.2E.html#263450678">(Dec 02 2021 at 15:08)</a>:</h4>
<p>Has anyone else run into this problem? Trying to manually isolate GPS codes from the SNOMED CT CA content every release seems like an unnecessary burden on our Terminology Gateway just to get around a slicing discriminator. We're considering adding an exclude statement to the SNOMED CT CA value set and calling out any of the GPS codes as exclusions - but hoping for a more sophisticated solution.</p>



<a name="263473770"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/National%20valuesets%20and%20GPS./near/263473770" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/National.20valuesets.20and.20GPS.2E.html#263473770">(Dec 02 2021 at 17:38)</a>:</h4>
<p>You can define a valueset that explicitly excludes another value set - that'd be one way to avoid overlap.</p>



<a name="263478364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/National%20valuesets%20and%20GPS./near/263478364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/National.20valuesets.20and.20GPS.2E.html#263478364">(Dec 02 2021 at 18:11)</a>:</h4>
<p>I don't really understand why you're imposing an operational price on systems when you could just ask them when they connect to the system</p>



<a name="263478549"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/National%20valuesets%20and%20GPS./near/263478549" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/National.20valuesets.20and.20GPS.2E.html#263478549">(Dec 02 2021 at 18:12)</a>:</h4>
<p>I expected you to say 'we are using the canadian version of snomed internally, and we don't want to lose the canadian code when we also provide a GPS code'.</p>



<a name="263478768"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/National%20valuesets%20and%20GPS./near/263478768" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/National.20valuesets.20and.20GPS.2E.html#263478768">(Dec 02 2021 at 18:14)</a>:</h4>
<p>GPS is based on the international SCT version, so I expected to say, 'how on earth could receiving systems tell which code is which when they read the document?' and that the only possible answer is 'you'd have to put require the snomed version in the ca slice, and add a discriminator based on .coding.version'</p>



<a name="263478984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207835-IPS/topic/National%20valuesets%20and%20GPS./near/263478984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/207835-IPS/topic/National.20valuesets.20and.20GPS.2E.html#263478984">(Dec 02 2021 at 18:16)</a>:</h4>
<p>but maybe what you're doing is off in a different direction, and it's too hard for a receiving a system to sort that out, and they can only know that it's not the canadian SCT version code because they looked in the SCT-ca edition and didn't find it? In which case, there's no discriminator and you need to write a policy statement, not use slices</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
