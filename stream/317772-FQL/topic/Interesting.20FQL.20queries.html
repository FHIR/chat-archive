---
layout: page
title: "FHIR Chat  · Interesting FQL queries · FQL"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/317772-FQL/index.html">FQL</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/317772-FQL/topic/Interesting.20FQL.20queries.html">Interesting FQL queries</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="274685602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/317772-FQL/topic/Interesting%20FQL%20queries/near/274685602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/317772-FQL/topic/Interesting.20FQL.20queries.html#274685602">(Mar 09 2022 at 13:18)</a>:</h4>
<p>This is a nice example query, demonstrating how to use FQL for quality control:</p>
<div class="codehilite" data-code-language="fql"><pre><span></span><code>from
    StructureDefinition
group by
    publisher
select
    publisher,
    count: group.count()
order by
     count desc
</code></pre></div>
<p>The example queries here for the <a href="https://simplifier.net/fql/share?session=5Gy-Lz__0ieE92obxkGgT0s-i4yhWh1lHI3V4bAtb2rpCeu1EGIhsp6TrjAWWnn6iZSjLDETqIXmbGoQUyt0qyIQC6Ui6x2ufNcHGYpEJBkrG2B3j6GvMNIaJVUuDDqjeeoELYGgqhQLl3VPvJm1SZlGZ7PRYt1tspm5ujulQQooxyU4CcKn__3bKqG9jIz06PzsW6nccwiXPOlbzVUjERlRhVHhkKavAvDibgxPpZk">core STU3</a> and <a href="https://simplifier.net/fql/share?session=5Gy-Lz__0ieE92obxkGgT4wwfn4EjX8jme9HIPawBpnh9iuIGxdw63nrUuhmOob_RT7RUhEyaHVqg5JPAUGsH_T9izoNPgelDq91ocDzcPPbwzOvE0glhOJb6eKO1fPsm-GpG47kxSQixVebSb973521v3eZzWzaZHAW_VoEoFcPRCoW7XDx14_6Sd0gvVMNaSzv4THn0LoAvmTMLKkO3D0AeagsdBAJOmA2GNbjm5c">core R4</a> specifications, for example, show that there's a substantial number of resources that still have the template <code>Health Level Seven, Inc. - [WG Name] WG</code> as their publisher.</p>



<a name="275690990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/317772-FQL/topic/Interesting%20FQL%20queries/near/275690990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/317772-FQL/topic/Interesting.20FQL.20queries.html#275690990">(Mar 17 2022 at 16:51)</a>:</h4>
<p>Here's how to get a count for all StructureDefinitions by type from the core package: <a href="https://simplifier.net/fql/share?session=5Gy-Lz__0ieE92obxkGgT4wwfn4EjX8jme9HIPawBpnh9iuIGxdw63nrUuhmOob_RT7RUhEyaHVqg5JPAUGsHw1K3lEmdQod7e5n2JgnKz0uFE7M3IXs5X3TQiTT3TjYH7IY4o6QTZ-FhwO3RgkTMNtVQCvoruEAQE5-yxHWkyf96PkYn6IQRPqSjw20Mkehh5fZYEnrVUFHNWp5b5_JxYmm8Ff26lrUHCMwdUsyuVc">https://simplifier.net/fql/share?session=5Gy-Lz__0ieE92obxkGgT4wwfn4EjX8jme9HIPawBpnh9iuIGxdw63nrUuhmOob_RT7RUhEyaHVqg5JPAUGsHw1K3lEmdQod7e5n2JgnKz0uFE7M3IXs5X3TQiTT3TjYH7IY4o6QTZ-FhwO3RgkTMNtVQCvoruEAQE5-yxHWkyf96PkYn6IQRPqSjw20Mkehh5fZYEnrVUFHNWp5b5_JxYmm8Ff26lrUHCMwdUsyuVc</a></p>



<a name="276031547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/317772-FQL/topic/Interesting%20FQL%20queries/near/276031547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/317772-FQL/topic/Interesting.20FQL.20queries.html#276031547">(Mar 21 2022 at 10:40)</a>:</h4>
<p>A query to check how common different base URLs are for CodeSystems in the core spec:</p>
<div class="codehilite" data-code-language="fql"><pre><span></span><code>from
    CodeSystem
select
    baseurl: url.split('/').skip(1).first()
group by
    baseurl
select
    baseurl,
    count: group.count()
order by
    count desc
</code></pre></div>
<p><a href="https://simplifier.net/fql/share?session=5Gy-Lz__0ieE92obxkGgT4wwfn4EjX8jme9HIPawBpkRh-1_K7oVbOaI3Bu3bpvYW0_sLm539qM8vdIOhwyGFxUHYgRKktN-obpDV-u_H249AvdZRcg00X4qMvOLbXkWfj7r6sfkkjNg-BivSvYCsYSdzzU7DToYx9BcEl5yWrvrGGuOeYk8gsGDFWyx8G-jVRQfUTlTZ6lJ4alwenm7MjrYyNYgg8qcGNSLV32P57DYxtvmsLL228rrub93ihiCEdWPuHp0PsMudI_lParvLQ">See it in action here</a></p>
<p>Note that FQL has a pipeline structure, so you can use multiple selects after each other.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
