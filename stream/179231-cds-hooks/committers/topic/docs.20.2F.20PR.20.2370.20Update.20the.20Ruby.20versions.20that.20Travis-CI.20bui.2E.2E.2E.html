---
layout: page
title: "FHIR Chat  · docs / PR #70 Update the Ruby versions that Travis-CI bui... · cds hooks/committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179231-cds-hooks/committers/index.html">cds hooks/committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179231-cds-hooks/committers/topic/docs.20.2F.20PR.20.2370.20Update.20the.20Ruby.20versions.20that.20Travis-CI.20bui.2E.2E.2E.html">docs / PR #70 Update the Ruby versions that Travis-CI bui...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153898277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179231-cds%20hooks/committers/topic/docs%20/%20PR%20%2370%20Update%20the%20Ruby%20versions%20that%20Travis-CI%20bui.../near/153898277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179231-cds-hooks/committers/topic/docs.20.2F.20PR.20.2370.20Update.20the.20Ruby.20versions.20that.20Travis-CI.20bui.2E.2E.2E.html#153898277">(Jul 26 2017 at 07:22)</a>:</h4>
<p>kpshek opened <a href="https://github.com/cds-hooks/docs/pull/70" target="_blank" title="https://github.com/cds-hooks/docs/pull/70">PR #70</a><br>
from <code>tweak-ruby-version-travisci</code> to <code>master</code></p>
<blockquote>
<p>Update the Ruby versions that Travis-CI builds use to avoid errors during builds for missing Rubies. Additionally, by specifying just the major and minor version and not the revision (eg, 2.3 instead of 2.3.0), this will allow Travis to use the latest revision/patch during builds.</p>
<p>This should fix the <a href="https://travis-ci.org/cds-hooks/docs/jobs/257608496" target="_blank" title="https://travis-ci.org/cds-hooks/docs/jobs/257608496">recent Travis-CI build failures</a>:</p>
<div class="codehilite"><pre><span></span>5.72s$ rvm use 2.1.0 --install --binary --fuzzy
ruby-2.1.0 is not installed - installing.
Searching for binary rubies, this might take some time.
Requested binary installation but no rubies are available to download, consider skipping --binary flag.
Gemset &#39;&#39; does not exist, &#39;rvm ruby-2.1.0 do rvm gemset create &#39; first, or append &#39;--create&#39;.
The command &quot;rvm use 2.1.0 --install --binary --fuzzy&quot; failed and exited with 2 during .
Your build has been stopped.
</pre></div>


</blockquote>



<a name="153898283"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179231-cds%20hooks/committers/topic/docs%20/%20PR%20%2370%20Update%20the%20Ruby%20versions%20that%20Travis-CI%20bui.../near/153898283" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179231-cds-hooks/committers/topic/docs.20.2F.20PR.20.2370.20Update.20the.20Ruby.20versions.20that.20Travis-CI.20bui.2E.2E.2E.html#153898283">(Jul 26 2017 at 07:28)</a>:</h4>
<p>kpshek synchronized <a href="https://github.com/cds-hooks/docs/pull/70" target="_blank" title="https://github.com/cds-hooks/docs/pull/70">PR #70</a></p>



<a name="153898286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179231-cds%20hooks/committers/topic/docs%20/%20PR%20%2370%20Update%20the%20Ruby%20versions%20that%20Travis-CI%20bui.../near/153898286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179231-cds-hooks/committers/topic/docs.20.2F.20PR.20.2370.20Update.20the.20Ruby.20versions.20that.20Travis-CI.20bui.2E.2E.2E.html#153898286">(Jul 26 2017 at 07:36)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/docs/pull/70#issuecomment-317973814" target="_blank" title="https://github.com/cds-hooks/docs/pull/70#issuecomment-317973814">commented</a> on <a href="https://github.com/cds-hooks/docs/pull/70" target="_blank" title="https://github.com/cds-hooks/docs/pull/70">PR #70</a></p>
<blockquote>
<p>For some reason, the Travis CI builds started failing as the Travis build machines could not find a precompiled Ruby 2.1.0. In researching this error, I found that the <a href="https://github.com/travis-ci/travis-ci/issues/2220" target="_blank" title="https://github.com/travis-ci/travis-ci/issues/2220">best practice</a> is to reference Ruby versions up to the minor release (eg, 2.1 instead of 2.1.0) and let Travis choose the latest Ruby on that minor release.</p>
<p>Previously, we were building with both 2.0.0 and 2.1.0. This pull request changes that to simply 2.3 (so 2.3.x). I tried also building with 2.4 (so 2.4.x) but version of the json gem we're pulling in doesn't support Ruby 2.4 (see <a href="https://github.com/flori/json/issues/303" target="_blank" title="https://github.com/flori/json/issues/303">https://github.com/flori/json/issues/303</a>).</p>
<p>I'm going to merge these changes into master and sync all branches so that the Travis CI builds start passing again.</p>
</blockquote>



<a name="153898287"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179231-cds%20hooks/committers/topic/docs%20/%20PR%20%2370%20Update%20the%20Ruby%20versions%20that%20Travis-CI%20bui.../near/153898287" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179231-cds-hooks/committers/topic/docs.20.2F.20PR.20.2370.20Update.20the.20Ruby.20versions.20that.20Travis-CI.20bui.2E.2E.2E.html#153898287">(Jul 26 2017 at 07:36)</a>:</h4>
<p>kpshek closed <a href="https://github.com/cds-hooks/docs/pull/70" target="_blank" title="https://github.com/cds-hooks/docs/pull/70">PR #70</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
