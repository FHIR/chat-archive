---
layout: page
title: "FHIR Chat  · Running the transformer.... · CCDA / FHIR mapping stream"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179273-CCDA-/-FHIR-mapping-stream/index.html">CCDA / FHIR mapping stream</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179273-CCDA-/-FHIR-mapping-stream/topic/Running.20the.20transformer.2E.2E.2E.2E.html">Running the transformer....</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153956004"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179273-CCDA%20/%20FHIR%20mapping%20stream/topic/Running%20the%20transformer..../near/153956004" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179273-CCDA-/-FHIR-mapping-stream/topic/Running.20the.20transformer.2E.2E.2E.2E.html#153956004">(May 04 2018 at 19:03)</a>:</h4>
<p>I'm sure that I'm <em>this</em> close to getting the transformer to run with my maps, but there is something wrong and I don't get much of an error response back:<br>
Start Transform <a href="http://hl7.org/fhir/cda/mapping/dischargeSummaryDocument" target="_blank" title="http://hl7.org/fhir/cda/mapping/dischargeSummaryDocument">http://hl7.org/fhir/cda/mapping/dischargeSummaryDocument</a><br>
Group : Bundle<br>
  rule : "rule_type"<br>
 ...Failure: null</p>
<p>I made a simple map that has just one rule that sets a target variable to a constant:</p>
<p>map "<a href="http://hl7.org/fhir/cda/mapping/dischargeSummaryDocument" target="_blank" title="http://hl7.org/fhir/cda/mapping/dischargeSummaryDocument">http://hl7.org/fhir/cda/mapping/dischargeSummaryDocument</a>" = "DischangeSummaryDocument from CDA to FHIR"</p>
<p>uses "<a href="http://hl7.org/fhir/cda/StructureDefinition/ClinicalDocument" target="_blank" title="http://hl7.org/fhir/cda/StructureDefinition/ClinicalDocument">http://hl7.org/fhir/cda/StructureDefinition/ClinicalDocument</a>" alias ClinicalDocument as source<br>
uses "<a href="http://hl7.org/fhir/StructureDefinition/Bundle" target="_blank" title="http://hl7.org/fhir/StructureDefinition/Bundle">http://hl7.org/fhir/StructureDefinition/Bundle</a>" alias Bundle as target</p>
<p>group for type+types Bundle<br>
    input "source" : ClinicalDocument as source<br>
    input "target" : Bundle as target</p>
<div class="codehilite"><pre><span></span>&quot;rule_type&quot;: for source make target.type = &quot;document&quot;
</pre></div>


<p>The "Failure: null" is less than helpful so I'm wondering if it has something to do with not being able to create a Bundle resource as a target?</p>



<a name="153956007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179273-CCDA%20/%20FHIR%20mapping%20stream/topic/Running%20the%20transformer..../near/153956007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179273-CCDA-/-FHIR-mapping-stream/topic/Running.20the.20transformer.2E.2E.2E.2E.html#153956007">(May 04 2018 at 19:16)</a>:</h4>
<p>Have you tried running it in Eclipse so you can see where it's erroring?</p>



<a name="153956008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179273-CCDA%20/%20FHIR%20mapping%20stream/topic/Running%20the%20transformer..../near/153956008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179273-CCDA-/-FHIR-mapping-stream/topic/Running.20the.20transformer.2E.2E.2E.2E.html#153956008">(May 04 2018 at 19:17)</a>:</h4>
<p>no.  running it from the command-line using the pre-built jar</p>



<a name="153956038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179273-CCDA%20/%20FHIR%20mapping%20stream/topic/Running%20the%20transformer..../near/153956038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179273-CCDA-/-FHIR-mapping-stream/topic/Running.20the.20transformer.2E.2E.2E.2E.html#153956038">(May 04 2018 at 20:20)</a>:</h4>
<p>okay, ran it from Eclipse and StructureMapUtilities line 1509 is throwing a FHIRException but gets a NullPointer when it's trying to create the exception text.</p>



<a name="153956042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179273-CCDA%20/%20FHIR%20mapping%20stream/topic/Running%20the%20transformer..../near/153956042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179273-CCDA-/-FHIR-mapping-stream/topic/Running.20the.20transformer.2E.2E.2E.2E.html#153956042">(May 04 2018 at 20:21)</a>:</h4>
<p>if someone can let me know what it's looking for and what I'm not providing, that would be great.</p>



<a name="153956080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179273-CCDA%20/%20FHIR%20mapping%20stream/topic/Running%20the%20transformer..../near/153956080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179273-CCDA-/-FHIR-mapping-stream/topic/Running.20the.20transformer.2E.2E.2E.2E.html#153956080">(May 05 2018 at 03:23)</a>:</h4>
<p>not sure which variable is null at line 1509. but your map requires that the bundle already exists - if you're using the validator, it doesn't already exist</p>



<a name="153956081"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179273-CCDA%20/%20FHIR%20mapping%20stream/topic/Running%20the%20transformer..../near/153956081" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179273-CCDA-/-FHIR-mapping-stream/topic/Running.20the.20transformer.2E.2E.2E.2E.html#153956081">(May 05 2018 at 03:23)</a>:</h4>
<p>that's why the first item of detail in the maps I wrote to get going with is to create the bundle. Can you start from my maps?</p>



<a name="153956206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179273-CCDA%20/%20FHIR%20mapping%20stream/topic/Running%20the%20transformer..../near/153956206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179273-CCDA-/-FHIR-mapping-stream/topic/Running.20the.20transformer.2E.2E.2E.2E.html#153956206">(May 05 2018 at 21:51)</a>:</h4>
<p>If I had your maps I could.  I don’t see any mapping files in the projects I’ve been told about</p>



<a name="153956240"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179273-CCDA%20/%20FHIR%20mapping%20stream/topic/Running%20the%20transformer..../near/153956240" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179273-CCDA-/-FHIR-mapping-stream/topic/Running.20the.20transformer.2E.2E.2E.2E.html#153956240">(May 06 2018 at 03:18)</a>:</h4>
<p><a href="https://github.com/HL7/ccda-on-fhir/resources/maps" target="_blank" title="https://github.com/HL7/ccda-on-fhir/resources/maps">https://github.com/HL7/ccda-on-fhir/resources/maps</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
