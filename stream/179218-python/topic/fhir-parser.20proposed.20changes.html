---
layout: page
title: "FHIR Chat  · fhir-parser proposed changes · python"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179218-python/index.html">python</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179218-python/topic/fhir-parser.20proposed.20changes.html">fhir-parser proposed changes</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153957605"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179218-python/topic/fhir-parser%20proposed%20changes/near/153957605" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Geoff Low <a href="https://fhir.github.io/chat-archive/stream/179218-python/topic/fhir-parser.20proposed.20changes.html#153957605">(May 10 2018 at 14:10)</a>:</h4>
<p>I'm adding a few features to the fhir-parser module; wanted to road-test some of the ideas - these will be on my fork (<a href="https://github.com/glow-mdsol/fhir-parser" target="_blank" title="https://github.com/glow-mdsol/fhir-parser">https://github.com/glow-mdsol/fhir-parser</a>)</p>
<ul>
<li>Adding a version lookup for the FHIR version (screen scraping directory for the moment)</li>
<li>Allow choice of FHIR version using the version id (eg 3.3.1 or 'latest commit')</li>
<li>Adding an option to version the output (ie models/3_3_0/*.py) (also versions the cache)</li>
<li>Added top level files to the models folder; <code>requirements.txt</code> with the <code>isodate</code> dependency and  <code>__init__.py</code> to the model folder with the following (generated by the <code>version.info</code>):</li>
</ul>
<div class="codehilite"><pre><span></span>FHIR_VERSION = &#39;3.4.0&#39;
FHIR_REVISION = &#39;13753&#39;
FHIR_VERSION_DATE = &#39;20180509170734&#39;
</pre></div>


<ul>
<li>Allow passing of the settings module as a command line option <code>python generate.py -s Default/settings</code></li>
<li>Generate the <code>CodeSystemValue</code> as an enum - tagging the System URL and whether the CodeSystem is tagged as experimental</li>
<li>Couple of other small changes - will be happy to talk about ideas at the connectathon<br>
<span class="user-mention" data-user-id="191339">@Pascal Pfiffner</span> - FYI</li>
</ul>



<a name="153957618"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179218-python/topic/fhir-parser%20proposed%20changes/near/153957618" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Geoff Low <a href="https://fhir.github.io/chat-archive/stream/179218-python/topic/fhir-parser.20proposed.20changes.html#153957618">(May 10 2018 at 15:15)</a>:</h4>
<p>Pushed to <a href="https://github.com/glow-mdsol/fhir-parser/tree/feature/refactor_modules" target="_blank" title="https://github.com/glow-mdsol/fhir-parser/tree/feature/refactor_modules">https://github.com/glow-mdsol/fhir-parser/tree/feature/refactor_modules</a></p>



<a name="153957691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179218-python/topic/fhir-parser%20proposed%20changes/near/153957691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179218-python/topic/fhir-parser.20proposed.20changes.html#153957691">(May 10 2018 at 22:39)</a>:</h4>
<p>Cool, thanks <span class="user-mention" data-user-id="192121">@Geoff Low</span>, sounds great!! Just to note as to why the parser has the version hard-coded: the definition is not backwards compatible since StructureDefinition changed over the releases. I think from STU-3 on forward it may not require changes, but for example the parser parsing DSTU-2 does not work for STU-3 definitions without changes and vice versa.</p>
<p>Also, note that the intended use for fhir-parser to be used as a submodule and have the parent module provide the settings. For example the Swift-FHIR library has its own fhir-parser settings and has a script which starts by coping the settings: <a href="https://github.com/smart-on-fhir/Swift-FHIR/blob/master/generate.sh" target="_blank" title="https://github.com/smart-on-fhir/Swift-FHIR/blob/master/generate.sh">https://github.com/smart-on-fhir/Swift-FHIR/blob/master/generate.sh</a></p>



<a name="153957732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179218-python/topic/fhir-parser%20proposed%20changes/near/153957732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Geoff Low <a href="https://fhir.github.io/chat-archive/stream/179218-python/topic/fhir-parser.20proposed.20changes.html#153957732">(May 11 2018 at 09:13)</a>:</h4>
<p>Hmm, ok.  Need to rethink my approach.</p>



<a name="153957927"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179218-python/topic/fhir-parser%20proposed%20changes/near/153957927" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179218-python/topic/fhir-parser.20proposed.20changes.html#153957927">(May 11 2018 at 16:47)</a>:</h4>
<p>once we have R4 normative, structure definition won't change. But to help with situtations like this, the definitions for any version are available in any version - e.g. you can get the definitions for R3 in R2 format, or vice versa</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
